{"config":{"lang":["en","ja"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"Hello word!","text":"<ul> <li> <p>\u8fd9\u91cc\u662fTKDO\u7684\u4e2a\u4eba\u7f51\u7ad9 https://tkdo.github.io</p> </li> <li> <p>\u901a\u8fc7\u4e3b\u9898\u548c\u76ee\u5f55\u4ee5\u6253\u5f00\u6587\u7ae0</p> <ul> <li>tkdo \u4ed6\u53ef\u6bd2</li> <li>bilibili tkdo</li> <li>github tkdo</li> <li>PC\u7aef \u5728\u4e0a\u65b9\u6807\u7b7e\u680f\u9009\u62e9\u4e3b\u9898 \u5728\u5de6\u4fa7\u76ee\u5f55\u9009\u62e9\u6587\u7ae0</li> <li>\u79fb\u52a8\u7aef \u70b9\u51fb\u5de6\u4e0a\u89d2\u56fe\u6807\u9009\u62e9\u4e3b\u9898\u548c\u6587\u7ae0</li> </ul> </li> <li> <p>\u641c\u7d22\u5173\u952e\u8bcd\u4ee5\u6253\u5f00\u6587\u7ae0</p> </li> </ul>"},{"location":"about/","title":"\u4f60\u597d","text":"<p>\u8fd9\u91cc\u662fTKDO\u7684\u4e2a\u4eba\u7f51\u7ad9 https://tkdo.github.io</p> <ul> <li>\u901a\u8fc7\u4e3b\u9898\u548c\u76ee\u5f55\u4ee5\u6253\u5f00\u6587\u7ae0<ul> <li>PC\u7aef \u5728\u4e0a\u65b9\u6807\u7b7e\u680f\u9009\u62e9\u4e3b\u9898 \u5728\u5de6\u4fa7\u76ee\u5f55\u9009\u62e9\u6587\u7ae0</li> <li>\u79fb\u52a8\u7aef \u70b9\u51fb\u5de6\u4e0a\u89d2\u56fe\u6807\u9009\u62e9\u4e3b\u9898\u548c\u6587\u7ae0</li> </ul> </li> <li>\u641c\u7d22\u5173\u952e\u8bcd\u4ee5\u6253\u5f00\u6587\u7ae0</li> </ul>"},{"location":"about/build/","title":"\u7f51\u7ad9\u6784\u5efa\u8bf4\u660e","text":""},{"location":"about/build/#_2","title":"\u4ecb\u7ecd","text":"<p>\u6211\u4f7f\u7528 Material for MkDocs \u5c06 <code>Markdown\u6587\u4ef6</code> \u6e32\u67d3\u4e3a <code>HTML\u7f51\u9875</code> \u5e76\u4f7f\u7528 <code>GitHub Pages</code> \u8fdb\u884c\u53d1\u5e03</p> <p>Material for MkDocs \u6587\u6863</p> <p>\u8be6\u60c5\u53ef\u4ee5\u67e5\u770bGitHub Pages \u4e2a\u4eba\u7f51\u7ad9\u6784\u5efa\u4e0e\u53d1\u5e03</p>"},{"location":"about/build/#_3","title":"\u4ed3\u5e93","text":"<p>\u6b64\u7f51\u7ad9\u7684 Markdown\u6e90\u6587\u4ef6 \u5b58\u50a8\u5728 tkdo/tkdo.github.io</p> <p>\u5982\u679c\u4f60\u5e0c\u671b\u63d0\u51fa\u4e00\u4e9b\u5efa\u8bae\uff0c\u53ef\u4ee5\uff1a</p> <ul> <li>\u5728 Issues\u677f\u5757 \u63d0\u51fa\u95ee\u9898</li> <li>\u5728 Pull requests\u677f\u5757 \u4fee\u6539\u6e90\u6587\u4ef6</li> <li>\u70b9\u51fb\u6587\u7ae0\u6807\u9898\u53f3\u4fa7\u7684\u7f16\u8f91\u6309\u94ae\u5bf9\u6587\u7ae0\u8fdb\u884c\u4fee\u6539</li> </ul>"},{"location":"about/help/","title":"\u6587\u7ae0\u7f16\u5199\u5e2e\u52a9","text":""},{"location":"about/help/#_2","title":"\u8bed\u8a00\u652f\u6301","text":"<p>\u5e76\u4e0d\u652f\u6301\u82f1\u6587 \u56e0\u4e3a\u6587\u7ae0\u4e3b\u8981\u4f7f\u7528\u4e2d\u6587 \u8bbf\u95ee\u8005\u4e3b\u8981\u662f\u4e2d\u56fd\u4eba</p>"},{"location":"about/help/#index","title":"index","text":"<p>\u6700\u5f00\u59cb\u6253\u5f00\u7f51\u7ad9 \u4e5f\u5c31\u662f\u901a\u8fc7\u94fe\u63a5 https://tkdo.github.io/ \u8bbf\u95ee\u65f6 \u4f1a\u5148\u6253\u5f00 <code>/docs/index.md</code> \u8fd9\u65f6\u8bbf\u95ee\u8005\u70b9\u51fb\u5de6\u4e0a\u89d2\u6309\u94ae\u5c55\u5f00\u76ee\u5f55\u4f1a\u5148\u770b\u5230\u5927\u7684\u5206\u7c7b</p> <p>\u56e0\u4e3a\u4e0d\u5e0c\u671b\u7528\u6237\u4e4b\u540e\u627e\u4e0d\u5230\u8fd9\u4e2a\u9875\u9762 \u6240\u4ee5 <code>/docs/ABOUT/index.md</code> \u4e0b\u9762\u7684\u5185\u5bb9\u4e0e <code>/docs/index.md</code> \u7684\u5185\u5bb9\u4e00\u81f4</p> <p>\u6bcf\u4e2anav\u7684tab\u4e0b\u6709\u4e00\u4e2a<code>index.md</code> \u70b9\u51fbtab\u4f1a\u5148\u8df3\u8f6c\u5230\u8fd9\u4e9b<code>index.md</code></p> <p>\u6240\u4ee5 \u5982\u4e0b\u63d0\u793a\u53ef\u4ee5\u5ffd\u7565\uff1a</p> <pre><code>INFO - The following pages exist in the docs directory, but are not included in the \"nav\" configuration:\n     - index.md\n</code></pre>"},{"location":"about/help/#metadata","title":"metadata","text":"<pre><code>---\ntitle: &lt;title&gt;\ndescription: &lt;description&gt;\ntags:\n  - &lt;tag1&gt;\n  - &lt;tag2&gt;\n---\n</code></pre>"},{"location":"about/help/#title","title":"title","text":"<p>\u6709\u4e09\u4e2a\u6807\u9898:</p> <ul> <li><code>nav-title</code>: \u5728<code>mkdocs.yml</code>\u7684<code>nav</code>\u4e2d\u6307\u5b9a\u7684\u6807\u9898<ul> <li>\u5bfc\u822a\u65f6\u663e\u793a\u7684\u6807\u9898 \u53ef\u4ee5\u56e0\u4e3a\u5c42\u6b21\u7ed3\u6784\u800c\u7701\u7565</li> </ul> </li> <li><code>meta-title</code>: \u6587\u7ae0\u5728\u6700\u4e0a\u65b9\u901a\u8fc7<code>---</code>\u6bb5\u8bbe\u7f6e\u7684\u6807\u9898<ul> <li>\u4e0b\u6ed1\u540e\u51fa\u73b0\u7684\u6807\u9898\u4e3a\u6b64\u6807\u9898</li> </ul> </li> <li><code>h1-title</code>: \u6587\u7ae0\u7b2c\u4e00\u4e2a#\u6807\u9898<ul> <li>\u53ea\u80fd\u6709\u4e00\u4e2a \u6216\u8005\u6574\u7bc7\u6587\u7ae0\u90fd\u6ca1\u6709 \u53c2\u8003 \u5426\u5219\u53f3\u4fa7\u76ee\u5f55\u65e0\u6cd5\u6b63\u5e38\u663e\u793a</li> <li>\u5982\u679c\u8bbe\u7f6e\u4e86<code>---</code>\u6bb5\u7684\u6807\u9898 \u53ef\u4ee5\u4e0d\u4f7f\u7528 </li> <li>\u5982\u679c\u672a\u8bbe\u7f6e<code>---</code>\u6bb5\u7684\u6807\u9898 \u4e0b\u6ed1\u540e\u51fa\u73b0\u7684\u6807\u9898\u4e3anav\u7684\u6807\u9898</li> <li>\u5982\u679c\u6ca1\u6709\u8fd9\u4e2a\u6807\u9898 \u4f1a\u81ea\u52a8\u5c06nav\u7684\u6807\u9898\u62ff\u8fc7\u6765</li> </ul> </li> </ul> <p>\u63a8\u8350\u7684\u4f7f\u7528\u65b9\u6cd5\u662f \u8bbe\u7f6e\u7b80\u6d01\u7684<code>nav-title</code>\u7528\u6765\u5bfc\u822a <code>meta-title</code>\u548c<code>h1-title</code>\u4f7f\u7528\u76f8\u540c\u7684\u6807\u9898\u8868\u8ff0\u6587\u7ae0\u5185\u5bb9</p>"},{"location":"about/help/#_3","title":"\u56fe\u7247","text":"<pre><code>![](./media/xxx.png){ width=\"300\" }\n</code></pre> <p>\u6ce8\u610f\u6709\u4e9b\u5916\u94fe\u56fe\u7247\u6ca1\u6709token\u662f\u65e0\u6cd5\u76f4\u63a5\u83b7\u53d6\u7684...</p>"},{"location":"about/support/","title":"\u652f\u6301\u4f5c\u8005","text":"<p>\u53ef\u4ee5\u7684\u8bdd \u8bf7\u6211\u559d\u4e00\u676f\u5496\u5561\u5427</p> <p>\u652f\u4ed8\u5b9d Alipay</p> <p>\u5fae\u4fe1\u652f\u4ed8 WeChat Pay</p>"},{"location":"about/test/","title":"\u6d4b\u8bd5\u6587\u6863","text":"<p>Here is an inline example, \\(\\pi(\\theta)\\), </p> <p>an equation,</p> \\[\\nabla f(x) \\in \\mathbb{R}^n,\\] <p>and a regular $ symbol.</p> <p></p> <p>https://github.com/tkdo/tkdo.github.io</p> <p>https://github.com/tkdo/tkdo.github.io</p> <p>bold iiii</p> <p>\\(\\vec{a}\\) \\(\\vec a\\)</p> <p>\\(\\boldsymbol u\\) \\(\\boldsymbol{a}\\)</p> <ul> <li> <p>1                 xx                 xx                 xxx                 xxx</p> <ul> <li>2<ul> <li>3<ul> <li>4</li> </ul> </li> </ul> </li> <li>1</li> <li>2<ul> <li>3<ul> <li>4</li> </ul> </li> </ul> </li> </ul> </li> </ul> tf.reshap <pre><code>&gt;&gt;&gt; x = tf.constant([\n    [[1,1],[2,2],[3,3],[4,4],[5,5]], \n    [[1,1],[2,2],[3,3],[4,4],[5,5]], \n    [[1,1],[2,2],[3,3],[4,4],[5,5]]])\n&gt;&gt;&gt; x \n&lt;tf.Tensor: id=0, shape=(3, 5, 2), dtype=int32&gt;\n&gt;&gt;&gt; tf.reshape(x, shape=[-1, 10])\n&lt;tf.Tensor: id=3, shape=(3, 10), dtype=int32, numpy=\narray([[1, 1, 2, 2, 3, 3, 4, 4, 5, 5],\n       [1, 1, 2, 2, 3, 3, 4, 4, 5, 5],\n       [1, 1, 2, 2, 3, 3, 4, 4, 5, 5]], dtype=int32)&gt;\n\nx = tf.constant([\n    [[1,2,3,4], [1,2,3,4]], \n    [[1,2,3,4], [1,2,3,4]]])\n&gt;&gt;&gt; x\n&lt;tf.Tensor: id=7, shape=(2, 2, 4), dtype=int32&gt;\n&gt;&gt;&gt; tf.reshape(x, shape=[-1, 4])\n&lt;tf.Tensor: id=10, shape=(4, 4), dtype=int32, numpy=\narray([[1, 2, 3, 4],\n       [1, 2, 3, 4],\n       [1, 2, 3, 4],\n       [1, 2, 3, 4]], dtype=int32)&gt;\n</code></pre> CC++ <pre><code>#include&lt;stdio.h&gt;\n\nint main() {\n  printf(\"Hello World!\\n\");\n  return 0;\n}\n</code></pre> <pre><code>#include&lt;iostream&gt;\n\nint main() {\n  std::cout &lt;&lt; \"Hello World!\" &lt;&lt; std::endl;\n  return 0;\n}\n</code></pre>"},{"location":"algorithm/","title":"\u7f16\u7a0b\u80fd\u529b","text":"<p>\u70b9\u51fb\u5de6\u4fa7\u76ee\u5f55\u6253\u5f00\u6587\u7ae0</p>"},{"location":"algorithm/backtrack/","title":"\u56de\u6eaf\u89e3\u6cd5","text":""},{"location":"algorithm/backtrack/#leetcode-784-","title":"leetcode-784-\u5b57\u6bcd\u5927\u5c0f\u5199\u5168\u6392\u5217","text":"<pre><code>\u7ed9\u5b9a\u4e00\u4e2a\u5b57\u7b26\u4e32s\uff0c\u901a\u8fc7\u5c06\u5b57\u7b26\u4e32s\u4e2d\u7684\u6bcf\u4e2a\u5b57\u6bcd\u8f6c\u53d8\u5927\u5c0f\u5199\uff0c\u6211\u4eec\u53ef\u4ee5\u83b7\u5f97\u4e00\u4e2a\u65b0\u7684\u5b57\u7b26\u4e32\u3002\n\u8fd4\u56de \u6240\u6709\u53ef\u80fd\u5f97\u5230\u7684\u5b57\u7b26\u4e32\u96c6\u5408 \u3002\u4ee5 \u4efb\u610f\u987a\u5e8f \u8fd4\u56de\u8f93\u51fa\u3002\n\u793a\u4f8b 1\uff1a\n\u8f93\u5165\uff1as = \"a1b2\"\n\u8f93\u51fa\uff1a[\"a1b2\", \"a1B2\", \"A1b2\", \"A1B2\"]\n\u793a\u4f8b 2:\n\u8f93\u5165: s = \"3z4\"\n\u8f93\u51fa: [\"3z4\",\"3Z4\"]\n</code></pre> pythonc++ <pre><code>class Solution:\n    def letterCasePermutation(self, s: str) -&gt; List[str]:\n        ans = []\n        def dfs(s: List[str], pos: int) -&gt; None:\n            while pos &lt; len(s) and s[pos].isdigit():\n                pos += 1\n            if pos == len(s):\n                ans.append(''.join(s))\n                return\n            dfs(s, pos + 1)\n            s[pos] = s[pos].swapcase()\n            dfs(s, pos + 1)\n            s[pos] = s[pos].swapcase()\n        dfs(list(s), 0)\n        return ans\n</code></pre> <pre><code>class Solution {\npublic:\n    vector&lt;string&gt; ans;\n    void dfs (string a, int s) {\n        ans.push_back(a);\n        for (int i = s; i &lt; a.size(); i ++ ) {\n            if (!isdigit(a[i])) {\n                a[i] ^= 32;\n                dfs (a, i + 1);\n                a[i] ^= 32;\n            }\n        }\n    }\n    vector&lt;string&gt; letterCasePermutation(string s) {\n        dfs (s, 0);\n        return ans;\n    }\n};\n</code></pre>"},{"location":"algorithm/binary/","title":"\u4e8c\u5206\u6cd5","text":""},{"location":"algorithm/binary/#leetcode-offerii001","title":"leetcode-OfferII001\u6574\u6570\u9664\u6cd5","text":"<pre><code>\u7ed9\u5b9a\u4e24\u4e2a\u6574\u6570 a \u548c b \uff0c\u6c42\u5b83\u4eec\u7684\u9664\u6cd5\u7684\u5546 a/b \uff0c\u8981\u6c42\u4e0d\u5f97\u4f7f\u7528\u4e58\u53f7 '*'\u3001\u9664\u53f7 '/' \u4ee5\u53ca\u6c42\u4f59\u7b26\u53f7 '%'\u3002\n\u6ce8\u610f\uff1a\n\u6574\u6570\u9664\u6cd5\u7684\u7ed3\u679c\u5e94\u5f53\u622a\u53bb\uff08truncate\uff09\u5176\u5c0f\u6570\u90e8\u5206\uff0c\u4f8b\u5982\uff1atruncate(8.345) = 8\u4ee5\u53catruncate(-2.7335) = -2\n\u5047\u8bbe\u6211\u4eec\u7684\u73af\u5883\u53ea\u80fd\u5b58\u50a8 32 \u4f4d\u6709\u7b26\u53f7\u6574\u6570\uff0c\u5176\u6570\u503c\u8303\u56f4\u662f [\u22122^31,2^31\u22121]\u3002\u672c\u9898\u4e2d\uff0c\u5982\u679c\u9664\u6cd5\u7ed3\u679c\u6ea2\u51fa\uff0c\u5219\u8fd4\u56de 2^31\u2212 1\n\u793a\u4f8b 1\uff1a\n\u8f93\u5165\uff1aa = 15, b = 2\n\u8f93\u51fa\uff1a7\n\u89e3\u91ca\uff1a15/2 = truncate(7.5) = 7\n\u793a\u4f8b 2\uff1a\n\u8f93\u5165\uff1aa = 7, b = -3\n\u8f93\u51fa\uff1a-2\n\u89e3\u91ca\uff1a7/-3 = truncate(-2.33333..) = -2\n\u793a\u4f8b 3\uff1a\n\u8f93\u5165\uff1aa = 0, b = 1\n\u8f93\u51fa\uff1a0\n\u793a\u4f8b 4\uff1a\n\u8f93\u5165\uff1aa = 1, b = 1\n\u8f93\u51fa\uff1a1\n\u63d0\u793a:\n-2^31&lt;= a, b &lt;= 2^31- 1\nb != 0\n</code></pre> c++[\u66b4\u529b] <pre><code>class Solution {\npublic:\n    int divide(int a, int b) {\n        if (b==0)\n            return 0;\n        int sign = 1;\n        if ((a&gt;0) ^ (b&gt;0))\n            sign = -1;\n        //32\u4f4d\u6700\u5927\u503c\u4e3a:2**31 -1 = 2147483647\n        //32\u4f4d\u6700\u5c0f\u503c\u4e3a:-2**31 = -2147483648\n        //-2147483648/(-1) = 2147483648 &gt; 2147483647 \u8d8a\u754c\u4e86\n        if(a==INT_MIN &amp;&amp;  b == -1)\n        return INT_MAX;\n        //abs(-2147483648) = -2147483648\n        cout&lt;&lt;abs(INT_MIN)&lt;&lt;endl;\n        if(a&gt;0) a = -a;\n        if(b&gt;0) b = -b;\n        int res = 0;\n        while (a &lt;= b)\n        {\n            a = a - b;\n            res = res + 1;\n        }\n        return sign*res;\n    }\n};\n</code></pre>"},{"location":"algorithm/binary/#leetcode-1760","title":"leetcode-1760 \u888b\u5b50\u91cc\u6700\u5c11\u6570\u76ee\u7684\u7403","text":"<pre><code>\u7ed9\u4f60\u4e00\u4e2a\u6574\u6570\u6570\u7ec4nums\uff0c\u5176\u4e2dnums[i]\u8868\u793a\u7b2ci\u4e2a\u888b\u5b50\u91cc\u7403\u7684\u6570\u76ee\u3002\u540c\u65f6\u7ed9\u4f60\u4e00\u4e2a\u6574\u6570maxOperations\u3002\n\u4f60\u53ef\u4ee5\u8fdb\u884c\u5982\u4e0b\u64cd\u4f5c\u81f3\u591amaxOperations\u6b21\uff1a\n\u9009\u62e9\u4efb\u610f\u4e00\u4e2a\u888b\u5b50\uff0c\u5e76\u5c06\u888b\u5b50\u91cc\u7684\u7403\u5206\u52302 \u4e2a\u65b0\u7684\u888b\u5b50\u4e2d\uff0c\u6bcf\u4e2a\u888b\u5b50\u91cc\u90fd\u6709 \u6b63\u6574\u6570\u4e2a\u7403\u3002\n\u6bd4\u65b9\u8bf4\uff0c\u4e00\u4e2a\u888b\u5b50\u91cc\u67095\u4e2a\u7403\uff0c\u4f60\u53ef\u4ee5\u628a\u5b83\u4eec\u5206\u5230\u4e24\u4e2a\u65b0\u888b\u5b50\u91cc\uff0c\u5206\u522b\u6709 1\u4e2a\u548c 4\u4e2a\u7403\uff0c\u6216\u8005\u5206\u522b\u6709 2\u4e2a\u548c 3\u4e2a\u7403\u3002\n\u4f60\u7684\u5f00\u9500\u662f\u5355\u4e2a\u888b\u5b50\u91cc\u7403\u6570\u76ee\u7684 \u6700\u5927\u503c\uff0c\u4f60\u60f3\u8981 \u6700\u5c0f\u5316\u5f00\u9500\u3002\n\n\u8bf7\u4f60\u8fd4\u56de\u8fdb\u884c\u4e0a\u8ff0\u64cd\u4f5c\u540e\u7684\u6700\u5c0f\u5f00\u9500\u3002\n\u793a\u4f8b 1\uff1a\n\u8f93\u5165\uff1anums = [9], maxOperations = 2\n\u8f93\u51fa\uff1a3\n\u89e3\u91ca\uff1a\n- \u5c06\u88c5\u6709 9 \u4e2a\u7403\u7684\u888b\u5b50\u5206\u6210\u88c5\u6709 6 \u4e2a\u548c 3 \u4e2a\u7403\u7684\u888b\u5b50\u3002[9] -&gt; [6,3] \u3002\n- \u5c06\u88c5\u6709 6 \u4e2a\u7403\u7684\u888b\u5b50\u5206\u6210\u88c5\u6709 3 \u4e2a\u548c 3 \u4e2a\u7403\u7684\u888b\u5b50\u3002[6,3] -&gt; [3,3,3] \u3002\n\u88c5\u6709\u6700\u591a\u7403\u7684\u888b\u5b50\u91cc\u88c5\u6709 3 \u4e2a\u7403\uff0c\u6240\u4ee5\u5f00\u9500\u4e3a 3 \u5e76\u8fd4\u56de 3 \u3002\n\u793a\u4f8b 2\uff1a\n\u8f93\u5165\uff1anums = [2,4,8,2], maxOperations = 4\n\u8f93\u51fa\uff1a2\n\u89e3\u91ca\uff1a\n- \u5c06\u88c5\u6709 8 \u4e2a\u7403\u7684\u888b\u5b50\u5206\u6210\u88c5\u6709 4 \u4e2a\u548c 4 \u4e2a\u7403\u7684\u888b\u5b50\u3002[2,4,8,2] -&gt; [2,4,4,4,2] \u3002\n- \u5c06\u88c5\u6709 4 \u4e2a\u7403\u7684\u888b\u5b50\u5206\u6210\u88c5\u6709 2 \u4e2a\u548c 2 \u4e2a\u7403\u7684\u888b\u5b50\u3002[2,4,4,4,2] -&gt; [2,2,2,4,4,2] \u3002\n- \u5c06\u88c5\u6709 4 \u4e2a\u7403\u7684\u888b\u5b50\u5206\u6210\u88c5\u6709 2 \u4e2a\u548c 2 \u4e2a\u7403\u7684\u888b\u5b50\u3002[2,2,2,4,4,2] -&gt; [2,2,2,2,2,4,2] \u3002\n- \u5c06\u88c5\u6709 4 \u4e2a\u7403\u7684\u888b\u5b50\u5206\u6210\u88c5\u6709 2 \u4e2a\u548c 2 \u4e2a\u7403\u7684\u888b\u5b50\u3002[2,2,2,2,2,4,2] -&gt; [2,2,2,2,2,2,2,2] \u3002\n\u88c5\u6709\u6700\u591a\u7403\u7684\u888b\u5b50\u91cc\u88c5\u6709 2 \u4e2a\u7403\uff0c\u6240\u4ee5\u5f00\u9500\u4e3a 2 \u5e76\u8fd4\u56de 2 \u3002\n\u793a\u4f8b 3\uff1a\n\u8f93\u5165\uff1anums = [7,17], maxOperations = 2\n\u8f93\u51fa\uff1a7\n</code></pre> c++[\u66b4\u529b] <pre><code>class Solution {\npublic:\n    int minimumSize(vector&lt;int&gt;&amp; nums, int maxOperations) {\n        int left = 1, right = *max_element(nums.begin(), nums.end());\n        int ans = 0;\n        while(left &lt;= right)\n        {\n            int y = (left + right) / 2;\n            long long ops = 0;\n            for(int x: nums){\n                ops += (x-1) / y;\n            }\n            if (ops &lt;= maxOperations)\n            {\n                ans = y;\n                right =  y - 1;\n            }\n            else\n            {\n                left = y + 1;\n            }\n        }\n        return ans;\n    }\n};\n</code></pre>"},{"location":"algorithm/bit/","title":"\u4f4d\u8fd0\u7b97","text":""},{"location":"algorithm/bit/#_2","title":"\u5224\u65ad\u5b57\u6bcd\u662f\u5426\u4e92\u4e3a\u5927\u5c0f\u5199","text":"<pre><code>\u4f8b\u5982c1 = \"a\"\uff0cc2 = \"A\"\uff0c\u5bf9\u5e94\u7684ascii\u503c\u5206\u522b\u662f97,65\uff0c\u4e24\u4e2a\u6570\u5b57\u5bf9\u5e94\u7684\u4e8c\u8fdb\u5236\u5b57\u7b26\u4e32\u4e3a\uff1a\n0b1100001\n0b1000001\n\n\u5f02\u6216\u4e4b\u540e\u5f97\u5230\u7684\u7ed3\u679c\u4e3a\u5341\u8fdb\u5236\u6570\u5b57\u5bf9\u5e94\u768432\uff0c\n\u800c\u4e14\u56e0\u4e3a\u6bcf\u4e00\u4e2a\u4e92\u4e3a\u5927\u5c0f\u5199\u7684\u5b57\u6bcd\u5bf9\u5e94\u7684ascii\u7801\u7684\u5dee\u503c\u90fd\u662f\u7b49\u4e8e32\u7684\uff0c\n\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5bf9\u4e24\u4e2a\u5b57\u6bcd\u7684ascii\u7801\u8fdb\u884c\u5f02\u6216\u64cd\u4f5c\n\u5982\u679c\u5f02\u6216\u7684\u7ed3\u679c\u7b49\u4e8e32\u90a3\u4e48\u8bf4\u660e\u662f\u4e92\u4e3a\u5927\u5c0f\u5199\u7684\u3002\n</code></pre> <pre><code>c1, c2 = \"a\", \"A\"\n# \u4f7f\u7528\u5f02\u6216\u8fd0\u7b97\u770b\u7ed3\u679c\u662f\u5426\u662f32\u6765\u5224\u65ad\u4e24\u4e2a\u5b57\u6bcd\u662f\u5426\u4e92\u4e3a\u5927\u5c0f\u5199, \u4f7f\u7528ord\u51fd\u6570\u83b7\u53d6\u5f53\u524d\u5b57\u7b26\u7684ascii\u503c\nres = ord(c1) ^ ord(c2) == 32\nprint(res) #True\nres = ord(c1) ^ 32 == ord(c2)\nprint(res) #True\nres = ord(c2) ^ 32 == ord(c1)\nprint(res) #True\n</code></pre>"},{"location":"algorithm/bit/#_3","title":"\u6d88\u5931\u7684\u6570\u5b57","text":""},{"location":"algorithm/bit/#leetcode-1719","title":"leetcode-17.19 \u6d88\u5931\u7684\u4e24\u4e2a\u6570\u5b57","text":"<pre><code>\u7ed9\u5b9a\u4e00\u4e2a\u6570\u7ec4\uff0c\u5305\u542b\u4ece 1 \u5230 N \u6240\u6709\u7684\u6574\u6570\uff0c\u4f46\u5176\u4e2d\u7f3a\u4e86\u4e24\u4e2a\u6570\u5b57\u3002\n\u4f60\u80fd\u5728 O(N) \u65f6\u95f4\u5185\u53ea\u7528 O(1) \u7684\u7a7a\u95f4\u627e\u5230\u5b83\u4eec\u5417\uff1f\n\u4ee5\u4efb\u610f\u987a\u5e8f\u8fd4\u56de\u8fd9\u4e24\u4e2a\u6570\u5b57\u5747\u53ef\u3002\n\u793a\u4f8b 1:\n\u8f93\u5165: [1]\n\u8f93\u51fa: [2,3]\n\u793a\u4f8b 2:\n\u8f93\u5165: [2,3]\n\u8f93\u51fa: [1,4]\n\u63d0\u793a\uff1a\nnums.length &lt;=30000\n</code></pre> python[\u516c\u5f0f\u8ba1\u7b97] <pre><code>class Solution:\n    def missingTwo(self, nums: List[int]) -&gt; List[int]:\n        n = len(nums) + 2\n        sum2 = n * (1 + n) // 2 - sum(nums) # \u524dn\u4e2a\u6570\u548c\u4e0d\u53ef\u80fd\u4e3a\u5c0f\u6570\n        t = sum2 // 2 #\u7f3a\u5931\u7684\u8fd9\u4e24\u4e2a\u503c\u4e0d\u53ef\u80fd\u5728sum2//2\u7684\u540c\u4e00\u4fa7\n        cur = t * (1 + t) // 2 -  sum([x for x in nums if x &lt;= t]) \n        return [cur, sum2 - cur]\n</code></pre>"},{"location":"algorithm/bit/#1","title":"\u7edf\u8ba1\u6570\u5b57\u7684\u4e8c\u8fdb\u5236\u4e2d1\u7684\u4e2a\u6570","text":"<pre><code>\u5bf9\u4e8e\u4efb\u610f\u6574\u6570 xx\uff0c\u4ee4 x=x &amp; (x\u22121)\uff0c\u8be5\u8fd0\u7b97\u5c06 x \u7684\u4e8c\u8fdb\u5236\u8868\u793a\u7684\u6700\u540e\u4e00\u4e2a 1 \u53d8\u6210 0\u3002\n\u4f8b\u5982\uff1a3\u7684\u4e8c\u8fdb\u5236\u662f11\uff0c2\u7684\u4e8c\u8fdb\u5236\u662f10\uff0c3&amp;2=2\uff0c\u4e5f\u5c31\u662f10\u3002\u6d88\u6389\u4e863\u7684\u6700\u540e\u4e00\u4e2a1\u3002\n</code></pre>"},{"location":"algorithm/bit/#offerii003-n1","title":"OfferII003-\u524dn\u4e2a\u6570\u5b57\u4e8c\u8fdb\u5236\u4e2d1\u7684\u4e2a\u6570","text":"<pre><code>\u7ed9\u5b9a\u4e00\u4e2a\u975e\u8d1f\u6574\u6570 n\uff0c\u8bf7\u8ba1\u7b97 0 \u5230 n \u4e4b\u95f4\u7684\u6bcf\u4e2a\u6570\u5b57\u7684\u4e8c\u8fdb\u5236\u8868\u793a\u4e2d 1 \u7684\u4e2a\u6570\uff0c\u5e76\u8f93\u51fa\u4e00\u4e2a\u6570\u7ec4\u3002\n\u793a\u4f8b 1:\n\u8f93\u5165: n = 2\n\u8f93\u51fa: [0,1,1]\n\u89e3\u91ca: \n0 --&gt; 0\n1 --&gt; 1\n2 --&gt; 10\n\u793a\u4f8b2:\n\u8f93\u5165: n = 5\n\u8f93\u51fa: [0,1,1,2,1,2]\n\u89e3\u91ca:\n0 --&gt; 0\n1 --&gt; 1\n2 --&gt; 10\n3 --&gt; 11\n4 --&gt; 100\n5 --&gt; 101\n\u8bf4\u660e :\n0 &lt;= n &lt;= 105\n</code></pre> c++[\u904d\u5386] <pre><code>class Solution {\npublic:\n\n    int countOnes(int number){\n        int ones = 0;\n        while(number &gt; 0)\n        {\n            number = number &amp; (number - 1);\n            ones++;\n        }\n        return ones;\n    }\n    vector&lt;int&gt; countBits(int n) {\n\n        vector&lt;int&gt; bits(n + 1);\n        for(int i=0; i &lt;=n; i++)\n        {\n            bits[i] = countOnes(i);\n        }\n        return bits;\n    }\n};\n</code></pre>"},{"location":"algorithm/bit/#wordhash","title":"word\u4f4d\u8fd0\u7b97hash","text":""},{"location":"algorithm/bit/#offerii005-","title":"OfferII005-\u5355\u8bcd\u957f\u5ea6\u7684\u6700\u5927\u4e58\u79ef","text":"<pre><code>\u7ed9\u5b9a\u4e00\u4e2a\u5b57\u7b26\u4e32\u6570\u7ec4words\uff0c\u8bf7\u8ba1\u7b97\u5f53\u4e24\u4e2a\u5b57\u7b26\u4e32 words[i] \u548c words[j] \u4e0d\u5305\u542b\u76f8\u540c\u5b57\u7b26\u65f6\uff0c\u5b83\u4eec\u957f\u5ea6\u7684\u4e58\u79ef\u7684\u6700\u5927\u503c\u3002\u5047\u8bbe\u5b57\u7b26\u4e32\u4e2d\u53ea\u5305\u542b\u82f1\u8bed\u7684\u5c0f\u5199\u5b57\u6bcd\u3002\u5982\u679c\u6ca1\u6709\u4e0d\u5305\u542b\u76f8\u540c\u5b57\u7b26\u7684\u4e00\u5bf9\u5b57\u7b26\u4e32\uff0c\u8fd4\u56de 0\u3002\n\u793a\u4f8b1:\n\u8f93\u5165: words = [\"abcw\",\"baz\",\"foo\",\"bar\",\"fxyz\",\"abcdef\"]\n\u8f93\u51fa: 16 \n\u89e3\u91ca: \u8fd9\u4e24\u4e2a\u5355\u8bcd\u4e3a \"abcw\", \"fxyz\"\u3002\u5b83\u4eec\u4e0d\u5305\u542b\u76f8\u540c\u5b57\u7b26\uff0c\u4e14\u957f\u5ea6\u7684\u4e58\u79ef\u6700\u5927\u3002\n\u793a\u4f8b 2:\n\u8f93\u5165: words = [\"a\",\"ab\",\"abc\",\"d\",\"cd\",\"bcd\",\"abcd\"]\n\u8f93\u51fa: 4 \n\u89e3\u91ca: \u8fd9\u4e24\u4e2a\u5355\u8bcd\u4e3a \"ab\", \"cd\"\u3002\n\u793a\u4f8b 3:\n\u8f93\u5165: words = [\"a\",\"aa\",\"aaa\",\"aaaa\"]\n\u8f93\u51fa: 0 \n\u89e3\u91ca: \u4e0d\u5b58\u5728\u8fd9\u6837\u7684\u4e24\u4e2a\u5355\u8bcd\u3002\n\u63d0\u793a\uff1a\n2 &lt;= words.length &lt;= 1000\n1 &lt;= words[i].length &lt;= 1000\nwords[i]\u4ec5\u5305\u542b\u5c0f\u5199\u5b57\u6bcd\n</code></pre> pythonc++ <pre><code>class Solution:\n    def maxProduct(self, words: List[str]) -&gt; int:\n        # \u4f7f\u7528\u4f4d\u8fd0\u7b97\u6765\u5b9e\u73b0hashset\n        lengths = [0] * len(words)\n        whash  = [0] * len(words)\n        ans = 0\n        for i in  range(len(words)):\n            lengths[i] = len(words[i])\n            # \u8ba1\u7b97\u6bcf\u4e2aword\u7684hash\n            for c in words[i]:\n                whash[i] |= (1 &lt;&lt; (ord(c) - ord('a'))) #\u8ba1\u7b97\u6bcf\u4e2a\u5b57\u7b26\u4e32\u7684hash\u503c\n                #print(hashs)\n            for j in range(i):\n                if whash[i] &amp; whash[j] ==  0: # \u4e0d\u542b\u76f8\u540c\u7684char\n                    ans = max(ans, lengths[i] * lengths[j])\n        return ans\n</code></pre> <pre><code>class Solution {\npublic:\n    int maxProduct(vector&lt;string&gt;&amp; words) {\n        //\u4f7f\u7528\u4f4d\u8fd0\u7b97\u6765\u5b9e\u73b0hash\n        int lenghts[words.size()];\n        int hashs[words.size()];\n        memset(lenghts,0,sizeof(lenghts));\n        memset(hashs,0,sizeof(hashs));//\u7ed9\u6570\u7ec4\u75280\u8fdb\u884c\u521d\u59cb\u5316\n        int ans = 0;\n        for(int i=0; i &lt;words.size(); i++)\n        {\n            lenghts[i]  = words[i].size();\n            for(auto c : words[i])\n            {\n                cout &lt;&lt; c &lt;&lt;endl;\n                //hashs[i] = hashs[i] | 1 &lt;&lt; c - 'a';\n                hashs[i] |= (1 &lt;&lt; (c - 'a')); //\u4e3a\u4e86\u4fdd\u8bc1\u8ba1\u7b97\u4f18\u5148\u7ea7\u591a\u7528\u62ec\u53f7\u62ec\u4e0b\n                //cout &lt;&lt; hashs[i] &lt;&lt;endl;\n            }\n            for(int j=0; j&lt;i; j++){\n                if((hashs[i] &amp; hashs[j]) == 0) //\u5b57\u7b26\u8ba1\u7b97\u4f18\u5148\u7ea7\n                {\n                    ans = max(ans, lenghts[i]*lenghts[j]);\n                    //cout &lt;&lt; i&lt;&lt;j &lt;&lt; endl;\n                } \n            }\n        }\n        return ans;\n    }\n};\n</code></pre>"},{"location":"algorithm/dp/","title":"\u52a8\u6001\u89c4\u5212","text":""},{"location":"algorithm/dp/#_1","title":"\u4e09\u4e2a\u6307\u9488","text":""},{"location":"algorithm/dp/#leetcode-1709-k","title":"leetcode-17.09 \u7b2ck\u4e2a\u6570","text":"<pre><code>\u6709\u4e9b\u6570\u7684\u7d20\u56e0\u5b50\u53ea\u6709 3\uff0c5\uff0c7\uff0c\u8bf7\u8bbe\u8ba1\u4e00\u4e2a\u7b97\u6cd5\u627e\u51fa\u7b2c k \u4e2a\u6570\u3002\u6ce8\u610f\uff0c\u4e0d\u662f\u5fc5\u987b\u6709\u8fd9\u4e9b\u7d20\u56e0\u5b50\uff0c\u800c\u662f\u5fc5\u987b\u4e0d\u5305\u542b\u5176\u4ed6\u7684\u7d20\u56e0\u5b50\u3002\n\u4f8b\u5982\uff0c\u524d\u51e0\u4e2a\u6570\u6309\u987a\u5e8f\u5e94\u8be5\u662f 1\uff0c3\uff0c5\uff0c7\uff0c9\uff0c15\uff0c21\u3002\n\u793a\u4f8b 1:\n\u8f93\u5165: k = 5\n\u8f93\u51fa: 9\n</code></pre> python <pre><code>class Solution:\n    def getKthMagicNumber(self, k: int) -&gt; int:\n        nums = [0] * (k + 1)\n        p3, p5, p7 = 1, 1, 1 # \u8868\u793a\u4e09\u4e2a\u6307\u9488\n        nums[1] = 1 # nums[0]=0,\u4e0ek+1\u4e2a\u624d\u80fd\u5230k\n        for i in range(2, k + 1):\n            nums[i] = min(nums[p3]*3, nums[p5]*5, nums[p7]*7)\n            if nums[i] == nums[p3]*3:# \u4e09\u4e2a\u6307\u9488\u4f9d\u6b21\u4ea4\u66ff\n                p3 = p3 + 1\n            if nums[i] == nums[p5]*5:\n                p5 = p5 + 1\n            if nums[i] == nums[p7]*7:\n                p7 = p7 + 1\n        return nums[k]\n</code></pre>"},{"location":"algorithm/dp/#_2","title":"\u53c2\u8003\u94fe\u63a5","text":"<ul> <li>https://yft.github.io/yft/#/</li> </ul>"},{"location":"algorithm/find-union/","title":"\u5e76\u67e5\u96c6","text":""},{"location":"algorithm/find-union/#_2","title":"\u63cf\u8ff0","text":"<ul> <li>\u67e5\u627e\uff1a\u786e\u5b9a\u67d0\u4e2a\u5143\u7d20\u5c5e\u4e8e\u54ea\u4e2a\u5b50\u96c6\u3002</li> <li>\u5408\u5e76\uff1a\u5c06\u4e24\u4e2a\u5b57\u96c6\u5408\u5e76\u6210\u4e00\u4e2a\u5b50\u96c6\u3002</li> </ul>"},{"location":"algorithm/find-union/#_3","title":"\u6a21\u7248","text":"<ul> <li>n \u8868\u793a\u8282\u70b9\u7684\u4e2a\u6570\u3002</li> <li>p \u8868\u793a\u5b58\u50a8\u6bcf\u4e2a\u70b9\u7684\u7236\u8282\u70b9\uff0c\u521d\u59cb\u65f6\u6bcf\u4e2a\u70b9\u7684\u7236\u8282\u70b9\u90fd\u662f\u81ea\u5df1\u3002</li> <li>size \u53ea\u6709\u5f53\u524d\u8282\u70b9\u662f\u7956\u5b97\u8282\u70b9\u624d\u6709\u610f\u4e49\uff0c\u8868\u793a\u7956\u5b97\u8282\u70b9\u4e2d\u70b9\u7684\u6570\u91cf\u3002</li> <li>find(x) \u51fd\u6570\u7528\u4e8e\u67e5\u627ex\u6240\u5728\u96c6\u5408\u7684\u7956\u5b97\u8282\u70b9\u3002</li> <li>union(a, b) \u51fd\u6570\u7528\u4e8e\u5408\u5e76a\u548cb\u6240\u5728\u96c6\u5408\u3002</li> </ul> python <pre><code>def find(x):\n    if p[x] ! = x:\n        p[x] = find(p[x])\n    return p[x]\n\ndef union(a, b):\n    pa, pb = find(a), find(b)\n    if pa !=  pb:\n        return  \n    p[pa] = pb\n    size[pb] = size[pb] + size[pa]\n</code></pre>"},{"location":"algorithm/find-union/#leetcode-826-","title":"leetcode-826-\u6700\u5927\u4eba\u5de5\u5c9b","text":"python <pre><code>class Solution:\n    def largestIsland(self, grid: List[List[int]]) -&gt; int:\n        def find(x):\n            if p[x] != x:\n                p[x] = find(p[x]) # \u5411\u4e0a\u4e00\u76f4\u627e\u7236\u4eb2\u8282\u70b9\n            return p[x]\n\n        def union(a, b):\n            pa, pb = find(a), find(b)\n            if pa == pb:\n                return \n            p[pa] = pb # pa\u7684\u7236\u4eb2\u7b49\u4e8epb \u4e5f\u5c31\u662f\u628apa\u6302\u5230\u4e86pb\u4e0a\n            size[pb] = size[pb] + size[pa] # \u66f4\u65b0pb\u7684\u5927\u5c0f\n\n        n = len(grid)\n        p = list(range(n * n))\n        size = [1] * (n * n)\n\n        for i, row in enumerate(grid):\n            for j, v in enumerate(row):\n                if v == 1:\n                    for a, b in [[0, -1],[-1, 0]]: #\u56e0\u4e3agrid\u9700\u8981\u904d\u5386\u4e00\u904d\uff0c\u6240\u4ee5\u53ef\u4ee5\u4ece\u5f53\u524d\u7684\u70b9\u5f80\u4e0a\u5f80\u5de6\u8d70\uff0c\u6bcf\u4e2a\u90fd\u80fd\u7b97\u4e00\u904d\n                        x, y = i + a, j + b\n                        if 0 &lt;= x &lt;= len(grid) and 0 &lt;= y &lt;=len(grid[0]) and grid[x][y] ==1:\n                            union(x * n + y, i * n + j)\n        ans = max(size)\n        for i, row in enumerate(grid):\n            for j, v in enumerate(row):\n                if v == 0:# \u627e\u52300\u7684\u4f4d\u7f6e\n                    vis = set()\n                    t = 1 \n                    for a, b in [[0, -1], [0, 1], [1, 0], [-1, 0]]:\n                            x, y = i + a, j + b\n                            if 0 &lt;= x &lt; n and 0 &lt;= y &lt; n and grid[x][y] == 1: #\u627e\u5230\u5468\u8fb9\u76841\n                                root = find(x * n + y)\n                                if root not in vis:\n                                    vis.add(root)\n                                    t += size[root]\n                    ans = max(ans, t)\n        return ans \n</code></pre>"},{"location":"algorithm/link/","title":"Link","text":""},{"location":"algorithm/link/#leetcode-offerii023-","title":"leetcode-OfferII023-\u4e24\u4e2a\u94fe\u8868\u7684\u7b2c\u4e00\u4e2a\u91cd\u5408\u8282\u70b9","text":"<pre><code>\u7ed9\u5b9a\u4e24\u4e2a\u5355\u94fe\u8868\u7684\u5934\u8282\u70b9 headA \u548c headB\uff0c\u8bf7\u627e\u51fa\u5e76\u8fd4\u56de\u4e24\u4e2a\u5355\u94fe\u8868\u76f8\u4ea4\u7684\u8d77\u59cb\u8282\u70b9\u3002\n\u5982\u679c\u4e24\u4e2a\u94fe\u8868\u6ca1\u6709\u4ea4\u70b9\uff0c\u8fd4\u56de null\u3002\u9898\u76ee\u6570\u636e \u4fdd\u8bc1 \u6574\u4e2a\u94fe\u5f0f\u7ed3\u6784\u4e2d\u4e0d\u5b58\u5728\u73af\u3002\n\u6ce8\u610f\uff0c\u51fd\u6570\u8fd4\u56de\u7ed3\u679c\u540e\uff0c\u94fe\u8868\u5fc5\u987b \u4fdd\u6301\u5176\u539f\u59cb\u7ed3\u6784\u3002\n</code></pre> c++ <pre><code>class Solution {\npublic:\n    ListNode *getIntersectionNode(ListNode *headA, ListNode *headB) {\n        ListNode *pA = headA;\n        ListNode *pB = headB;\n        while(pA != pB)\n        {   //A\u8d70\u5b8c\u81ea\u5df1\u7684\u8def\u8d70B\u7684\u8def\uff0cB\u8d70\u5b8c\u81ea\u5df1\u7684\u8def\u8d70A\u7684\u8def\u3002\u4e00\u65e6\u76f8\u7b49\u5219\u8df3\u51fa\u5faa\u73af\u3002\n            pA = pA == nullptr ? headB : pA-&gt;next;\n            pB = pB == nullptr ? headA : pB-&gt;next;\n        }\n        return  pA;\n    }\n};\n</code></pre>"},{"location":"algorithm/point/","title":"\u6307\u9488\u89e3\u6cd5","text":""},{"location":"algorithm/point/#leetcode-927-","title":"leetcode-927-\u4e09\u7b49\u5206","text":"<pre><code>\u7ed9\u5b9a\u4e00\u4e2a\u7531 0 \u548c 1 \u7ec4\u6210\u7684\u6570\u7ec4arr\uff0c\u5c06\u6570\u7ec4\u5206\u6210 3\u4e2a\u975e\u7a7a\u7684\u90e8\u5206 \uff0c\u4f7f\u5f97\u6240\u6709\u8fd9\u4e9b\u90e8\u5206\u8868\u793a\u76f8\u540c\u7684\u4e8c\u8fdb\u5236\u503c\u3002\n\u5982\u679c\u53ef\u4ee5\u505a\u5230\uff0c\u8bf7\u8fd4\u56de\u4efb\u4f55[i, j]\uff0c\u5176\u4e2d i+1 &lt; j\uff0c\u8fd9\u6837\u4e00\u6765\uff1a\narr[0], arr[1], ..., arr[i]\u4e3a\u7b2c\u4e00\u90e8\u5206\uff1b\narr[i + 1], arr[i + 2], ..., arr[j - 1]\u4e3a\u7b2c\u4e8c\u90e8\u5206\uff1b\narr[j], arr[j + 1], ..., arr[arr.length - 1]\u4e3a\u7b2c\u4e09\u90e8\u5206\u3002\n\u8fd9\u4e09\u4e2a\u90e8\u5206\u6240\u8868\u793a\u7684\u4e8c\u8fdb\u5236\u503c\u76f8\u7b49\u3002\n\u5982\u679c\u65e0\u6cd5\u505a\u5230\uff0c\u5c31\u8fd4\u56de[-1, -1]\u3002\n\u6ce8\u610f\uff0c\u5728\u8003\u8651\u6bcf\u4e2a\u90e8\u5206\u6240\u8868\u793a\u7684\u4e8c\u8fdb\u5236\u65f6\uff0c\u5e94\u5f53\u5c06\u5176\u770b\u4f5c\u4e00\u4e2a\u6574\u4f53\u3002\u4f8b\u5982\uff0c[1,1,0]\u8868\u793a\u5341\u8fdb\u5236\u4e2d\u76846\uff0c\u800c\u4e0d\u4f1a\u662f3\u3002\u6b64\u5916\uff0c\u524d\u5bfc\u96f6\u4e5f\u662f\u88ab\u5141\u8bb8\u7684\uff0c\u6240\u4ee5[0,1,1] \u548c[1,1]\u8868\u793a\u76f8\u540c\u7684\u503c\u3002\n\n\u793a\u4f8b 1\uff1a\n\u8f93\u5165\uff1aarr = [1,0,1,0,1]\n\u8f93\u51fa\uff1a[0,3]\n\u793a\u4f8b 2\uff1a\n\n\u8f93\u5165\uff1aarr = [1,1,0,1,1]\n\u8f93\u51fa\uff1a[-1,-1]\n\n\u793a\u4f8b 3:\n\u8f93\u5165\uff1aarr = [1,1,0,0,1]\n\u8f93\u51fa\uff1a[0,2]\n\n\u63d0\u793a\uff1a\n3 &lt;= arr.length &lt;= 3 * 104\narr[i]\u662f0\u62161\n</code></pre> python <pre><code>class Solution:\n    def threeEqualParts(self, arr: List[int]) -&gt; List[int]:\n        def find(x):\n            s = 0\n            for i, a in enumerate(arr):\n                s = s + a\n                if s == x:\n                    return i\n\n        n = len(arr)\n        cnt, mod = divmod(sum(arr), 3)\n        if mod &gt; 0:\n            return [-1, -1] # \u5982\u679c1\u7684\u603b\u6570\u4e0d\u591f\u6574\u9664\u76f4\u63a5\u8fd4\u56defalse\n        if cnt == 0:\n            return [0, n-1] # \u5982\u679ccnt\u4e3a0\uff0c\u8bf4\u660e\u6574\u4e2a\u6570\u7ec4\u5168\u90e8\u4e3a0\n        # \u5206\u62103\u6bb5\uff0c\u5206\u522b\u627e\u5230\u7b2c\u4e00\u4e8c\u4e09\u6bb5\u7684\u7b2c\u4e00\u4e2a1\uff0ci\u3001j\u3001k\u5206\u522b\u6307\u5411\u5b83\u4eec\n        i, j, k = find(1), find(cnt + 1), find(2*cnt + 1)\n        while k &lt; n and arr[i] == arr[j] == arr[k]:\n            i = i + 1\n            j = j + 1\n            k = k + 1\n        return [i-1, j] if k == n else [-1, -1]\n</code></pre> <p>\u2460 i\u3001j\u3001k\u5206\u522b\u6307\u5411\u4e09\u6bb5\u4e2d\u7b2c1\u4e2a1</p> <pre><code>0 1 1 0 0| 0 1 1 0 0 0| 0 0 1 1 0 0\n  ^          ^              ^\n  i          j              k\n</code></pre> <p>\u2461 i\u3001j\u3001k\u8df3\u51fa\u5faa\u73af</p> <pre><code>0 1 1 0 0| 0 1 1 0 0 0| 0 0 1 1 0 0\n           ^         ^              ^\n           i         j              k\n</code></pre>"},{"location":"algorithm/point/#leetcode-offerii-007-0","title":"leetcode-OfferII-007-\u6570\u7ec4\u4e2d\u548c\u4e3a0\u7684\u4e09\u4e2a\u6570","text":"<pre><code>\u7ed9\u4f60\u4e00\u4e2a\u6574\u6570\u6570\u7ec4 nums \uff0c\u5224\u65ad\u662f\u5426\u5b58\u5728\u4e09\u5143\u7ec4 [nums[i], nums[j], nums[k]] \u6ee1\u8db3 i != j\u3001i != k \u4e14 j != k\uff0c\n\u540c\u65f6\u8fd8\u6ee1\u8db3 nums[i] + nums[j] + nums[k] == 0 \u3002\u8bf7\u4f60\u8fd4\u56de\u6240\u6709\u548c\u4e3a 0 \u4e14\u4e0d\u91cd\u590d\u7684\u4e09\u5143\u7ec4\u3002\n\u6ce8\u610f\uff1a\u7b54\u6848\u4e2d\u4e0d\u53ef\u4ee5\u5305\u542b\u91cd\u590d\u7684\u4e09\u5143\u7ec4\u3002\n\u793a\u4f8b 1\uff1a\n\u8f93\u5165\uff1anums = [-1,0,1,2,-1,-4]\n\u8f93\u51fa\uff1a[[-1,-1,2],[-1,0,1]]\n\u89e3\u91ca\uff1a\nnums[0] + nums[1] + nums[2] = (-1) + 0 + 1 = 0 \u3002\nnums[1] + nums[2] + nums[4] = 0 + 1 + (-1) = 0 \u3002\nnums[0] + nums[3] + nums[4] = (-1) + 2 + (-1) = 0 \u3002\n\u4e0d\u540c\u7684\u4e09\u5143\u7ec4\u662f [-1,0,1] \u548c [-1,-1,2] \u3002\n\u6ce8\u610f\uff0c\u8f93\u51fa\u7684\u987a\u5e8f\u548c\u4e09\u5143\u7ec4\u7684\u987a\u5e8f\u5e76\u4e0d\u91cd\u8981\u3002\n\u793a\u4f8b 2\uff1a\n\u8f93\u5165\uff1anums = [0,1,1]\n\u8f93\u51fa\uff1a[]\n\u89e3\u91ca\uff1a\u552f\u4e00\u53ef\u80fd\u7684\u4e09\u5143\u7ec4\u548c\u4e0d\u4e3a 0 \u3002\n\u793a\u4f8b 3\uff1a\n\u8f93\u5165\uff1anums = [0,0,0]\n\u8f93\u51fa\uff1a[[0,0,0]]\n\u89e3\u91ca\uff1a\u552f\u4e00\u53ef\u80fd\u7684\u4e09\u5143\u7ec4\u548c\u4e3a 0 \u3002\n</code></pre> python <pre><code>class Solution:\n    def threeSum(self, nums: List[int]) -&gt; List[List[int]]:\n        nums.sort()\n        ans = set()\n        n = len(nums)\n        for i in range(n - 2):\n            j = i + 1\n            k = n - 1\n            x = nums[i]\n            while j &lt; k:\n                cur = x + nums[j] + nums[k]\n                if cur &gt; 0:\n                    k -= 1\n                elif cur &lt; 0:\n                    j += 1\n                else:\n                    ans.add((x, nums[j], nums[k])) # i\u548cj\u540c\u65f6\u79fb\u52a8\n                    j += 1\n                    k -= 1\n        return [list(a) for a in ans]\n</code></pre> <p>leetcode792-\u5339\u914d\u5b50\u5e8f\u5217\u7684\u5355\u8bcd\u6570     \u7ed9\u5b9a\u5b57\u7b26\u4e32 s\u548c\u5b57\u7b26\u4e32\u6570\u7ec4words, \u8fd4\u56dewords[i]\u4e2d\u662fs\u7684\u5b50\u5e8f\u5217\u7684\u5355\u8bcd\u4e2a\u6570\u3002     \u5b57\u7b26\u4e32\u7684 \u5b50\u5e8f\u5217 \u662f\u4ece\u539f\u59cb\u5b57\u7b26\u4e32\u4e2d\u751f\u6210\u7684\u65b0\u5b57\u7b26\u4e32\uff0c\u53ef\u4ee5\u4ece\u4e2d\u5220\u53bb\u4e00\u4e9b\u5b57\u7b26(\u53ef\u4ee5\u662fnone)\uff0c\u800c\u4e0d\u6539\u53d8\u5176\u4f59\u5b57\u7b26\u7684\u76f8\u5bf9\u987a\u5e8f\u3002     \u4f8b\u5982\uff0c \u201cace\u201d \u662f \u201cabcde\u201d \u7684\u5b50\u5e8f\u5217\u3002     \u793a\u4f8b 1:     \u8f93\u5165: s = \"abcde\", words = [\"a\",\"bb\",\"acd\",\"ace\"]     \u8f93\u51fa: 3     \u89e3\u91ca: \u6709\u4e09\u4e2a\u662fs \u7684\u5b50\u5e8f\u5217\u7684\u5355\u8bcd: \"a\", \"acd\", \"ace\"\u3002     Example 2:     \u8f93\u5165: s = \"dsahjpjauf\", words = [\"ahjpjau\",\"ja\",\"ahbwzgqnuk\",\"tnmlanowax\"]     \u8f93\u51fa: 2     \u63d0\u793a:     1 &lt;= s.length &lt;= 5 * 104     1 &lt;= words.length &lt;= 5000     1 &lt;= words[i].length &lt;= 50     words[i]\u548c s\u90fd\u53ea\u7531\u5c0f\u5199\u5b57\u6bcd\u7ec4\u6210\u3002</p> python <pre><code>class Solution:\n    def numMatchingSubseq(self, s: str, words: List[str]) -&gt; int:\n        d = defaultdict(list)\n        res = 0\n        for w in words:\n            d[w[0]].append(w)\n        for c in s:\n            for _ in range(len(d[c])): ###&gt;&gt;&gt;&gt;\u8fd9\u4e24\u9700\u8981\u914d\u5408\u4fdd\u8bc13\u6761\uff0c\u53ea\u5f39\u51fa3\u6b21\n                w = d[c].pop(0)        ###&gt;&gt;&gt;&gt;while\u5faa\u73af\u4f1a\u4e00\u76f4\u5faa\u73af\u91cc\u9762\u7684\u4e1c\u897f\u4e3a\u7a7a\n                                    ###\u4f8b\u5982\uff1abb\uff0c\u5f39\u51fa1\u6b21\uff0c\u4e4b\u540e\u7d27\u63a5\u7740\u53c8\u8fdb\u5165\uff0c\u5728\u6b21\u5f39\u51fa\uff0c\u8fd9\u4e2a\u65f6\u5019c\u662f\u6ca1\u6709\u53d8\u5316\u7684\n                if len(w) == 1:\n                    res = res + 1\n                else:\n                    d[w[1]].append(w[1:])\n        return res\n</code></pre>"},{"location":"algorithm/prefix-sum/","title":"\u524d\u7f00\u548c","text":""},{"location":"algorithm/prefix-sum/#offerii008-target","title":"OfferII008 \u548c\u5927\u4e8e\u7b49\u4e8etarget\u7684\u6700\u77ed\u5b50\u6570\u7ec4","text":"<pre><code>\u7ed9\u5b9a\u4e00\u4e2a\u542b\u6709n\u4e2a\u6b63\u6574\u6570\u7684\u6570\u7ec4\u548c\u4e00\u4e2a\u6b63\u6574\u6570 target \u3002\n\u627e\u51fa\u8be5\u6570\u7ec4\u4e2d\u6ee1\u8db3\u5176\u548c \u2265 target \u7684\u957f\u5ea6\u6700\u5c0f\u7684 \u8fde\u7eed\u5b50\u6570\u7ec4$[nums_l, nums_{l+1}, ..., nums_{r-1}, nums_r]$ \uff0c\u5e76\u8fd4\u56de\u5176\u957f\u5ea6\u3002\u5982\u679c\u4e0d\u5b58\u5728\u7b26\u5408\u6761\u4ef6\u7684\u5b50\u6570\u7ec4\uff0c\u8fd4\u56de 0 \u3002\n\u793a\u4f8b 1\uff1a\n\u8f93\u5165\uff1atarget = 7, nums = [2,3,1,2,4,3]\n\u8f93\u51fa\uff1a2\n\u89e3\u91ca\uff1a\u5b50\u6570\u7ec4[4,3]\u662f\u8be5\u6761\u4ef6\u4e0b\u7684\u957f\u5ea6\u6700\u5c0f\u7684\u5b50\u6570\u7ec4\u3002\n\u793a\u4f8b 2\uff1a\n\u8f93\u5165\uff1atarget = 4, nums = [1,4,4]\n\u8f93\u51fa\uff1a1\n\u793a\u4f8b 3\uff1a\n\u8f93\u5165\uff1atarget = 11, nums = [1,1,1,1,1,1,1,1]\n\u8f93\u51fa\uff1a0\n\u63d0\u793a\uff1a\n1 &lt;= target &lt;= 10^9\n1 &lt;= nums.length &lt;= 10^5\n1 &lt;= nums[i] &lt;= 10^5\n</code></pre> python <pre><code>    class Solution:\n        def minSubArrayLen(self, target: int, nums: List[int]) -&gt; int:\n            n = len(nums)\n            ans = n + 10\n            prefixSum = [0] * (n + 10)\n            for i in range(1, n+1):\n                #print(i, nums[i-1])\n                prefixSum[i] = prefixSum[i-1] + nums[i-1]\n            #print(prefixSum)\n            for i  in range(1, n+1):\n                s = prefixSum[i]\n                d = s - target\n                l = 0\n                r = i\n                while l &lt; r:\n                    mid = (l + r + 1) &gt;&gt; 1\n                    if prefixSum[mid] &lt;= d: \n                        l = mid\n                    else:\n                        r = mid -1\n                if prefixSum[r] &lt;= d:\n                    ans = min(ans, i-r)\n            return 0 if ans == n + 10 else ans\n</code></pre>"},{"location":"algorithm/prefix-sum/#offer-ii-010-k","title":"Offer-II-010 \u548c\u4e3ak\u7684\u5b50\u6570\u7ec4","text":"<pre><code>\u7ed9\u5b9a\u4e00\u4e2a\u6574\u6570\u6570\u7ec4\u548c\u4e00\u4e2a\u6574\u6570k \uff0c\u8bf7\u627e\u5230\u8be5\u6570\u7ec4\u4e2d\u548c\u4e3ak\u7684\u8fde\u7eed\u5b50\u6570\u7ec4\u7684\u4e2a\u6570\u3002\n\u793a\u4f8b 1\uff1a\n\u8f93\u5165:nums = [1,1,1], k = 2\n\u8f93\u51fa: 2\n\u89e3\u91ca: \u6b64\u9898 [1,1] \u4e0e [1,1] \u4e3a\u4e24\u79cd\u4e0d\u540c\u7684\u60c5\u51b5\n\u793a\u4f8b 2\uff1a\n\u8f93\u5165:nums = [1,2,3], k = 3\n\u8f93\u51fa: 2\n\n\u63d0\u793a:\n1 &lt;= nums.length &lt;= 2 * 104\n-1000 &lt;= nums[i] &lt;= 1000\n-107&lt;= k &lt;= 107\n</code></pre> c++ <pre><code>    class Solution {\n    public:\n        int subarraySum(vector&lt;int&gt;&amp; nums, int k) {\n            unordered_map&lt;int, int&gt; mp;\n            mp[0] = 1;\n            int pre = 0;\n            int ans = 0;\n            for (auto&amp; x:nums)\n            {\n                pre += x;\n                if(mp.find(pre - k) != mp.end())\n                {\n                    ans  += mp[pre - k];\n                }\n                mp[pre]++;\n            }\n            return ans;\n        }\n    };\n</code></pre>"},{"location":"algorithm/sort/","title":"\u6392\u5e8f","text":""},{"location":"algorithm/sort/#_1","title":"\u8bb0\u6570\u6392\u5e8f","text":""},{"location":"algorithm/sort/#leetcode791-","title":"leetcode791-\u81ea\u5b9a\u4e49\u5b57\u7b26\u4e32\u6392\u5e8f","text":"<pre><code>\u7ed9\u5b9a\u4e24\u4e2a\u5b57\u7b26\u4e32 order \u548c s \u3002order \u7684\u6240\u6709\u5355\u8bcd\u90fd\u662f \u552f\u4e00 \u7684\uff0c\u5e76\u4e14\u4ee5\u524d\u6309\u7167\u4e00\u4e9b\u81ea\u5b9a\u4e49\u7684\u987a\u5e8f\u6392\u5e8f\u3002\n\u5bf9 s \u7684\u5b57\u7b26\u8fdb\u884c\u7f6e\u6362\uff0c\u4f7f\u5176\u4e0e\u6392\u5e8f\u7684order\u76f8\u5339\u914d\u3002\u66f4\u5177\u4f53\u5730\u8bf4\uff0c\u5982\u679c\u5728order\u4e2d\u7684\u5b57\u7b26 x \u51fa\u73b0\u5b57\u7b26 y \u4e4b\u524d\uff0c\u90a3\u4e48\u5728\u6392\u5217\u540e\u7684\u5b57\u7b26\u4e32\u4e2d\uff0c x\u4e5f\u5e94\u8be5\u51fa\u73b0\u5728 y \u4e4b\u524d\u3002\n\u8fd4\u56de \u6ee1\u8db3\u8fd9\u4e2a\u6027\u8d28\u7684 s \u7684\u4efb\u610f\u6392\u5217\u3002\n\u793a\u4f8b 1:\n\u8f93\u5165: order = \"cba\", s = \"abcd\"\n\u8f93\u51fa: \"cbad\"\n\u89e3\u91ca: \n\u201ca\u201d\u3001\u201cb\u201d\u3001\u201cc\u201d\u662f\u6309\u987a\u5e8f\u51fa\u73b0\u7684\uff0c\u6240\u4ee5\u201ca\u201d\u3001\u201cb\u201d\u3001\u201cc\u201d\u7684\u987a\u5e8f\u5e94\u8be5\u662f\u201cc\u201d\u3001\u201cb\u201d\u3001\u201ca\u201d\u3002\n\u56e0\u4e3a\u201cd\u201d\u4e0d\u662f\u6309\u987a\u5e8f\u51fa\u73b0\u7684\uff0c\u6240\u4ee5\u5b83\u53ef\u4ee5\u5728\u8fd4\u56de\u7684\u5b57\u7b26\u4e32\u4e2d\u7684\u4efb\u4f55\u4f4d\u7f6e\u3002\u201cdcba\u201d\u3001\u201ccdba\u201d\u3001\u201ccbda\u201d\u4e5f\u662f\u6709\u6548\u7684\u8f93\u51fa\u3002\n\u793a\u4f8b 2:\n\u8f93\u5165: order = \"cbafg\", s = \"abcd\"\n\u8f93\u51fa: \"cbad\"\n\u63d0\u793a:\n1 &lt;= order.length &lt;= 26\n1 &lt;= s.length &lt;= 200\norder\u548cs\u7531\u5c0f\u5199\u82f1\u6587\u5b57\u6bcd\u7ec4\u6210\norder\u4e2d\u7684\u6240\u6709\u5b57\u7b26\u90fd \u4e0d\u540c\n</code></pre> pythonc++ <pre><code>class Solution:\n    def customSortString(self, order: str, s: str) -&gt; str:\n        freq = Counter(s)\n        ans =  []\n        for ch in  order:\n            if ch in freq:\n                ans.extend([ch] *  freq[ch])\n                freq[ch] = 0\n        print(ans)\n        for (ch, k) in freq.items():\n            if k&gt;0:\n                ans.extend([ch] * k)\n        return  \"\".join(ans)\n</code></pre> <pre><code>class Solution {\npublic:\n    string customSortString(string order, string s) {\n        vector&lt;int&gt; freq(26);\n        string ans;\n        for(auto ch : s)  ++freq[ch-'a'];//freq[ch-'a']++;\n        for(auto ch : order)\n        {\n            if(freq[ch-'a']&gt;0)//\u5982\u679corder\u91cc\u9762\u7684\u5b57\u7b26\u5728s\u4e2d\u5b58\u5728 \n            {\n            ans += string(freq[ch-'a'], ch);\n            freq[ch-'a'] = 0;\n            }\n        }\n        for(int i=0; i&lt;26; i++)\n        {\n            if(freq[i]&gt;0) ans += string(freq[i], i + 'a');\n        }\n        return ans;\n    }\n};\n</code></pre>"},{"location":"algorithm/summary/","title":"\u5f52\u7eb3\u6cd5","text":"<p>leecode775-\u5168\u5c40\u5012\u7f6e\u4e0e\u5c40\u90e8\u5012\u7f6e     \u7ed9\u4f60\u4e00\u4e2a\u957f\u5ea6\u4e3a n \u7684\u6574\u6570\u6570\u7ec4 nums \uff0c\u8868\u793a\u7531\u8303\u56f4 [0, n - 1] \u5185\u6240\u6709\u6574\u6570\u7ec4\u6210\u7684\u4e00\u4e2a\u6392\u5217\u3002     \u5168\u5c40\u5012\u7f6e \u7684\u6570\u76ee\u7b49\u4e8e\u6ee1\u8db3\u4e0b\u8ff0\u6761\u4ef6\u4e0d\u540c\u4e0b\u6807\u5bf9 (i, j) \u7684\u6570\u76ee\uff1a     0 &lt;= i &lt; j &lt; n     nums[i] &gt; nums[j]     \u5c40\u90e8\u5012\u7f6e \u7684\u6570\u76ee\u7b49\u4e8e\u6ee1\u8db3\u4e0b\u8ff0\u6761\u4ef6\u7684\u4e0b\u6807 i \u7684\u6570\u76ee\uff1a     0 &lt;= i &lt; n - 1     nums[i] &gt; nums[i + 1]     \u5f53\u6570\u7ec4 nums \u4e2d \u5168\u5c40\u5012\u7f6e \u7684\u6570\u91cf\u7b49\u4e8e \u5c40\u90e8\u5012\u7f6e \u7684\u6570\u91cf\u65f6\uff0c\u8fd4\u56de true \uff1b\u5426\u5219\uff0c\u8fd4\u56de false \u3002     \u793a\u4f8b 1\uff1a     \u8f93\u5165\uff1anums = [1,0,2]     \u8f93\u51fa\uff1atrue     \u89e3\u91ca\uff1a\u6709 1 \u4e2a\u5168\u5c40\u5012\u7f6e\uff0c\u548c 1 \u4e2a\u5c40\u90e8\u5012\u7f6e\u3002     \u793a\u4f8b 2\uff1a     \u8f93\u5165\uff1anums = [1,2,0]     \u8f93\u51fa\uff1afalse     \u89e3\u91ca\uff1a\u6709 2 \u4e2a\u5168\u5c40\u5012\u7f6e\uff0c\u548c 1 \u4e2a\u5c40\u90e8\u5012\u7f6e\u3002</p> c++ <pre><code>class Solution {\npublic:\n    bool isIdealPermutation(vector&lt;int&gt;&amp; nums) {\n        int n = nums.size();\n        int maxVal = nums[0];\n        // \u6ee1\u8db3\u5c40\u90e8\u5012\u7f6e\u7684\u5c31\u4e00\u5b9a\u6ee1\u8db3\u5168\u5c40\u5012\u7f6e\n        // \u6240\u4ee5\u6392\u9664\u5c40\u90e8\u5012\u7f6e\u7684\u60c5\u51b5\uff0c\u53ea\u8981\u5b58\u5728\u4e00\u4e2a\u5168\u5c40\u5012\u7f6e\u5c31\u8fd4\u56defalse\n        for(int i=2; i&lt;n; i++)\n        {\n            if(nums[i]&lt;maxVal)\n            {\n                return false;\n            }\n            maxVal = max(maxVal, nums[i-1]);\n        }\n        return true;\n    }\n};\n</code></pre>"},{"location":"algorithm/window/","title":"\u6ed1\u52a8\u7a97\u53e3","text":"<p>Offer-II-009 \u4e58\u79ef\u5c0f\u4e8e K \u7684\u5b50\u6570\u7ec4</p> <pre><code>\u7ed9\u5b9a\u4e00\u4e2a\u6b63\u6574\u6570\u6570\u7ec4nums\u548c\u6574\u6570 k\uff0c\u8bf7\u627e\u51fa\u8be5\u6570\u7ec4\u5185\u4e58\u79ef\u5c0f\u4e8ek\u7684\u8fde\u7eed\u7684\u5b50\u6570\u7ec4\u7684\u4e2a\u6570\u3002\n\u793a\u4f8b 1:\n\u8f93\u5165: nums = [10,5,2,6], k = 100\n\u8f93\u51fa: 8\n\u89e3\u91ca: 8 \u4e2a\u4e58\u79ef\u5c0f\u4e8e 100 \u7684\u5b50\u6570\u7ec4\u5206\u522b\u4e3a: [10], [5], [2], [6], [10,5], [5,2], [2,6], [5,2,6]\u3002\n\u9700\u8981\u6ce8\u610f\u7684\u662f [10,5,2] \u5e76\u4e0d\u662f\u4e58\u79ef\u5c0f\u4e8e100\u7684\u5b50\u6570\u7ec4\u3002\n\u793a\u4f8b 2:\n\u8f93\u5165: nums = [1,2,3], k = 0\n\u8f93\u51fa: 0\n\u63d0\u793a:\n1 &lt;= nums.length &lt;= 3 * 104\n1 &lt;= nums[i] &lt;= 1000\n0 &lt;= k &lt;= 106\n</code></pre> c++/v1c++/v2 <pre><code>class Solution {\npublic:\n    int numSubarrayProductLessThanK(vector&lt;int&gt;&amp; nums, int k) {\n        int left = 0;\n        int right = 0;\n        int product = 1;\n        int len = nums.size();\n        int cnt = 0;\n        while(left &lt;= right  &amp;&amp; left &lt; len)\n        {\n            product = product * nums[right];\n            if(product &lt; k)\n            {\n                cnt++;\n                right++;\n                if(right &gt;= len){\n                    left++;\n                    right = left;\n                    product = 1;\n                }\n            }\n            else\n            {\n                left++;\n                right = left;\n                product = 1;\n            }\n        }\n        return cnt;\n    }\n};\n</code></pre> <pre><code>class Solution {\npublic:\n    int numSubarrayProductLessThanK(vector&lt;int&gt;&amp; nums, int k) {\n        int L=0, N=nums.size(), product=1, ans=0;\n        for (int i = 0; i &lt; N; ++i) \n        {\n            product = product * nums[i];\n            while (L &lt;= i &amp;&amp; product &gt;=k ) product = product/nums[L++];\n            ans += (i - L + 1);\n        }\n        return ans;\n    }\n};\n</code></pre>"},{"location":"data/","title":"\u5927\u6570\u636e","text":"<p>\u70b9\u51fb\u5de6\u4fa7\u76ee\u5f55\u6253\u5f00\u6587\u7ae0</p>"},{"location":"data/hive/","title":"Hive","text":""},{"location":"data/hive/#hiverc","title":"\u914d\u7f6e.hiverc","text":"<pre><code>set hive.mapred.mode=nostrict;\nset hive.execution.engine=mr;\nset mapred.job.queue.name=root;\nset hive.exec.script.allow.partial.consumption=true;\nset hive.exec.dynamici.partition=true;\nset hive.exec.dynamic.partition.mode=nonstrict;\n</code></pre>"},{"location":"data/hive/#_1","title":"\u5982\u4f55\u5bf9\u4e00\u4e2a\u5e8f\u5217\uff0c\u6309\u7167\u65f6\u95f4\u6233\uff0c\u8fdb\u884c\u6392\u5e8f","text":"<ul> <li>\u63cf\u8ff0\uff1a\u5176\u4e2dts\u8868\u793a\u5b57\u6bb5\u4e3a\u65f6\u95f4\u6233\uff0citem_id\u8868\u793a\u4e3a\u7269\u6599ID\u3002<ul> <li>\u2460 concat_ws \u628a\u7269\u6599\u548c\u65f6\u95f4\u6233\u7c98\u5728\u4e00\u8d77\uff0c\u5176\u4e2d\u65f6\u95f4\u6233\u5728\u524d\u9762\u3002</li> <li>\u2461 collect_list \u628a\u7ec4\u88c5\u540e\u7684\u5b57\u7b26\u4e32\u6536\u96c6\u5230list\u4e2d\u3002</li> <li>\u2462 sort_array \u628aarray\u53d8\u6210\u6709\u5e8f\u3002</li> <li>\u2463 regexp_replace \u628a\u65f6\u95f4\u6233\u5243\u6389\u3002 <pre><code>regexp_replace(concat_ws(',', \n                sort_array(\n                collect_list(\n                concat_ws(':', ts, \n                cast(item as string))))), \n                '\\\\\\\\d+\\:', '') seq\n</code></pre></li> </ul> </li> </ul>"},{"location":"data/mysql/","title":"Mysql","text":"<p><pre><code>apt install mysql-server # \u5b89\u88c5mysql\n</code></pre> <pre><code>mysqladmin -uroot -p123456 password root       --\u4fee\u6539root\u7684\u5bc6\u7801\nCREATE USER 'gpt'@'%' IDENTIFIED BY '***';     --\u65b0\u5efa\u7528\u6237gpt\nCREATE DATABASE gpt_db;                        --\u65b0\u5efa\u5e93\nGRANT ALL PRIVILEGES ON gpt_db.* TO 'gpt'@'%'; --\u7ed9\u7528\u6237\u6388\u6743\n</code></pre></p>"},{"location":"data/mysql/#etcmycnf","title":"/etc/my.cnf","text":"<pre><code>[mysqld]\nuser=root\nskip-grant-tables\n[mysql]\nuser=root\nsocket=/var/lib/mysql/mysql.sock\n[mysqld_safe]\nuser=root\npid-file=/var/lib/mysql/mysqld.pid\nsocket=/var/lib/mysql/mysql.sock\n[mysqladmin]\nuser=root\nsocket=/var/lib/mysql/mysql.sock\n</code></pre> <pre><code>SET GLOBAL validate_password.LENGTH = 0;\nSET GLOBAL validate_password.policy = 0;\nSET GLOBAL validate_password.mixed_case_count = 0;\nSET GLOBAL validate_password.number_count = 0;\nSET GLOBAL validate_password.special_char_count = 0;\nSET GLOBAL validate_password.check_user_name = 0;\nALTER USER 'root'@'localhost' IDENTIFIED BY 'root'; \n\nFLUSH PRIVILEGES;\n\nCREATE USER 'app'@'%' IDENTIFIED BY 'app';     --\u65b0\u5efa\u7528\u6237gpt\nCREATE DATABASE sharingan;                        --\u65b0\u5efa\u5e93\nGRANT ALL PRIVILEGES ON sharingan.* TO 'app'@'%'; --\u7ed9\u7528\u6237\u6388\u6743\n</code></pre>"},{"location":"data/spark/","title":"Spark","text":""},{"location":"data/spark/#spark-tfrecord","title":"spark \u8bfb\u53d6tfrecord","text":"<pre><code>val hdfsPath=\"hdfs://xx/2022-07-06/03\"\nval tfrecordDF = spark.read.format(\"tfrecords\").option(\"recordType\", \"Example\").load(hdfsPath).repartition(1000)\nprint(tfrecordDF.columns)\n</code></pre>"},{"location":"language/","title":"\u7f16\u7a0b\u8bed\u8a00","text":"<p>\u70b9\u51fb\u5de6\u4fa7\u76ee\u5f55\u6253\u5f00\u6587\u7ae0</p>"},{"location":"language/bash/","title":"shell\u4f7f\u7528map\u6559\u7a0b","text":"<pre><code>declare -A modelMap        #\u58f0\u660e1\u4e2amap\nmodelMap[\"a\"]=\"b\"          #\u6dfb\u52a0kv\u7ed3\u6784\nmodelName=${modelMap[\"a\"]} #\u901a\u8fc7key\u83b7\u53d6value\n</code></pre>"},{"location":"language/bash/#sed","title":"sed\u66ff\u6362\u914d\u7f6e\u6587\u4ef6","text":"<pre><code>sed -i \"s/model:.*/model: ${modelName}/g\"   configs/a.yaml\n</code></pre>"},{"location":"language/bash/#_1","title":"\u5e38\u7528\u547d\u4ee4","text":""},{"location":"language/bash/#1-linux","title":"1. \u4fee\u6539linux\u63d0\u793a","text":"<ul> <li>\u547d\u4ee4       <pre><code>export PS1='[r@v\\W]$'\n</code></pre></li> <li>\u6548\u679c       &gt;[r@vworkspace]</li> </ul>"},{"location":"language/bash/#2","title":"2. \u67e5\u770b\u663e\u5b58\u72b6\u6001","text":"<ul> <li>\u547d\u4ee4       <pre><code>nvidia-smi   -lms 5000 # \u6bcf\u96945s\u6253\u5370\u4e00\u6b21\n</code></pre></li> <li>\u6548\u679c</li> </ul>"},{"location":"language/bash/#3-scp","title":"3. scp\u547d\u4ee4","text":"<ul> <li>\u547d\u4ee4       <pre><code>scp -P port fileName user@ip:/dirName\n</code></pre></li> <li>\u89e3\u91ca       <pre><code>-P: \u5927\u5199\u7684P, \u6307\u5b9a\u7aef\u53e3\u53f7\nfileName: \u6307\u9700\u8981\u4f20\u8f93\u7684\u6587\u4ef6\u8def\u5f84, \u5efa\u8bae\u4f7f\u7528\u7edd\u5bf9\u8def\u5f84\nuser: \u8fdc\u7a0b\u4e3b\u673a\u7528\u6237\u540d\nip: \u8fdc\u7a0b\u4e3b\u673aIP\u5730\u5740\ndirName: \u8fdc\u7a0b\u4e3b\u673a\u53ef\u4ee5\u5199\u5165\u6587\u4ef6\u7684\u76ee\u5f55\n</code></pre></li> </ul> <p>\u53c2\u8003\uff1a - https://www.cnblogs.com/wsnan/p/11769838.html</p>"},{"location":"language/chinese/","title":"Chinese","text":""},{"location":"language/chinese/#_1","title":"\u300a\u517b\u6b63\u9057\u89c4\u300b\u6e05\u4ee3.\u9648\u5b8f\u8c0b","text":"<pre><code>\u624d\u4e0d\u8db3\u5219\u591a\u8c0b\uff0c\u8d8a\u662f\u6ca1\u6709\u624d\u534e\u7684\u4eba\uff0c\u8d8a\u559c\u6b22\u63d0\u5efa\u8bae\u3002\n\u8bc6\u4e0d\u8db3\u5219\u591a\u8651\uff0c\u8d8a\u662f\u6ca1\u6709\u89c1\u8bc6\u7684\u4eba\uff0c\u8d8a\u662f\u987e\u8651\u591a\u3002\n\u5a01\u4e0d\u8db3\u5219\u591a\u6012\uff0c\u8d8a\u662f\u6ca1\u6709\u5a01\u4fe1\u7684\u4eba\uff0c\u8d8a\u559c\u6b22\u53d1\u6012\u6765\u89e3\u51b3\u95ee\u9898\u3002\n\u4fe1\u4e0d\u8db3\u5219\u591a\u8a00\uff0c\u8d8a\u662f\u6ca1\u6709\u4fe1\u7528\u7684\u4eba\uff0c\u8d8a\u559c\u6b22\u5938\u5938\u5176\u8c08\uff0c\u4fe1\u53e3\u5f00\u6cb3\u3002\n</code></pre>"},{"location":"language/chinese/#_2","title":"\u300a\u91d1\u9e21\u62a5\u6653\u300b\u660e\u671d.\u6731\u5143\u748b","text":"<pre><code>\u9e21\u53eb\u4e00\u58f0\u6485\u4e00\u6485\uff0c\n\u9e21\u53eb\u4e24\u58f0\u6485\u4e24\u6485\u3002\n\u4e09\u58f0\u5524\u51fa\u6276\u6851\u65e5\uff0c\n\u626b\u5c3d\u6b8b\u661f\u4e0e\u6653\u6708\u3002\n</code></pre>"},{"location":"language/chinese/#_3","title":"\u63a8\u8350\u7535\u5f71","text":"<pre><code>\u300a\u91d1\u94b1\u901a\u89e3\u300b\n\u300a\u5bcc\u54e5\u54e5\u7a77\u5f1f\u5f1f\u300b\n\u300a\u91d1\u94b1\u548c\u6211\u300b\n\u300a\u9690\u59d3\u4ebf\u4e07\u5bcc\u7fc1\u300b\n</code></pre>"},{"location":"language/chinese/#_4","title":"\u63a8\u8350\u4e66","text":"<pre><code>\u300a\u8036\u8def\u6492\u51b7\u4e09\u5343\u5e74\u300b\n\u300a\u521b\u4e1a\u7684\u56fd\u5ea6\u300b\n\u300a\u516b\u6b21\u5371\u673a\u300b\u6e29\u94c1\u519b\n</code></pre>"},{"location":"language/chinese/#_5","title":"\u6c11\u95f4\u4fda\u8bed","text":"<pre><code>\u4eba\u7a77\u5fd7\u77ed\uff0c\u9a6c\u7626\u6bdb\u957f\n\u6551\u6025\u4e0d\u6551\u7a77 \uff0c\u5e2e\u7b28\u4e0d\u5e2e\u61d2\n\u4eba\u7a77\u522b\u8d70\u4eb2\uff0c\u9a6c\u7626\u522b\u8d70\u5175\n\u7f8e\u5987\u60a6\u76ee\uff0c\u8d24\u5987\u60a6\u5fc3\n\u868a\u866b\u906d\u4eba\u6253\uff0c\u53ea\u56e0\u5634\u4f24\u4eba\n\u5978\u8fd1\u6740\uff0c\u8d4c\u8fd1\u76d7\n\u4e00\u6bcd\u517b\u4e03\u513f\uff0c\u4e03\u513f\u96be\u517b\u6bcd\n\u4e0d\u770b\u5bb6\u4e2d\u59bb\uff0c\u4f46\u770b\u8eab\u4e0a\u8863\n\u4e00\u4eba\u8d5a\u94b1\u5168\u6751\u998b\uff0c\u4e00\u4eba\u81f4\u5bcc\u5168\u6751\u62e6\n\u672a\u66fe\u6e05\u8d2b\u96be\u6210\u4eba\uff0c\u4e0d\u7ecf\u632b\u6298\u6c38\u5929\u771f\n\u4eba\u60c5\u4f3c\u7eb8\u5f20\u5f20\u8584\uff0c\u4e8b\u4e8b\u5982\u68cb\u5c40\u5c40\u65b0\n\u5165\u5c71\u4e0d\u6015\u864e\u4f24\u4eba\uff0c\u53ea\u6015\u4eba\u60c5\u4e24\u9762\u5200\n\u6709\u94b1\u6709\u9152\u591a\u5144\u5f1f\uff0c\u6025\u96be\u4f55\u66fe\u89c1\u4e00\u4eba\n\u5802\u4e0a\u4e8c\u8001\u662f\u6d3b\u4f5b\uff0c\u4f55\u7528\u7075\u5c71\u671d\u4e16\u5c0a\n\u7f8e\u4eba\u5356\u7b11\u5343\u91d1\u6613\uff0c\u58ee\u58eb\u7a77\u9014\u4e00\u996d\u96be\n\u5c11\u65f6\u603b\u89c9\u4e3a\u4eba\u6613\uff0c\u534e\u5e74\u65b9\u77e5\u7acb\u4e1a\u96be\n\u9a6c\u884c\u65e0\u529b\u7686\u56e0\u7626\uff0c\u4eba\u4e0d\u98ce\u6d41\u53ea\u4e3a\u8d2b\n\u53e4\u4eba\u4e0d\u89c1\u4eca\u65f6\u6708\uff0c\u4eca\u6708\u66fe\u7ecf\u7167\u53e4\u4eba\n\u5fc3\u5b58\u90aa\u7656\u4efb\u5c14\u70e7\u9999\u65e0\u70b9\u76ca\uff0c\u6301\u8eab\u6b63\u6c14\u89c1\u4f5b\u4e0d\u62dc\u53c8\u4f55\u59a8\n</code></pre>"},{"location":"language/chinese/#_6","title":"\u9ec4\u5ead\u575a\u300a\u5bc4\u9ec4\u51e0\u590d\u300b","text":"<pre><code>\u6768\u67f3\u6625\u98ce\u4e00\u676f\u9152\uff0c\n\u6c5f\u6e56\u591c\u96e8\u51e0\u5e74\u706f\uff0c\n\u672a\u66fe\u6e05\u8d2b\u96be\u6210\u4eba\uff0c\n\u4e0d\u7ecf\u632b\u6298\u6c38\u5929\u771f\uff0c\n\u4eba\u60c5\u4f3c\u7eb8\u5f20\u5f20\u8584\uff0c\n\u4e16\u4e8b\u5982\u68cb\u5c40\u5c40\u65b0\uff0c\n\u8d2b\u5c45\u95f9\u5e02\u65e0\u4eba\u95ee\uff0c\n\u5bcc\u5728\u6df1\u5c71\u6709\u8fdc\u4eb2\uff0c\n\u4e0d\u4fe1\u4f46\u770b\u5bb4\u4e2d\u9152\uff0c\n\u676f\u676f\u5148\u656c\u6709\u94b1\u4eba\uff01\n</code></pre>"},{"location":"language/chinese/#_7","title":"\u63a8\u8350\u7535\u89c6\u5267","text":"<pre><code>\u5929\u9053\n\u5927\u6e05\u76d0\u5546\n\u5927\u67d3\u574a\n\u9e21\u6bdb\u98de\u4e0a\u5929\n\u5927\u79e6\u5e1d\u56fd\n\u695a\u6c49\u4e89\u9738\n\u4e54\u5bb6\u5927\u9662\n\u76f8\u7231\u5341\u5e74\n\u9752\u5c9b\u5f80\u4e8b\n\u5927\u76db\u9b41\n</code></pre>"},{"location":"language/chinese/#_8","title":"\u8b66\u9192","text":"<pre><code>\u5929\u4e4b\u9053\uff0c\u5229\u800c\u4e0d\u5bb3\n\u5723\u4eba\u4e4b\u9053\uff0c\u4e3a\u800c\u4e0d\u4e89\n</code></pre>"},{"location":"language/chinese/#_9","title":"\u767d\u9a6c\u5bfa\u5bf9\u8054","text":"<pre><code>\u5929\u96e8\u867d\u5927\uff0c\u4e0d\u6da6\u65e0\u6839\u4e4b\u8349\n\u4f5b\u6cd5\u867d\u5bbd\uff0c\u53ea\u6e21\u6709\u7f18\u4e4b\u4eba\n</code></pre>"},{"location":"language/cplus/","title":"to_string(123) // int\u8f6c\u6210string","text":""},{"location":"language/cplus/#stoi123-stringint","title":"stoi(\"123\") // string\u8f6c\u6210int","text":""},{"location":"language/cplus/#vector","title":"vector \u6392\u5e8f","text":"<pre><code>sort(boxTypes.begin(), boxTypes.end(), [](const vector&lt;int&gt; &amp;a, const vector&lt;int&gt; &amp;b) {\n    return a[1] &gt; b[1];\n});\n</code></pre>"},{"location":"language/cplus/#vector_1","title":"vector \u7d2f\u52a0","text":"<pre><code>int total =  accumulate(nums.begin(), nums.end(), 0);\n</code></pre>"},{"location":"language/cplus/#1-vector","title":"1. vector\u5bb9\u5668","text":""},{"location":"language/cplus/#11","title":"1.1. \u6253\u5370","text":"<pre><code>void printVector(vector&lt;int&gt; &amp;v)\n{\nfor(vector&lt;int&gt;::iterator it = v.begin(); it != v.end(); it++)\n{\n    cout&lt;&lt; *it &lt;&lt; \", \";\n}\ncout &lt;&lt;endl;\n}\n</code></pre>"},{"location":"language/cplus/#12","title":"1.2. \u63d2\u5165\u5220\u9664","text":"<ul> <li>push_back(ele);//\u5c3e\u90e8\u63d2\u5165ele</li> <li>pop_back();//\u5220\u9664\u6700\u540e\u4e00\u4e2a\u5143\u7d20</li> <li>insert(const_iterator pos, ele);//\u8fed\u4ee3\u5668\u6307\u5411pos\u63d2\u5165\u5143\u7d20ele</li> <li>insert(const_iterator pos, int count, ele);//\u8fed\u4ee3\u5668\u6307\u5411\u4f4d\u7f6epos\u63d2\u5165count\u4e2a\u5143\u7d20ele</li> <li>erase(const_iterator pos);//\u5220\u9664\u8fed\u4ee3\u5668\u6307\u5411\u7684\u5143\u7d20</li> <li>erase(const_iterator start, const_iterator end);//\u5220\u9664\u8fed\u4ee3\u5668 start\u548cend\u4e4b\u95f4\u7684\u5143\u7d20</li> <li>clear();//\u5220\u9664\u5bb9\u5668\u4e2d\u6240\u6709\u7684\u5143\u7d20</li> </ul>"},{"location":"language/cplus/#121","title":"1.2.1. \u6848\u4f8b","text":"<pre><code> vector&lt;int&gt; v1;\n  //\u5c3e\u63d2\n  v1.push_back(10);\n  v1.push_back(20);\n  v1.push_back(30);\n  v1.push_back(40);\n  v1.push_back(50);\n  v1.push_back(60);\n  //\u904d\u5386\n  printVector(v1);\n  //\u5c3e\u5220\n  v1.pop_back();\n  printVector(v1);\n\n  v1.insert(v1.begin(), 100);\n  printVector(v1);\n  v1.insert(v1.begin(), 2, 1000);\n  printVector(v1);\n\n  v1.erase(v1.begin());\n  printVector(v1);\n  //\u6e05\u7a7a\n  v1.erase(v1.begin(), v1.end());\n  printVector(v1);\n</code></pre>"},{"location":"language/cplus/#13","title":"1.3. \u904d\u5386\u8bbf\u95ee","text":""},{"location":"language/cplus/#131","title":"1.3.1 \u6848\u4f8b","text":"<pre><code>  vector&lt;int&gt; v1;\n  for(int i=0; i&lt;10; i++)\n  {\n    v1.push_back(i);\n  }\n\n  for (int i=0; i&lt;v1.size(); i++){\n    cout &lt;&lt; v1[i] &lt;&lt; \", \";\n  }\n  cout &lt;&lt; endl;\n\n  for (int i=0; i &lt;v1.size();  i++){\n    cout &lt;&lt;  v1.at(i) &lt;&lt; \", \";\n  }\n  cout &lt;&lt; endl;\n\n  cout  &lt;&lt; \"\u7b2c\u4e00\u4e2a\u5143\u7d20\uff1a\" &lt;&lt; v1.front() &lt;&lt; endl;\n  cout  &lt;&lt; \"\u6700\u540e\u4e00\u4e2a\u5143\u7d20\uff1a\" &lt;&lt; v1.back() &lt;&lt; endl;\n</code></pre>"},{"location":"language/cplus/#14-swap","title":"1.4. swap \u4ea4\u6362","text":""},{"location":"language/cplus/#141","title":"1.4.1 \u6848\u4f8b","text":"<pre><code>  vector&lt;int&gt; v1;\n  for(int i=0; i&lt;10; i++)\n  {\n    v1.push_back(i);\n  }\n  printVector(v1);\n\n  vector&lt;int&gt; v2;\n  for(int i=10; i&gt;0; i--){\n    v2.push_back(i);\n  }\n  printVector(v2);\n\n  cout &lt;&lt; \"\u4ea4\u6362\u540e\uff1a\" &lt;&lt; endl;\n  v1.swap(v2);\n\n  printVector(v1);\n  printVector(v2);\n</code></pre>"},{"location":"language/cplus/#141-swap","title":"1.4.1 \u5de7\u7528swap\u91ca\u653e\u5185\u5b58","text":"<pre><code>  vector&lt;int&gt; v;\n  for (int i=0; i&lt;100000; i++)\n  {\n    v.push_back(i);\n  }\n  cout  &lt;&lt; \"v\u5bb9\u91cf\u4e3a\uff1a\" &lt;&lt; v.capacity() &lt;&lt; endl;\n  cout  &lt;&lt; \"v\u5927\u5c0f\u4e3a\uff1a\" &lt;&lt; v.size() &lt;&lt; endl;\n  v.resize(3);\n  cout  &lt;&lt; \"v\u5bb9\u91cf\u4e3a\uff1a\" &lt;&lt; v.capacity() &lt;&lt; endl;\n  cout  &lt;&lt; \"v\u5927\u5c0f\u4e3a\uff1a\" &lt;&lt; v.size() &lt;&lt; endl;\n  vector&lt;int&gt;(v).swap(v);\n  cout  &lt;&lt; \"v\u5bb9\u91cf\u4e3a\uff1a\" &lt;&lt; v.capacity() &lt;&lt; endl;\n  cout  &lt;&lt; \"v\u5927\u5c0f\u4e3a\uff1a\" &lt;&lt; v.size() &lt;&lt; endl;\n  //vector&lt;int&gt;(v) \u533f\u540d\u5bf9\u8c61\uff0c\u6309\u7167v\u76ee\u524d\u6240\u7528\u7684\u5143\u7d20\u4e2a\u6570\u521d\u59cb\u5316\u533f\u540d\u5bf9\u8c61\uff0c\n  //swap\u5bb9\u5668\u4ea4\u6362\n  //\u533f\u540d\u5bf9\u8c61\u6267\u884c\u5b8c\u6210\uff0c\u5185\u5b58\u56de\u6536\n</code></pre>"},{"location":"language/cplus/#2-deque","title":"2. Deque \u5bb9\u5668","text":""},{"location":"language/cplus/#21","title":"2.1. \u6253\u5370","text":"<pre><code>void printDeque(const deque&lt;int&gt; &amp;d)\n{\nfor(deque&lt;int&gt;::const_iterator it = d.begin(); it != d.end(); it++)\n{\n    //*it = 100; \u4e3a\u4e86\u4e0d\u8ba9\u7528\u6237\u4fee\u6539\n    //const, const_iterator \u4e00\u8d77\u4f7f\u7528\u5426\u5219\u62a5\u9519\n    cout&lt;&lt; *it &lt;&lt; \", \";\n}\ncout &lt;&lt;endl;\n}\n</code></pre>"},{"location":"language/cplus/#22","title":"2.2. \u6784\u9020\u51fd\u6570","text":""},{"location":"language/cplus/#221","title":"2.2.1. \u6784\u9020\u51fd\u6570","text":"<ul> <li>deque  deqT; //\u9ed8\u8ba4\u6784\u9020\u5f62\u5f0f <li>deque(beg, end); //\u6784\u9020\u51fd\u6570[beg, end)\u533a\u95f4\u4e2d\u7684\u5143\u7d20\u62f7\u8d1d\u7ed9\u672c\u8eab</li> <li>deque(n, elem); //\u6784\u9020\u51fd\u6570\u5c06n\u4e2aelem\u62f7\u8d1d\u7ed9\u672c\u8eab</li> <li>deque(const deque, &amp;deq); //\u62f7\u8d1d\u6784\u9020\u51fd\u6570</li>"},{"location":"language/cplus/#222","title":"2.2.2. \u4ee3\u7801\u6837\u4f8b","text":"<pre><code>  deque&lt;int&gt; d1;\n  for(int i=0; i&lt;10; i++)\n  {\n    d1.push_back(i);\n  }\n  printDeque(d1);\n  deque&lt;int&gt;d2(d1.begin(), d1.end());\n  printDeque(d2);\n  deque&lt;int&gt;d3(10, 100);\n  printDeque(d3);\n  deque&lt;int&gt;d4(d3);\n  printDeque(d4);\n</code></pre>"},{"location":"language/cplus/#23","title":"2.3. \u8d4b\u503c","text":"<pre><code>  printDeque(d1);\n  //operator=\u8d4b\u503c\n  deque&lt;int&gt;d2;\n  d2 = d1;\n  printDeque(d2);\n  // assign \u8d4b\u503c\n  deque&lt;int&gt;d3;\n  d3.assign(d1.begin(), d1.end());\n  printDeque(d3);\n  deque&lt;int&gt;d4;\n  d4.assign(10, 100);// 10\u4e2a100\n  printDeque(d4);\n</code></pre>"},{"location":"language/cplus/#24","title":"2.4. \u5bb9\u5668\u5927\u5c0f","text":"<pre><code>  deque&lt;int&gt; d1;\n  for (int i=0; i&lt;10; i++)\n  {\n    d1.push_back(i);\n  }\n  printDeque(d1);\n  if (d1.empty())\n  {\n    cout &lt;&lt; \"d1 \u4e3a\u7a7a \" &lt;&lt; endl;\n  }\n  else\n  {\n    cout &lt;&lt; \"d1 \u4e0d\u4e3a\u7a7a\" &lt;&lt; endl;\n    cout &lt;&lt; \"d1 \u5927\u5c0f\u4e3a\uff1a\"  &lt;&lt; d1.size() &lt;&lt; endl;\n    //deque \u5bb9\u5668\u6ca1\u6709\u5bb9\u91cf\u6982\u5ff5\n  }\n  // \u6bd4\u539f\u6765\u957f\n  //d1.resize(15);\n  printDeque(d1); // \u9ed8\u8ba4\u75280\u586b\u5145\n  d1.resize(15, 1);\n  printDeque(d1);\n  d1.resize(5);\n  printDeque(d1);\n</code></pre>"},{"location":"language/cplus/#25","title":"2.5. \u5220\u9664","text":"<ul> <li>\u4e24\u7aef\u64cd\u4f5c<ul> <li>push_back(elem); //\u5728\u5bb9\u5668\u5c3e\u90e8\u6dfb\u52a0\u4e00\u4e2a\u6570\u636e</li> <li>push_front(elem); //\u5728\u5bb9\u5668\u5934\u90e8\u63d2\u5165\u4e00\u4e2a\u6570\u636e</li> <li>pop_back(); //\u5220\u9664\u5bb9\u5668\u6700\u540e\u4e00\u4e2a\u6570\u636e</li> <li>pop_front();  //\u5220\u9664 \u5bb9\u5668\u7b2c\u4e00\u4e2a\u5143\u7d20</li> </ul> </li> </ul> <pre><code>  deque&lt;int&gt; d1;\n  // \u5c3e\u63d2\n  d1.push_back(10);\n  d1.push_back(20);\n  //\u5934\u63d2\n  d1.push_front(100);\n  d1.push_front(200);\n  printDeque(d1);\n\n  //\u5c3e\u5220\n  d1.pop_back();\n  printDeque(d1);\n  //\u5934\u5220\n  d1.pop_front();\n  printDeque(d1);\n\n  d1.insert(d1.begin(), 1000);\n  printDeque(d1);\n  d1.insert(d1.begin(), 2,  10000);\n  printDeque(d1);\n\n  //\u6309\u7167\u533a\u95f4\u63d2\u5165\n  deque&lt;int&gt; d2;\n  d2.push_back(1);\n  d2.push_back(2);\n  d2.push_back(3);\n  d1.insert(d1.begin(), d2.begin(), d2.end());\n  printDeque(d1);\n</code></pre> <ul> <li>\u6307\u5b9a\u4f4d\u7f6e\u64cd\u4f5c<ul> <li>insert(pos, elem); //\u5728pos\u4f4d\u7f6e\u63d2\u5165\u4e00\u4e2aelem\u5143\u7d20\u7684\u62f7\u8d1d\uff0c\u8fd4\u56de\u65b0\u6570\u636e\u7684\u4f4d\u7f6e</li> <li>insert(pos, n, elem); //\u5728pos\u4f4d\u7f6e\u63d2\u5165n\u4e2aelem\u6570\u636e\uff0c\u65e0\u8fd4\u56de\u503c</li> <li>insert(pos, beg, end); //\u5728pos\u4f4d\u7f6e\u63d2\u5165[beg, end)\u533a\u95f4\u7684\u6570\u636e\uff0c\u65e0\u8fd4\u56de\u503c</li> <li>clear(); //\u6e05\u7a7a\u5bb9\u5668\u7684\u6240\u6709\u6570\u636e</li> <li>erase(beg, end); //\u5220\u9664[beg, end)\u533a\u95f4\u7684\u6570\u636e\uff0c\u8fd4\u56de\u4e0b\u4e00\u4e2a\u6570\u636e\u7684\u4f4d\u7f6e</li> <li>erase(pos); //\u5220\u9664pos\u4f4d\u7f6e\u7684\u6570\u636e\uff0c\u8fd4\u56de\u4e0b\u4e00\u4e2a\u6570\u636e\u7684\u4f4d\u7f6e</li> </ul> </li> </ul> <pre><code>  deque&lt;int&gt; d1;\n  // \u5c3e\u63d2\n  d1.push_back(10);\n  d1.push_back(20);\n  //\u5934\u63d2\n  d1.push_front(100);\n  d1.push_front(200);\n  //\u5220\u9664\n  deque&lt;int&gt;::iterator it = d1.begin();\n  it++;\n  d1.erase(it);\n  printDeque(d1);\n\n  //\u6309\u7167\u533a\u95f4\u65b9\u5f0f\u5220\u9664\n  d1.erase(d1.begin(), d1.end());\n  printDeque(d1);\n  d1.clear();\n  printDeque(d1);\n</code></pre>"},{"location":"language/cplus/#26","title":"2.6. \u8bbf\u95ee","text":"<pre><code>  deque&lt;int&gt; d;\n  d.push_back(10);\n  d.push_back(20);\n  d.push_back(30);\n  d.push_front(100);\n  d.push_front(200);\n  d.push_front(300);\n  //\u901a\u8fc7[]\u65b9\u5f0f\u8fdb\u884c\u8bbf\u95ee\n  for(int i=0; i&lt;d.size(); i++)\n  {\n    cout &lt;&lt; d[i] &lt;&lt; \", \";\n  }\n  cout &lt;&lt; endl;\n  //\u901a\u8fc7at\u8fdb\u884c\u8bbf\u95ee\u5143\u7d20\n  for(int i=0; i&lt;d.size(); i++)\n  {\n    cout &lt;&lt; d.at(i) &lt;&lt; \", \";\n  }\n  cout &lt;&lt; endl;\n  cout &lt;&lt; \"\u7b2c\u4e00\u4e2a\u5143\u7d20\u4e3a\uff1a\" &lt;&lt; d.front() &lt;&lt; endl;\n  cout &lt;&lt; \"\u6700\u540e\u4e00\u4e2a\u7d20\u4e3a\uff1a\" &lt;&lt; d.back() &lt;&lt; endl;\n</code></pre>"},{"location":"language/cplus/#3-algorithm","title":"3. \u6392\u5e8f(algorithm)","text":"<pre><code>  deque&lt;int&gt; d;\n  d.push_back(10);\n  d.push_back(20);\n  d.push_back(30);\n  d.push_front(100);\n  d.push_front(200);\n  d.push_front(300);\n  printDeque(d);\n  //\u6392\u5e8f \u9ed8\u8ba4\u6392\u5e8f\u89c4\u5219\uff0c\u4ece\u5c0f\u5230\u5927\uff0c\u5347\u5e8f\n  //\u5bf9\u4e8e\u652f\u6301\u968f\u673a\u8bbf\u95ee\u7684\u8fed\u4ee3\u5668\u7684\u5bb9\u5668\uff0c\u90fd\u53ef\u4ee5\u5229\u7528sort\u7b97\u6cd5\u76f4\u63a5\u5bf9\u5176\u8fdb\u884c\u6392\u5e8f\n  //vector\u5bb9\u5668\u4e5f\u53ef\u4ee5\u5229\u7528sort\u8fdb\u884c\u6392\u5e8f\n  sort(d.begin(), d.end());\n  printDeque(d);\n</code></pre>"},{"location":"language/english/","title":"English","text":""},{"location":"language/english/#_1","title":"\u8bcd\u6839","text":""},{"location":"language/english/#infra","title":"infra \u5728...\u4e4b\u4e0b\u6216\u4e4b\u5916","text":"<ul> <li>instrastructure n \u57fa\u7840\u5efa\u8bbe\uff0c\u57fa\u7840\u8bbe\u65bd<ul> <li>instruct \u5efa\u9020</li> <li>ure \u6784\u6210\u62bd\u8c61\u540d\u8bcd</li> <li>infra + structure \u5efa\u9020\u5e95\u5c42\u7ed3\u6784 &gt;&gt; \u57fa\u7840\u8bbe\u7f6e</li> <li>It's romote area with little infrastructure.</li> </ul> </li> </ul>"},{"location":"language/english/#astr","title":"astr \u661f\u661f","text":"<ul> <li>astrophysicist n \u5929\u4f53\u7269\u7406\u5b66\u5bb6 <ul> <li>astr \u661f\u661f</li> <li>physi \u81ea\u7136\uff1b\u8eab\u4f53</li> <li>ist \u6784\u6210\u4eba\u79f0\u540d\u8bcd\u53ca\u76f8\u5173\u5f62\u5bb9\u8bcd</li> <li>astrophysicist \u7814\u7a76\u661f\u661f\u8eab\u4f53\u7684\u4eba &gt;&gt; \u5929\u68af\u7269\u7406\u5b66\u5bb6</li> <li>He was an astrophysicist for NASA.</li> </ul> </li> </ul>"},{"location":"language/english/#physi","title":"physi \u81ea\u7136\u7684\uff0c\u8eab\u4f53\u7684","text":"<ul> <li>physician n \u533b\u751f\uff0c(\u5c24\u6307)\u5185\u79d1\u533b\u751f<ul> <li>physi \u81ea\u7136\uff0c\u8eab\u4f53</li> <li>cian \u6784\u6210\u540d\u5b57\uff1b\u4ece\u4e8b...\u7684\u4eba</li> <li>physician \u4ece\u4e8b\u6cbb\u6108\u8eab\u4f53\u7684\u4eba &gt;&gt; \u533b\u751f\uff0c(\u5c24\u6307)\u5185\u79d1\u533b\u751f</li> <li>This is a caring physician trying to help.</li> </ul> </li> </ul>"},{"location":"language/english/#geo","title":"geo \u5730\u7403","text":"<ul> <li>geophysical adj \u5730\u7403\u7269\u7406\u5b66<ul> <li>geo \u5730\u7403</li> <li>physi \u81ea\u7136\uff1b\u8eab\u4f53</li> <li>geophysical = geo + physical &gt;&gt; \u5730\u7403\u7269\u7406\u5b66\u7684</li> <li>Geophysical studies in Earth are challenging because the Earth is opaque, right?</li> </ul> </li> </ul>"},{"location":"language/english/#tract","title":"tract \u62c9\u3001\u62fd","text":"<ul> <li>contract n \u5408\u540c\uff0c\u5951\u7ea6 vi vt \u4f7f\u7f29\u5c0f\uff0c\u6536\u7f29 \u7b7e\u5408\u540c<ul> <li>con (com) \u4e00\u8d77\uff0c\u5168\uff0c\u52a0\u5f3a\u9884\u671f</li> <li>tract \u62c9\u3001\u62fd</li> <li>contract \u628a\u7532\u65b9\u548c\u4e59\u65b9\u62c9\u5728\u4e00\u8d77 &gt;&gt; \u5408\u540c\uff0c\u5408\u7ea6\uff1b\u6536\u7f29</li> <li>Sign the contract now Walter.</li> </ul> </li> </ul>"},{"location":"language/english/#sid","title":"sid \u5750","text":"<ul> <li>reside vi \u5c45\u4f4f\uff0c\u5b9a\u5c45 \u5b58\u5728\u4e8e \u5c5e\u4e8e<ul> <li>re \u518d\uff1b\u5411\u540e\uff1b\u52a0\u5f3a\u8bed\u6c14</li> <li>sid \u5750</li> <li>reside = to sit back &gt;&gt; to stay behind \u7559\u4e0b\u6765\uff0c\u5b89\u987f\u4e0b\u6765 &gt;&gt; \u5c45\u4f4f</li> <li>I reside here in New York.</li> </ul> </li> </ul>"},{"location":"language/english/#puls","title":"puls \u9a71\u4f7f\uff0c\u63a8","text":"<ul> <li>compulsory adj \u5f3a\u5236\u6027\u7684\uff0c\u4e49\u52a1\u7684<ul> <li>com \u4e00\u8d77\uff1b\u5168\uff1b\u52a0\u5f3a\u8bed\u6c14</li> <li>puls \u9a71\u4f7f\uff1b\u63a8</li> <li>ory \u6784\u6210\u5f62\u5bb9\u8bcd </li> <li>compulsory \uff08\u5404\u79cd\u529b\u91cf\uff09\u4e00\u8d77\u9a71\u4f7f\u7684 &gt;&gt; \u89c4\u5b9a\u7684\uff0c\u5f3a\u8feb\u7684\uff1b\u4e49\u52a1\u7684</li> <li>School is compulsory for children between the ages of 6 and 14.</li> </ul> </li> </ul>"},{"location":"language/english/#ant","title":"ant \u6784\u6210\u540d\u8bcd\uff1b\u5de5\u4f5c\u6267\u884c\u8005","text":"<ul> <li>depressant n. \u6291\u5236\u5242\uff0c\u6291\u5236\u836f\uff0c\u9547\u9759\u5242<ul> <li>de- =\u8868\u793a\u5426\u7b49\uff1b\u9664\u53bb\uff1b\u5411\u4e0b</li> <li>press = \u6309\u538b</li> <li>ant = \u6784\u6210\u540d\u8bcd\uff1b\u5de5\u4f5c\u6267\u884c\u8005</li> <li>This is why you may have heard that alcohol is a depressant.</li> </ul> </li> </ul>"},{"location":"language/english/#con-com-","title":"con - (com-) = \u4e00\u8d77\uff1b\u5168\uff1b\u52a0\u5f3a\u8bed\u6c14","text":"<ul> <li>convey vt. \u8868\u8fbe\uff0c\u4f20\u9012\uff0c\u4f20\u8fbe\uff1b\u8fd0\u8f93\uff0c\u8fd0\u9001<ul> <li>con - (com-) = \u4e00\u8d77\uff1b\u5168\uff1b\u52a0\u5f3a\u8bed\u6c14</li> <li>vey=\u8def</li> <li>Please convey my apologies to Mr. Ackerley.</li> </ul> </li> </ul>"},{"location":"language/english/#dermin","title":"dermin = \u7ed3\u675f\uff0c\u8fb9\u754c","text":"<ul> <li>determine vt. \u786e\u5b9a\uff0c\u67e5\u660e\uff0c\u51b3\u5b9a vt.vi\uff0c\u51b3\u5b9a\uff0c\u4e0b\u51b3\u5fc3<ul> <li>de = \u8868\u5426\u5b9a\uff1b\u9664\u53bb\uff1b\u5411\u4e0b</li> <li>dermin = \u7ed3\u675f\uff0c\u8fb9\u754c</li> <li>Julia will determine the cause of the illness.</li> </ul> </li> </ul>"},{"location":"language/english/#ate","title":"ate = \u6784\u6210\u52a8\u8bcd","text":"<ul> <li>terminate vt.vi. (\u4f7f)\u7ed3\u675f\uff0c(\u4f7f)\u7ec8\u6b62. vi.\u5230\u8fbe\u7ec8\u70b9<ul> <li>termin = \u7ed3\u675f\uff0c\u8fb9\u754c</li> <li>ate = \u6784\u6210\u52a8\u8bcd</li> <li>I terminated the contract this afternoon.</li> </ul> </li> </ul>"},{"location":"language/english/#pos","title":"pos = \u653e\u7f6e","text":"<ul> <li>composition n.\u6784\u6210\uff0c\u4f5c\u54c1\uff0c\u4f5c\u66f2\uff0c\u4f5c\u4e3a\uff0c\u6784\u56fe<ul> <li>com- = \u4e00\u8d77\uff1b\u5168\uff1b\u52a0\u5f3a\u8bed\u6c14</li> <li>pos = \u653e\u7f6e</li> <li>tion = \u6784\u6210\u540d\u8bcd\uff1b\u8868\"\u52a8\u4f5c\u3001\u72b6\u6001\"\u7b49</li> <li>composition = compose\u6d3e\u751f\u540d\u8bcd\uff0c\u6784\u6210\uff0c\u4f5c\u54c1\uff0c\u521b\u4f5c\uff0c\u6784\u56fe\uff0c\u4f5c\u6587</li> <li>The chemical composition of their spaceship is unknown.</li> </ul> </li> </ul>"},{"location":"language/english/#dis-","title":"dis- = \u8868\u793a\u5426\u5b9a\uff1b\u8fdc\u79bb","text":"<ul> <li>disposition n.\u6027\u60c5\uff0c\u503e\u5411\uff0c\u5e03\u7f6e\uff0c\u5b89\u6392\uff0c\u5904\u7f6e<ul> <li>dis- = \u8868\u793a\u5426\u5b9a\uff1b\u8fdc\u79bb</li> <li>pos = \u653e\u7f6e</li> <li>-tion = \u6784\u6210\u540d\u8bcd\uff1b\u8868\u793a\"\u52a8\u4f5c\u3001\u72b6\u6001\"\u7b49</li> <li>disposition=\u6765\u81eadispose(\u4f7f\u503e\u5411\u4e8e\uff0c\u4e50\u610f)\u6027\u60c5\uff0c\u503e\u5411\uff1b\u5e03\u7f6e\uff0c\u5b89\u6392\uff1b\u5904\u7f6e</li> </ul> </li> </ul>"},{"location":"language/english/#op-ob-","title":"op-(ob-) = \u53cd\uff1b\u5411\uff1b\u59a8\u788d","text":"<ul> <li>opposition n.\u53cd\u5bf9\uff0c\u5bf9\u624b\uff0c\u53cd\u624b\u515a\uff0c\u5bf9\u7acb<ul> <li>op-(ob-) = \u53cd\uff1b\u5411\uff1b\u59a8\u788d</li> <li>pos = \u653e\u7f6e</li> <li>-tion = \u6784\u6210\u540d\u8bcd\uff1a\u8868\"\u52a8\u4f5c\u3001\u72b6\u6001\"\u7b49\uff0copposition=oppose\u6d3e\u751f\u7684\u540d\u8bcd\uff1b\u53cd\u5bf9\uff0c\u53cd\u6297\uff0c\u53cd\u624b\u515a\uff0c\u5bf9\u624b</li> <li>Most of American's wars had faced some opposition.</li> </ul> </li> </ul>"},{"location":"language/english/#-ure","title":"-ure \u6784\u6210\u62bd\u8c61\u540d\u8bcd","text":"<ul> <li>posture n. \u59ff\u6001\uff0c\u59ff\u52bf\uff0c\u6001\u5ea6\uff0c\u7acb\u573a vi.\u88c5\u8154\u4f5c\u52bf<ul> <li>post = \u653e\u7f6e</li> <li>-ure = \u6784\u6210\u62bd\u8c61\u540d\u8bcd</li> <li>posture n. \u59ff\u6001\uff0c\u59ff\u52bf\uff0c\u6001\u5ea6\uff0c\u7acb\u573a vi.\u88c5\u8154\u4f5c\u52bf</li> <li>Good posture will help you breathe and speak easier.</li> </ul> </li> </ul>"},{"location":"language/english/#sup-sub-","title":"sup- (sub-) = \u5728\u4e0b\u9762","text":"<ul> <li>suppress vt. \u9547\u538b\uff0c\u538b\u6291\uff0c\u5c01\u9501\uff0c\u9690\u7792\uff0c\u6291\u5236<ul> <li>sup- (sub-) = \u5728\u4e0b\u9762</li> <li>press = \u6309\u538b</li> <li>suppress = \u5411\u4e0b\u538b\uff0c\u9547\u538b\uff0c\u538b\u5236\uff1b\u5c01\u9501\uff1b\u6291\u5236\uff1b\u963b\u6b62</li> <li>I think he's trying to  suppress a smile.</li> </ul> </li> </ul>"},{"location":"language/java/","title":"Java","text":""},{"location":"language/java/#java","title":"java\u73af\u5883\u53d8\u91cf","text":"<pre><code>export JAVA_HOME=/usr/lib/jvm/java-1.8.0\nexport PATH=$JAVA_HOME/bin:$PATH\nexport CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar\n</code></pre>"},{"location":"language/java/#arraycopy","title":"arraycopy","text":"<pre><code>\u00a0\u00a0\u00a0\u00a0List&lt;float[]&gt;\u00a0embeddings\u00a0=\u00a0new\u00a0ArrayList&lt;float[]&gt;();\n\u00a0\u00a0\u00a0\u00a0float\u00a0cur\u00a0=\u00a00;\n\u00a0\u00a0\u00a0\u00a0for(int\u00a0i=0;i\u00a0&lt;\u00a03;\u00a0i++){\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0float[]\u00a0tmp\u00a0=new\u00a0float[10];\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0for(int\u00a0j=0;\u00a0j&lt;10;\u00a0j++){\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0cur\u00a0=\u00a0cur\u00a0+\u00a01;\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0tmp[j]\u00a0=\u00a0cur;\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0}\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0embeddings.add(tmp);\n\u00a0\u00a0\u00a0\u00a0}\n\u00a0\u00a0\u00a0\u00a0System.out.println(embeddings);\n\n\u00a0\u00a0\u00a0\u00a0int\u00a0dim\u00a0=\u00a0embeddings.get(0).length;\n\u00a0\u00a0\u00a0\u00a0int\u00a0num\u00a0=\u00a0embeddings.size();\n\u00a0\u00a0\u00a0\u00a0float[]\u00a0vector\u00a0=new\u00a0float[num\u00a0*\u00a0dim];\n\u00a0\u00a0\u00a0\u00a0for\u00a0(int\u00a0i=0;\u00a0i&lt;\u00a0embeddings.size();\u00a0i++)\u00a0{\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0System.arraycopy(embeddings.get(i),\u00a00,\u00a0vector,\u00a0i\u00a0*\u00a0userEmbDim,\u00a0userEmbDim);\n\u00a0\u00a0\u00a0\u00a0}\n\u00a0\u00a0\u00a0\u00a0System.out.println(userMultiVector);\n</code></pre> <pre><code>    /**\n     *\n     * @param recallContext\n     * @param i2IValuesRecall\n     * @param expectTextResCnt\n     * @param expectVideoResCnt\n     * @param isDebug\n     * @return\n     */\n    public List&lt;Item&gt; scoreFusion(RecallContext recallContext, Map&lt;String, List&lt;Item&gt;&gt; i2IValuesRecall,\n                                  int expectTextResCnt, int expectVideoResCnt, boolean isDebug) {\n        List&lt;Item&gt; result = new ArrayList&lt;&gt;();\n        List&lt;Item&gt; resText = new ArrayList&lt;&gt;();\n        List&lt;Item&gt; resVideo = new ArrayList&lt;&gt;();\n        for(int i=0; i&lt;expectTextResCnt + expectVideoResCnt; i++){\n            for(String keyNewsId : i2IValuesRecall.keySet()){\n                List&lt;Item&gt; i2iValues = i2IValuesRecall.get(keyNewsId);\n                List&lt;Item&gt; i2iTexts = new ArrayList&lt;&gt;();\n                List&lt;Item&gt; i2iVideos = new ArrayList&lt;&gt;();\n                for(int j=0; j&lt;i2iValues.size(); j++){\n                    Item item = i2iValues.get(j);\n                    if(\"0\".equals(item.getType())) i2iTexts.add(item);\n                    else i2iVideos.add(item);\n                }\n                if(resText.size() &gt;= expectTextResCnt  &amp;&amp; resVideo.size() &gt;= expectVideoResCnt) break;\n                if(i &lt; i2iTexts.size() &amp;&amp; resText.size() &lt; expectTextResCnt)\n                    resText.add(i2iTexts.get(i));\n                if(i&lt; i2iVideos.size() &amp;&amp; resVideo.size() &lt; expectVideoResCnt)\n                    resVideo.add(i2iVideos.get(i));\n            }\n        }\n        result.addAll(resText);\n        result.addAll(resVideo);\n        return result;\n    }\n    return result;\n    }\n</code></pre>"},{"location":"language/python/","title":"Python","text":""},{"location":"language/python/#pandas","title":"pandas","text":""},{"location":"language/python/#wheel","title":"wheel","text":""},{"location":"language/python/#jupyter","title":"Jupyter","text":""},{"location":"language/python/#tqdm","title":"tqdm","text":""},{"location":"language/python/#scrapy","title":"scrapy","text":""},{"location":"language/python/#message","title":"message","text":""},{"location":"language/python/#selenium","title":"selenium","text":""},{"location":"language/python/#gym","title":"gym","text":""},{"location":"language/pytorch/","title":"Pytorch","text":""},{"location":"language/pytorch/#11-modeltrain","title":"1.1 model.train()","text":"<p>model.train()\u7684\u4f5c\u7528\u662f\u542f\u7528 Batch Normalization \u548c Dropout\u3002     \u5982\u679c\u6a21\u578b\u4e2d\u6709BN\u5c42(Batch Normalization\uff09\u548cDropout\uff0c\u9700\u8981\u5728\u8bad\u7ec3\u65f6\u6dfb\u52a0model.train()\u3002model.train()\u662f\u4fdd\u8bc1BN\u5c42\u80fd\u591f\u7528\u5230\u6bcf\u4e00\u6279\u6570\u636e\u7684\u5747\u503c\u548c\u65b9\u5dee\u3002\u5bf9\u4e8eDropout\uff0cmodel.train()\u662f\u968f\u673a\u53d6\u4e00\u90e8\u5206\u7f51\u7edc\u8fde\u63a5\u6765\u8bad\u7ec3\u66f4\u65b0\u53c2\u6570\u3002</p>"},{"location":"language/pytorch/#12-modeleval","title":"1.2 model.eval()","text":"<p>model.eval()\u7684\u4f5c\u7528\u662f\u4e0d\u542f\u7528 Batch Normalization \u548c Dropout\u3002</p> <pre><code>\u5982\u679c\u6a21\u578b\u4e2d\u6709BN\u5c42(Batch Normalization\uff09\u548cDropout\uff0c\u5728\u6d4b\u8bd5\u65f6\u6dfb\u52a0model.eval()\u3002model.eval()\u662f\u4fdd\u8bc1BN\u5c42\u80fd\u591f\u7528\u5168\u90e8\u8bad\u7ec3\u6570\u636e\u7684\u5747\u503c\u548c\u65b9\u5dee\uff0c\u5373\u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u8981\u4fdd\u8bc1BN\u5c42\u7684\u5747\u503c\u548c\u65b9\u5dee\u4e0d\u53d8\u3002\u5bf9\u4e8eDropout\uff0cmodel.eval()\u662f\u5229\u7528\u5230\u4e86\u6240\u6709\u7f51\u7edc\u8fde\u63a5\uff0c\u5373\u4e0d\u8fdb\u884c\u968f\u673a\u820d\u5f03\u795e\u7ecf\u5143\u3002\n\u8bad\u7ec3\u5b8ctrain\u6837\u672c\u540e\uff0c\u751f\u6210\u7684\u6a21\u578bmodel\u8981\u7528\u6765\u6d4b\u8bd5\u6837\u672c\u3002\u5728model(test)\u4e4b\u524d\uff0c\u9700\u8981\u52a0\u4e0amodel.eval()\uff0c\u5426\u5219\u7684\u8bdd\uff0c\u6709\u8f93\u5165\u6570\u636e\uff0c\u5373\u4f7f\u4e0d\u8bad\u7ec3\uff0c\u5b83\u4e5f\u4f1a\u6539\u53d8\u6743\u503c\u3002\u8fd9\u662fmodel\u4e2d\u542b\u6709BN\u5c42\u548cDropout\u6240\u5e26\u6765\u7684\u7684\u6027\u8d28\u3002\n\u5728\u505aone classification\u7684\u65f6\u5019\uff0c\u8bad\u7ec3\u96c6\u548c\u6d4b\u8bd5\u96c6\u7684\u6837\u672c\u5206\u5e03\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u5c24\u5176\u9700\u8981\u6ce8\u610f\u8fd9\u4e00\u70b9\u3002\n</code></pre>"},{"location":"language/pytorch/#pytorch-tensorborad","title":"pytorch tensorborad","text":"<pre><code>from torch.utils.tensorboard import SummaryWriter\nimport numpy as np \nwriter = SummaryWriter(\"logs\")\nfor i in range(100):\n    writer.add_scalar(\"y=2x\", 2*i, i)\nwriter.close()\n</code></pre>"},{"location":"language/pytorch/#pytorchgpu","title":"pytorch\u68c0\u9a8cGPU\u662f\u5426\u53ef\u7528","text":"<pre><code>import torch\ntorch.cuda.is_available()\n</code></pre>"},{"location":"language/pytorch/#__call__","title":"__call__\u65b9\u6cd5\u4f7f\u7528","text":"<pre><code>class Person:\n    def __call__(self, name):\n        print(f\"__call__Hello:{name}\")\n\n    def hello(self, name):\n        print(f\"hello:{name}\")\n\nperson = Person()\nperson(\"zhangsan\")\nperson.hello(\"lisi\")\n</code></pre>"},{"location":"language/pytorch/#transformer","title":"transformer\u4f7f\u7528","text":"<p><pre><code>from torch.utils.tensorboard import SummaryWriter\nwriter = SummaryWriter(\"logs\")\nfrom PIL import Image\n\nimg_path = \"assets/image/reward_function.png\"\nimg = Image.open(img_path)\nprint(img)\n\nfrom torchvision import transforms\n# transforms ToTensor\ntrans_totensor = transforms.ToTensor()\nimg_tensor = trans_totensor(img)\nprint(img_tensor)\nwriter.add_image(\"toTensor\", img_tensor)\n\n# Normalize\nprint(img_tensor[0][0][0])\nprint(img_tensor.shape)\ntrans_norm = transforms.Normalize([6, 3, 2, 1], [9, 3, 5, 2])\nimg_norm = trans_norm(img_tensor)\nprint(img_norm[0][0][0])\nwriter.add_image(\"Normalize\", img_norm, 2)\n\n# Resize\ntrans_resize = transforms.Resize((64, 64))\nimg_resize = trans_resize(img)\nimg_resize = trans_totensor(img_resize)\nprint(img_resize)\nwriter.add_image(\"Resize\", img_resize, 3)\n\n# Compose\ntrans_compose = transforms.Compose([transforms.Resize(64),\n                                    transforms.ToTensor()])\nimg_compose = trans_compose(img)\nwriter.add_image(\"Compose\", img_compose, 4)\n\n# RandomCrop\ntrans_compose2 = transforms.Compose([transforms.RandomCrop(64),\n                                    transforms.ToTensor()])\nfor i in range(10):\n    img_crop = trans_compose2(img)\n    writer.add_image(\"RandomCrop\", img_crop, i + 4)\n\nwriter.close()\n</code></pre> <pre><code>RuntimeError: NCCL error in: ../torch/csrc/distributed/c10d/ProcessGroupNCCL.cpp:46, unhandled cuda error, NCCL version 2.10.3\n&gt;&gt;&gt; print(torch.backends.cudnn.version())\n8302\n&gt;&gt;&gt; import torch; print(torch.__version__)\n1.12.1+cu113\n&gt;&gt;&gt; import torch; print(torch.version.cuda)\n11.3\npip3 install torch==1.8.1+cu111 torchvision==0.9.1+cu111 -f https://download.pytorch.org/whl/torch_stable.html\n</code></pre></p> <pre><code>+-----------------------------------------------------------------------------+\n| NVIDIA-SMI 470.57.02    Driver Version: 470.57.02    CUDA Version: 11.4     |\n|-------------------------------+----------------------+----------------------+\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\n|                               |                      |               MIG M. |\n|===============================+======================+======================|\n|   0  VGPU(0) Tesla T4    On   | 00000000:3B:00.0 Off |                    0 |\n| N/A   47C    P0    45W /  70W |   3393MiB / 13573MiB |     25%      Default |\n|                               |                      |                  N/A |\n+-------------------------------+----------------------+----------------------+\n\u62a5\u9519\n\u8fd0\u884c\u4ee3\u7801\u65f6\u62a5\u9519\uff1aTypeError: clamp(): argument 'min' (position 2) must be Number, not Tensor\n\u539f\u56e0\u5206\u6790\n\u7ed3\u5408github\u94fe\u63a5\uff1ahttps://github.com/Denys88/rl_games/pull/142 ,\u53d1\u73b0\u662ftorch.clamp()\u51fd\u6570\u5728pytorch1.9.0\u4e4b\u524d\u4e0d\u652f\u6301Tensor\u4f5c\u4e3aclamp()\u7684max/min\u53c2\u6570\uff0c\u800c1.9.0\u53ca\u4e4b\u540e\u652f\u6301\u3002\n\u89e3\u51b3\u65b9\u6848\n\u5347\u7ea7pytorch\u5927\u4e8e\u7b49\u4e8e1.9.0\u7248\u672c\uff0c\u6211\u8fd9\u91cc\u5347\u7ea7\u52301.12.0\npip3 install torch==1.8.1+cu111 torchvision==0.9.1+cu111 -f https://download.pytorch.org/whl/torch_stable.html\npip3 install torch==1.10.1+cu111 torchvision==0.11.2+cu111 -f https://download.pytorch.org/whl/cu111/torch_stable.html\nhttps://blog.csdn.net/BIT_HXZ/article/details/127604680\nRuntimeError: NCCL error in: /pytorch/torch/lib/c10d/ProcessGroupNCCL.cpp:38, unhandled cuda error, NCCL version 2.7.8 #4530\npip3 install torch==1.8.1+cu111 torchvision==0.9.1+cu111 -f https://download.pytorch.org/whl/torch_stable.html\n</code></pre> <p><pre><code> File \"ptuning/main.py\", line 411, in &lt;module&gt;\n    main()\n  File \"ptuning/main.py\", line 123, in main\n    model = AutoModel.from_pretrained(model_args.model_name_or_path, config=config, trust_remote_code=True)\n  File \"/usr/local/lib/python3.8/dist-packages/transformers/models/auto/auto_factory.py\", line 475, in from_pretrained\n    model_class = get_class_from_dynamic_module(\n  File \"/usr/local/lib/python3.8/dist-packages/transformers/dynamic_module_utils.py\", line 443, in get_class_from_dynamic_module\n    return get_class_in_module(class_name, final_module.replace(\".py\", \"\"))\n  File \"/usr/local/lib/python3.8/dist-packages/transformers/dynamic_module_utils.py\", line 164, in get_class_in_module\n    module = importlib.import_module(module_path)\n  File \"/usr/lib/python3.8/importlib/__init__.py\", line 127, in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 1014, in _gcd_import\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 991, in _find_and_load\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 975, in _find_and_load_unlocked\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 671, in _load_unlocked\n  File \"&lt;frozen importlib._bootstrap_external&gt;\", line 848, in exec_module\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 219, in _call_with_frames_removed\n  File \"xxxx/huggingface/modules/transformers_modules/THUDM/chatglm2-6b/b1502f4f75c71499a3d566b14463edd62620ce9f/modeling_chatglm.py\", line 14, in &lt;module&gt;\n    from torch.nn.utils import skip_init\nImportError: cannot import name 'skip_init' from 'torch.nn.utils' (/usr/local/lib/python3.8/dist-packages/torch/nn/utils/__init__.py)\n</code></pre> \u89e3\u51b3\u65b9\u6848 <pre><code>pip3 install torch==1.10.1+cu111 torchvision==0.11.2+cu111 -f https://download.pytorch.org/whl/cu111/torch_stable.html\nhttps://blog.csdn.net/BIT_HXZ/article/details/127604680\n</code></pre></p>"},{"location":"language/tensorflow/","title":"Tensorflow","text":""},{"location":"language/tensorflow/#tensor","title":"\u66ff\u6362tensor\u5185\u90e8\u7684\u503c","text":"<ul> <li>\u65b9\u6848\uff1a     <pre><code>input = tf.constant([[3],[3],[5],[5],[7],[7],[9],[9]])\nfilter357 = tf.logical_or(tf.logical_or(tf.equal(input, 3), tf.equal(input, 5)), tf.equal(input, 7))\n\nr0 = tf.zeros_like(input)\nr1 = tf.ones_like(input)\nr2 = tf.ones_like(input) * 2\nr4 = tf.ones_like(input) * 4\n\nreplace0 = tf.where(filter357, input, r0)\nreplace1 = tf.where(tf.equal(replace0, 3), r1, replace0)\nreplace2 = tf.where(tf.equal(replace1, 5), r2, replace1)\nreplace4 = tf.where(tf.equal(replace2, 7), r4, replace2)\ntf.one_hot(replace4, 5)\n</code></pre></li> </ul>"},{"location":"language/tensorflow/#concat","title":"concat\u62a5\u9519\u5b9a\u4f4d","text":"<ul> <li>\u95ee\u9898     <pre><code>(0) Invalid argument: ConcatOp : Dimensions of inputs should match: shape[0] = [10240,4] vs. shape[37] = [10236,106]\n(1) Invalid argument: ConcatOp : Dimensions of inputs should match: shape[0] = [10240,4] vs. shape[37] = [10236,106]\n</code></pre></li> <li>\u65b9\u6848\uff1a     concat\u65f6\u5019\u62a5\u9519\uff0c\u67d0\u4e00\u4e2a\u7279\u5f81\u4e3aBx106\uff0c\u627e\u5230\u8fd9\u4e2a\u7279\u5f81\u53bb\u6389</li> </ul>"},{"location":"language/tensorflow/#_1","title":"\u6253\u5370\u7b7e\u540d","text":"<pre><code>saved_model_cli show --dir export/1524906774 --tag_set serve --signature_def serving_default\n</code></pre>"},{"location":"language/tensorflow/#tensorflowhdfs","title":"tensorflow\u8bfb\u53d6hdfs\u9519\u8bef","text":"<p><pre><code>loadFileSystems error:\n(unable to get stack trace for java.lang.NoClassDefFoundError exception: ExceptionUtils::getStackTrace error.)\nhdfsBuilderConnect(forceNewInstance=0, nn=default, port=0, kerbTicketCachePath=(NULL), userName=(NULL)) error:\n(unable to get stack trace for java.lang.NoClassDefFoundError exception: ExceptionUtils::getStackTrace error.)\n</code></pre> <pre><code>export CLASSPATH=${HADOOP_HOME}/etc/hadoop:`find ${HADOOP_HOME}/share/hadoop/ | awk '{path=path\":\"$0}END{print path}'`\nexport LD_LIBRARY_PATH=\"${HADOOP_HOME}/lib/native\":$LD_LIBRARY_PATH\n</code></pre></p>"},{"location":"language/tensorflow/#tfgpu","title":"\u7981\u7528tf\u4f7f\u7528gpu","text":"<p><pre><code>#\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\nexport CUDA_VISIBLE_DEVICES=-1\n</code></pre> <pre><code>import os\nos.environ[\"CUDA_VISIBLE_DEVICES\"]=\"-1\"    \nimport tensorflow as tf\n</code></pre></p>"},{"location":"language/tensorflow/#_2","title":"\u5e38\u7528\u51fd\u6570","text":"<ul> <li>tf.matmul<ul> <li>shape\u7684\u53d8\u5e7b\uff0c\u4f8b\u5982\uff1a(1, 1, 64) (1, 64, 1) = (1, 1, 1) <pre><code>&gt;&gt;&gt; item_emb = [[[0.1,0.2,0.3,0.4]]]\n&gt;&gt;&gt; user_emb = [[[0.1],[0.2],[0.3],[0.4]]]\n&gt;&gt;&gt; inner_dot = tf.matmul(tf.constant(item_emb), tf.constant(user_emb))\n&gt;&gt;&gt; user_emb\n[[[0.1], [0.2], [0.3], [0.4]]]\n&gt;&gt;&gt; item_emb\n[[[0.1, 0.2, 0.3, 0.4]]]\n&gt;&gt;&gt; inner_dot\n&lt;tf.Tensor: id=47, shape=(1, 1, 1), dtype=float32, numpy=array([[[0.3]]], dtype=float32)&gt;\n</code></pre></li> </ul> </li> <li>tf.tile<ul> <li>\u901a\u8fc7\u53d8\u5e7b\u53ef\u4ee5\u8ba9\u5bf9\u5e94\u7684\u7ef4\u5ea6\u590d\u5236</li> <li>multiples = [1, 4, 1] \u5176\u4e2d1\u8868\u793a\u7b2c1\u4e2a\u7ef4\u5ea6\u590d\u52361\u500d\uff0c4\u8868\u793a\u7b2c2\u4e2a\u7ef4\u5ea6\u590d\u52364\u500d\uff0c1\u8868\u793a\u7b2c3\u4e2a\u7ef4\u5ea6\u590d\u52361\u500d <pre><code>&gt;&gt;&gt; x = tf.tile(inner_dot, multiples=[1, 4, 1])\n&gt;&gt;&gt; x\n&lt;tf.Tensor: id=52, shape=(1, 4, 1), dtype=float32, numpy=\narray([[[0.3],\n        [0.3],\n        [0.3],\n        [0.3]]], dtype=float32)&gt;\n</code></pre></li> </ul> </li> <li>tf.enable_eager_execution</li> <li>tf.reshap<ul> <li>\u53d8\u5e7bshape <pre><code>&gt;&gt;&gt; x = tf.constant([\n    [[1,1],[2,2],[3,3],[4,4],[5,5]], \n    [[1,1],[2,2],[3,3],[4,4],[5,5]], \n    [[1,1],[2,2],[3,3],[4,4],[5,5]]])\n&gt;&gt;&gt; x \n&lt;tf.Tensor: id=0, shape=(3, 5, 2), dtype=int32&gt;\n&gt;&gt;&gt; tf.reshape(x, shape=[-1, 10])\n&lt;tf.Tensor: id=3, shape=(3, 10), dtype=int32, numpy=\narray([[1, 1, 2, 2, 3, 3, 4, 4, 5, 5],\n       [1, 1, 2, 2, 3, 3, 4, 4, 5, 5],\n       [1, 1, 2, 2, 3, 3, 4, 4, 5, 5]], dtype=int32)&gt;\n\nx = tf.constant([\n    [[1,2,3,4], [1,2,3,4]], \n    [[1,2,3,4], [1,2,3,4]]])\n&gt;&gt;&gt; x\n&lt;tf.Tensor: id=7, shape=(2, 2, 4), dtype=int32&gt;\n&gt;&gt;&gt; tf.reshape(x, shape=[-1, 4])\n&lt;tf.Tensor: id=10, shape=(4, 4), dtype=int32, numpy=\narray([[1, 2, 3, 4],\n       [1, 2, 3, 4],\n       [1, 2, 3, 4],\n       [1, 2, 3, 4]], dtype=int32)&gt;\n</code></pre></li> </ul> </li> <li>tf.gather<ul> <li>\u6839\u636eindices\u53d6tensor <pre><code>&gt;&gt;&gt; import tensorflow as tf            \n&gt;&gt;&gt; tf.enable_eager_execution()\n&gt;&gt;&gt; params = tf.constant([\n...     [[1,1],[2,2],[3,3],[4,4],[5,5]], \n...     [[1,1],[2,2],[3,3],[4,4],[5,5]], \n...     [[1,1],[2,2],[3,3],[4,4],[5,5]]])\n&gt;&gt;&gt; tf.gather(params, indices=[0,1], axis=0)\n&lt;tf.Tensor: id=47, shape=(2, 5, 2), dtype=int32, numpy=\narray([[[1, 1],\n        [2, 2],\n        [3, 3],\n        [4, 4],\n        [5, 5]],\n    [[1, 1],\n        [2, 2],\n        [3, 3],\n        [4, 4],\n        [5, 5]]], dtype=int32)&gt;\n&gt;&gt;&gt; tf.gather(params, indices=[0,1], axis=1)\n&lt;tf.Tensor: id=51, shape=(3, 2, 2), dtype=int32, numpy=\narray([[[1, 1],\n        [2, 2]],\n    [[1, 1],\n        [2, 2]],\n    [[1, 1],\n        [2, 2]]], dtype=int32)&gt;\n&gt;&gt;&gt; tf.gather(params, indices=[0,1], axis=2)\n&lt;tf.Tensor: id=57, shape=(3, 5, 2), dtype=int32, numpy=\narray([[[1, 1],\n        [2, 2],\n        [3, 3],\n        [4, 4],\n        [5, 5]],\n    [[1, 1],\n        [2, 2],\n        [3, 3],\n        [4, 4],\n        [5, 5]],\n    [[1, 1],\n        [2, 2],\n        [3, 3],\n        [4, 4],\n        [5, 5]]], dtype=int32)&gt;\n&gt;&gt;&gt; \n</code></pre></li> </ul> </li> </ul>"},{"location":"language/c%2B%2B/cmake/","title":"\u7f16\u8bd1\u8fc7\u7a0b","text":"<ul> <li>\u9884\u5904\u7406Pre-Processing  //.i\u6587\u4ef6 <pre><code># -E \u9009\u9879\u5236\u5b9a\u7f16\u8bd1\u5668\u4ec5\u5bf9\u8f93\u5165\u6587\u4ef6\u8fdb\u884c\u9884\u5904\u7406\ng++ -E test.cpp -o test.i //.i\u6587\u4ef6\n</code></pre></li> <li>\u7f16\u8bd1-Compiling     //.s\u6587\u4ef6 <pre><code># -s \u7f16\u8bd1\u9009\u9879\u544a\u8bc9g++\u5728C++\u4ee3\u7801\u4ea7\u751f\u4e86\u6c47\u7f16\u8bed\u8a00\u6587\u4ef6\u540e\u505c\u6b62\u7f16\u8bd1\n# g++ \u4ea7\u751f\u6c47\u7f16\u8bed\u8a00\u6587\u4ef6\u7684\u7f3a\u7701\u6269\u5c55\u540d.s\ng++ -s test.i -o test.s\n</code></pre></li> <li>\u6c47\u7f16Assembling   //.o\u6587\u4ef6 <pre><code># -c \u9009\u9879\u544a\u8bc9g++\u4ec5\u628a\u6e90\u4ee3\u7801\u7f16\u4e3a\u709c\u673a\u5668\u8bed\u8a00\u7684\u76ee\u6807\u4ee3\u7801\n# \u7f3a\u7701\u65f6\uff0cg++\u5efa\u7acb\u76ee\u6807\u4ee3\u7801\u6587\u4ef6\u6709\u4e00\u4e2a.o\u6269\u5c55\u540d\ng++ -c test.s -o test.o\n</code></pre></li> <li>\u94fe\u63a5Linking    //bin\u6587\u4ef6 <pre><code># -o \u7f16\u8bd1\u9009\u9879\u6765\u4e3a\u5c06\u6765\u7684\u53ef\u4ee5\u7684\u6267\u884c\u6587\u4ef6\u7528\u5236\u5b9a\u7684\u6587\u4ef6\u540d\ng++ test.o -o test\n</code></pre></li> </ul>"},{"location":"language/c%2B%2B/cmake/#gdb","title":"gdb","text":"<ul> <li>\u8c03\u8bd5\u5f00\u59cb\uff1a\u6267\u884cgdb[exefilename]\uff0c\u8fdb\u5165gdb\u8c03\u8bd5\u7a0b\u5e8f\uff0c\u5176\u4e2dexecfilename\u4e3a\u8981\u8c03\u8bd5\u7684\u6587\u4ef6\u540d <pre><code>## \u4e00\u4e0b\u547d\u4ee4\u540e\u62ec\u53f7\u5185\u4e3a\u547d\u4ee4\u7b80\u5316\u4f7f\u7528\uff0c\u6bd4\u5982run(r)\uff0c\u76f4\u63a5\u8f93\u5165\u547d\u4ee4r\u4ee3\u66ff\u547d\u4ee4run\n$(gdb)help(h)  # help\n$(gdb)run(r)   #\u91cd\u65b0\u5f00\u59cb\u8fd0\u884c\u6587\u4ef6\uff08run-text\uff1a\u52a0\u8f7d\u6587\u672c\u6587\u4ef6\uff0crun-bin\uff1a\u52a0\u8f7d\u4e8c\u8fdb\u5236\u6587\u4ef6\uff09 \n$(gdb)start    # \u5355\u6b65\u6267\u884c\uff0c\u8fd0\u884c\u7a0b\u5e8f\uff0c\u505c\u5728\u7b2c\u4e00\u884c\u6267\u884c\u8bed\u53e5\n$(gdb)list(l)  # \u67e5\u770b\u6e90\u4ee3\u7801\uff08list-n\uff0c\u4ece\u7b2c\u51e0\u884c\u5f00\u59cb\u67e5\u770b\u4ee3\u7801\uff0clist+\u51fd\u6570\u540d\uff1a\u67e5\u770b\u5177\u4f53\u7684\u51fd\u6570\uff09\n$(gdb)set      # \u8bbe\u7f6e\u6bd4\u53d8\u91cf\u7684\u503c\n$(gdb)next(n)  # \u5355\u6b65\u8c03\u8bd5\uff08\u9010\u8fc7\u7a0b\uff0c\u51fd\u6570\u76f4\u63a5\u6267\u884c\uff09\n$(gdb)step(s)  # \u5355\u6b65\u8c03\u8bd5\uff08\u9010\u8bed\u53e5\uff0c\u8df3\u5165\u81ea\u5b9a\u4e49\u51fd\u6570\u5185\u90e8\u6267\u884c\uff09\n$(gdb)backtrace(bt) # \u67e5\u770b\u51fd\u6570\u7684\u8c03\u7528\u6808\u5e27\u548c\u5c42\u7ea7\u5173\u7cfb\n$(gdb)frame(f)      # \u5207\u6362\u51fd\u6570\u6808\u5e27\n$(gdb)info(i)       # \u67e5\u770b\u51fd\u6570\u5185\u90e8\u5c40\u90e8\u53d8\u91cf\u7684\u6570\u503c\n$(gdb)finish        # \u7ed3\u675f\u5f53\u524d\u51fd\u6570\uff0c\u8fd4\u56de\u51fd\u6570\u8c03\u7528\u70b9\n$(gdb)continue(c)   # \u7ee7\u7eed\u8fd0\u884c\n$(gdb)print(p)      # \u6253\u5370\u5f53\u524d\u7684\u503c\u548c\u5730\u5740\n$(gdb)quit(q)       # \u63a8\u51fagdb\n$(gdb)break+num(b)     # \u5728\u7b2cnum\u884c\u8bbe\u7f6e\u65ad\u70b9\n$(gdb)info breakpoints # \u67e5\u770b\u5f53\u524d\u8bbe\u7f6e\u7684\u6240\u6709\u65ad\u70b9\n$(gdb)delete breakpoints+num(d) # \u5220\u9664\u7b2cnum\u884c\u65ad\u70b9\n</code></pre></li> </ul>"},{"location":"language/c%2B%2B/cmake/#cmake","title":"cmake","text":""},{"location":"language/c%2B%2B/cmake/#_2","title":"\u8bed\u6cd5\u7279\u6027\u4ecb\u7ecd","text":"<ul> <li>\u57fa\u672c\u8bed\u6cd5\u683c\u5f0f\uff1a\u5236\u9020\u4ee4(\u53c2\u65701 \u53c2\u65702...)<ul> <li>\u53c2\u6570\u4f7f\u7528\u62ec\u5f27\u62ec\u8d77</li> <li>\u53c2\u6570\u4e4b\u95f4\u7528\u7a7a\u683c\u6216\u5206\u53f7\u5206\u5f00</li> </ul> </li> </ul>"},{"location":"language/c%2B%2B/cmake/#_3","title":"\u6307\u4ee4\u5927\u5c0f\u5199\u65e0\u5173\u7684\uff0c\u53c2\u6570\u548c\u53d8\u91cf\u5927\u5c0f\u5199\u76f8\u5173\u7684","text":"<p><pre><code>set(HELLO hello.cpp)\nadd_executable(hello main.cpp hello.cpp)\nADD_EXECUTABLE(hello main.cpp ${HELLO})\n</code></pre> \u53d8\u91cf\u4f7f\u7528${}\u65b9\u5f0f\u53d6\u503c \uff0c\u4f46\u662f\u5728IF\u63a7\u5236\u8bed\u53e5\u4e2d\u76f4\u63a5\u4f7f\u7528\u53d8\u91cf\u540d</p>"},{"location":"language/c%2B%2B/cmake/#_4","title":"\u91cd\u8981\u6307\u4ee4","text":"<ul> <li>cmake_minimum_required \u6307\u5b9aCMake\u7684\u6700\u5c0f\u7248\u672c\u8981\u6c42<ul> <li>\u8bed\u6cd5\uff1a cmake_minimum_required(VERSION versionNUmber[FATAL_ERROR]) <pre><code># CMake \u6700\u5c0f\u7248\u672c\u662f2.8.3\ncmake_minimum_required(VERSiON 2.8.3)\n</code></pre></li> </ul> </li> <li>project \u5b9a\u4e49\u5de5\u7a0b\u540d\uff0c\u5e76\u53ef\u5236\u5b9a\u5de5\u7a0b\u652f\u6301\u7684\u8bed\u8a00<ul> <li>\u8bed\u6cd5\uff1aproject(projectname [CXX][C][Java]) <pre><code># \u6307\u5b9a\u5de5\u7a0b\u540d\u4e3aHELLOWORd\nproject(HELLOWORD)\n</code></pre></li> </ul> </li> <li>set -\u663e\u5f0f\u7684\u5b9a\u4e49\u53d8\u91cf<ul> <li>\u8bed\u6cd5\uff1aset(VAR[VALUE][CACHE TYPE DOCSTRING [FORCE]]) <pre><code># \u5b9a\u4e49SRC\u53d8\u91cf\uff0c\u5176\u503c\u4e3asayhello.cpp hello.cpp\nset(SRC sayhello.cpp hello.cpp)\n</code></pre></li> </ul> </li> <li>include_directories - \u5411\u5de5\u7a0b\u6dfb\u52a0\u591a\u4e00\u4e2a\u7279\u5b9a\u7684\u5934\u6587\u4ef6\u641c\u7d22\u8def\u5f84---&gt;&gt;\u76f8\u5f53\u4e8e\u5236\u5b9ag++\u7f16\u8bd1\u5668\u7684-I\u53c2\u6570<ul> <li>\u8bed\u6cd5\uff1a include_directories([AFTER|BEFORE][SYSTEM] dir1 dir2 ...) <pre><code># \u5c06/usr/include/myincludeforder \u548c ./include \u6dfb\u52a0\u5230\u5934\u6587\u4ef6\u641c\u7d22\u8def\u5f84\ninclude_directories(usr/include/myincludeforder ./include)\n</code></pre></li> </ul> </li> <li>link_directories -\u5411\u5de5\u7a0b\u6dfb\u52a0\u591a\u4e2a\u7279\u5b9a\u7684\u5e93\u6587\u4ef6\u641c\u7d22\u8def\u5f84 ---&gt; \u76f8\u5f53\u4e8e\u6307\u5b9ag++\u7f16\u8bd1\u5668\u7684-L\u53c2\u6570<ul> <li>\u8bed\u6cd5\uff1alink_diretories(dir1 dir2 ...) <pre><code># \u5c06/usr/lib/mylibfolder \u548c ./lib \u6dfb\u52a0\u5230\u5e93\u6587\u4ef6\u641c\u7d22\u8def\u5f84\nlink_directoies(/usr/lib/mylibfolder ./lib)\n</code></pre></li> </ul> </li> <li>add_library -\u751f\u6210\u5e93\u6587\u4ef6<ul> <li>\u8bed\u6cd5\uff1a add_library(libname [SHRAED|STATIC|MODULE][EXCLUDE_FORM_ALL] source1 source2...sourceN) <pre><code># \u901a\u8fc7\u53d8\u91cfSRC\u751f\u6210libhello.so\u5171\u4eab\u5e93\nadd_library(hello SHARED ${SRC})\n</code></pre></li> </ul> </li> <li>add_compile_options -\u6dfb\u52a0\u7f16\u8bd1\u5668\u53c2\u6570 </li> <li>\u8bed\u6cd5\uff1a add_compile_options(...) <pre><code># \u6dfb\u52a0\u7f16\u8bd1\u53c2\u6570 -wall -std=c++11\nadd_compile_options(-wall -std=c++11 -o2)\n</code></pre> <li>add_executable - \u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6</li> <li>\u8bed\u6cd5\uff1a add_executable(exename source1 source2 ... sourceN) <pre><code># \u7f16\u8bd1main.cpp\u751f\u6210\u53ef\u6267\u884cmain\nadd_executable(main main.cpp)\n</code></pre></li> <li>target_link_libraries -\u4e3atarget\u6dfb\u52a0\u9700\u8981\u94fe\u63a5\u7684\u5171\u4eab\u5e93---&gt;\u76f8\u540c\u4e8e\u5236\u5b9ag++\u7684\u7f16\u8bd1\u5668-I\u53c2\u6570<ul> <li>\u8bed\u6cd5\uff1a target_link_libraries(target library1 library2 ...) <pre><code>#\u5c06hello\u52a8\u6001\u5e93\u6587\u4ef6\u94fe\u63a5\u5230\u53ef\u6267\u884c\u7684main\ntarget_link_libraries(main hello)\n</code></pre> <li>add_subdirectory - \u5411\u5f53\u524d\u5de5\u7a0b\u6dfb\u52a0\u5b58\u653e\u6e90\u6587\u4ef6\u76ee\u5f55\uff0c\u5e76\u53ef\u4ee5\u6307\u5b9a\u4e2d\u95f4\u4e8c\u8fdb\u5236\u548c\u76ee\u6807\u4e8c\u8fdb\u5236\u5b58\u653e\u7684\u4f4d\u7f6e<ul> <li>\u8bed\u6cd5\uff1aadd_subdirectory(source_dir [binary_dir][EXCLUDE_FROM_ALL]) <pre><code># \u6dfb\u52a0src\u5b50\u76ee\u5f55\uff0csrc\u4e2d\u9700\u6709\u4e00\u4e2aCMakeLists.txt\nadd_subdirectory(src)\n</code></pre></li> </ul> </li> <li>aux_source_directory - \u53d1\u73b0\u4e00\u4e2a\u76ee\u5f55\u4e0b\u6240\u6709\u7684\u6e90\u4ee3\u7801\u6587\u4ef6\u5e76\u5c06\u5217\u8868\u5b58\u50a8\u5230\u4e00\u4e2a\u53d8\u91cf\u4e2d\uff0c\u8fd9\u4e2a\u6307\u4ee4\u4e34\u65f6\u5907\u7528\u6765\u81ea\u52a8\u6784\u5efa\u6e90\u6587\u4ef6\u5217\u8868<ul> <li>\u8bed\u6cd5\uff1aaux_source_directory(dir VARIABLE) <pre><code># \u5b9a\u4e49SRC\u53d8\u91cf\uff0c\u5176\u503c\u4e3a\u5f53\u524d\u76ee\u5f55\u4e0b\u6240\u6709\u6587\u4ef6\u7684\u6e90\u4ee3\u7801\naux_source_directory(. SRC)\n# \u7f16\u8bd1SRC\u53d8\u91cf\u6240\u4ee3\u8868\u7684\u6e90\u6587\u4ef6\uff0c\u751f\u6210main\u53ef\u6267\u884c\u6587\u4ef6\nadd_executable(main ${SRC})\n</code></pre></li> </ul> </li>"},{"location":"language/c%2B%2B/cmake/#cmake_1","title":"CMake \u5e38\u7528\u53d8\u91cf","text":"<ul> <li>CMAKE_C_FLAGS gcc\u7f16\u8bd1\u9009\u9879</li> <li>CMAKE_CXX_FLAGS g++\u7f16\u8bd1\u9009\u9879 <pre><code># \u5728CMAKE_CXX_FLAGS\u7f16\u8bd1\u9009\u9879\u540e\u8ffd\u52a0-std=c++11\nset(CMAKE_CXX_FLAGS \"{CMAKE_CXX_FLAGS} -std=c++11\")\n</code></pre></li> <li>CMAKE_BUILD_TYPE \u7f16\u8bd1\u7c7b\u578b(Debug, Release) <pre><code># \u8bbe\u5b9a\u7f16\u8bd1\u7c7b\u578b\u4e3adebug\uff0c\u8c03\u8bd5\u65f6\u9700\u8981\u9009debug\nset(CMAKE_BUILD_TYPE Debug)\n# \u8bbe\u5b9a\u7f16\u8bd1\u7c7b\u578b\u4e3arelease\uff0c\u53d1\u5e03\u65f6\u9700\u8981\u9009\u62e9Release\nset(CMAKE_BUILD_TYPE Release)\n</code></pre></li> <li>CMAKE_BINARY_DIR</li> <li>PROJECT_BINARY_DIR _BINARY_DIR <li>\u8fd9\u4e09\u4e2a\u53d8\u91cf\u6307\u4ee3\u7684\u5185\u5bb9\u662f\u4e00\u81f4\u7684</li> <li>\u5982\u679c\u662fin source build, \u6307\u7684\u5c31\u662f\u5de5\u7a0b\u5e08\u9876\u5c42\u76ee\u5f55</li> <li>\u5982\u679c\u662fout-of-source\u7f16\u8bd1\uff0c\u6307\u7684\u662f\u5de5\u7a0b\u7f16\u8bd1\u53d1\u751f\u7684\u76ee\u5f55</li> <li>PROJECT_BINARY_DIR\u8ddf\u5176\u4ed6\u7684\u6307\u4ee4\u7a0d\u6709\u533a\u522b\uff0c\u4e0d\u8fc7\u73b0\u5728\uff0c\u4f60\u53ef\u4ee5\u7406\u89e3\u4ed6\u4eec\u662f\u4e00\u81f4\u7684\u3002</li>"},{"location":"language/c%2B%2B/grpc/","title":"Grpc","text":""},{"location":"language/c%2B%2B/grpc/#1","title":"1\u3001\u5b89\u88c5\u4f9d\u8d56\u9879\uff1a","text":"<pre><code>sudo yum install -y epel-release\nsudo yum install -y git gcc-c++ make openssl-devel gflags-devel protobuf-devel protobuf-compiler leveldb-devel cmake3\n</code></pre> <p>2\u3001\u5b89\u88c5brpc Q: In file included from /root/gitee/brpc_playground/echo_service/client.cpp:1:0: /root/gitee/brpc_playground/echo_service/client.h:1:26: \u81f4\u547d\u9519\u8bef\uff1abrpc/channel.h\uff1a\u6ca1\u6709\u90a3\u4e2a\u6587\u4ef6\u6216\u76ee\u5f55 A: \u4e0b\u8f7dbrpc\u6e90\u7801\u5305\uff1ahttps://gitee.com/baidu/BRPC.git <pre><code>mkdir bld\ncd bld\ncmake3 -DBUILD_SHARED_LIBS=ON ..\nmake -j 8\nsudo make install\n</code></pre></p>"},{"location":"language/c%2B%2B/grpc/#3libbrpc","title":"3\u3001libbrpc\u4e0d\u5b58\u5728","text":"<p>Q: ./server: error while loading shared libraries: libbrpc.so: cannot open shared object file: No such file or directory A: <pre><code>export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/lib64\nfind / -name libbrpc.so*\n</code></pre></p>"},{"location":"language/life/private/","title":"Private","text":""},{"location":"language/life/private/#_1","title":"\u6df1\u5733\u540d\u8a00","text":"<pre><code>1. \u627e\u5e97\u8981\u4e0b\u96e8\u5929\u770b\uff0c\u4e0b\u96e8\u5929\u4eba\u6d41\u5f88\u5927\uff0c\u8fd9\u91cc\u4eba\u6d41\u4e00\u5b9a\u5927\n2. \u627e\u5e97\u7684\u89c4\u5f8b\uff0c\u9762\u671d\u4eba\u6d41\uff0c\u5de6\u624b\u79bb\u8857\u5934\u8d8a\u8fdc\uff0c\u4f4d\u7f6e\u53cd\u800c\u8d8a\u597d\uff0c\u6b63\u6570\u7b2c\u4e09\u4e2a\uff0c\u548c\u5012\u6570\u7b2c\u4e03\u4e2a\uff0c\u95e8\u5934\u4f1a\u597d\u4e00\u4e9b\n</code></pre>"},{"location":"language/life/private/#_2","title":"\u751f\u610f\u7ecf","text":"<p>\u751f\u5ba2\u5356\u793c\u8c8c\uff0c\u719f\u5ba2\u5356\u70ed\u60c5\uff0c\u6025\u5ba2\u5356\u6548\u7387\uff0c\u6162\u5ba2\u5356\u8010\u5fc3\uff0c\u5bcc\u4eba\u5356\u5c0a\u8d35\uff0c\u7a77\u4eba\u5356\u5b9e\u60e0\uff0c\u72b9\u8c6b\u5356\u4fdd\u969c\uff0c\u6311\u5254\u5356\u7ec6\u8282</p>"},{"location":"language/python/fastapi/","title":"Fastapi","text":"<pre><code>from fastapi import FastAPI, Request\nfrom fastapi import BackgroundTasks\nimport uvicorn\n\nasync def parse_param(request:Request):\n    param = {}\n    if request.method == \"GET\":\n        param = request.query_params\n    if request.method == \"POST\":\n        param = await request.json()\n    return dict(param)\n\nasync def home(background_tasks: BackgroundTasks, request:Request):\n    print(request)\n    return \"hello\"\n\n\napp = FastAPI()\napp.add_api_route(path=\"/\", endpoint=home, methods=[\"POST\", \"GET\"])\n\n\n\nif __name__ == \"__main__\":\n    uvicorn.run(app)\n</code></pre>"},{"location":"language/python/gym/","title":"CartPole","text":"<ul> <li>\u63cf\u8ff0\uff1a\u5728\u8fd9\u4e2a\u6e38\u620f\u4e2d\uff0c\u6709\u4e00\u8f86\u5c0f\u8f66\uff0c\u4e0a\u9762\u6709\u4e00\u4e2a\u7ad6\u76f4\u653e\u7f6e\u7684\u6746\u5b50\u3002\u73a9\u5bb6\u9700\u8981\u63a7\u5236\u5c0f\u8f66\u7684\u79fb\u52a8\uff0c\u4f7f\u5f97\u6746\u5b50\u4fdd\u6301\u5728\u7ad6\u76f4\u65b9\u5411\u4e0a\uff0c\u5c3d\u53ef\u80fd\u591a\u7684\u65f6\u95f4\u3002\u5f53\u6746\u5b50\u504f\u79bb\u7ad6\u76f4\u592a\u591a\u6216\u8005\u5c0f\u8f66\u79fb\u52a8\u5230\u8fb9\u7f18\u65f6\uff0c\u6e38\u620f\u7ed3\u675f\u3002</li> <li>observation:\u72b6\u6001</li> <li>action: 0 1 \u4ee3\u8868\u5de6\u53f3\u79fb\u52a8 \u4f8b\u5982 CartPole-v0 \u73af\u5883\uff0c\u5b83\u7684\u76ee\u6807\u662f\u5c3d\u53ef\u80fd\u957f\u65f6\u95f4\u5730\u4fdd\u6301\u6746\u5b50\u7ad6\u76f4\uff0c\u6ca1\u6709\u660e\u786e\u7684\u80dc\u5229\u6761\u4ef6\uff0c\u53ea\u6709\u5931\u8d25\u6761\u4ef6\uff0c\u5373\u5c0f\u8f66\u504f\u79bb\u4e2d\u5fc3\u6216\u8005\u6746\u5b50\u503e\u659c\u592a\u591a\u3002\u56e0\u6b64\uff0c\u5728 CartPole-v0 \u73af\u5883\u4e2d\uff0c\u60a8\u53ef\u4ee5\u4e00\u76f4\u73a9\u4e0b\u53bb\uff0c\u53ea\u8981\u60a8\u7684\u5c0f\u8f66\u4e0d\u504f\u79bb\u4e2d\u5fc3\u6216\u8005\u6746\u5b50\u4e0d\u503e\u659c\u592a\u591a\u3002</li> </ul> <p>envs\u4e2d\u7684__init__.py <pre><code>register(\n    id=\"CartPole-v0\",\n    entry_point=\"gym.envs.classic_control.cartpole:CartPoleEnv\",\n    max_episode_steps=200, # &gt;&gt;&gt;&gt;&gt; \u8fd9\u91cc\u8868\u793a\u6700\u4f18\u4e5f\u5c31200\u6b65\uff0c\u505a\u7684\u6700\u597d\u4e86\n    reward_threshold=195.0,\n)\n</code></pre></p>"},{"location":"language/python/gym/#_1","title":"\u673a\u5668\u968f\u673a\u73a9\u4e00\u8f6e","text":"<pre><code>import gym\ndone = False # \u662f\u5426\u7ed3\u675f\nscore = 0\nenv = gym.make(\"CartPole-v0\") # \u521d\u59cb\u5316\u73af\u5883\nstate = env.reset() #\u73af\u5883\u91cd\u7f6e\nwhile not done: \n    action = env.action_space.sample() #\u968f\u673a\u8f93\u5165action\n    observation, reward, done, info = env.step(action)\n    print(f\"done:{done}, reward:{reward}, observation:{observation}\")\n    score = score + reward\nprint(score) #\u6700\u540e\u5f97\u5206\n</code></pre>"},{"location":"language/python/gym/#cartpole_1","title":"\u624b\u52a8\u73a9\u4e00\u8f6eCartPole","text":"<pre><code>import gym\ndone = False # \u662f\u5426\u7ed3\u675f\nscore = 0\nenv = gym.make(\"CartPole-v0\") # \u521d\u59cb\u5316\u73af\u5883\nstate = env.reset() #\u73af\u5883\u91cd\u7f6e\nwhile not done: \n    x = input(\"Enter 0 or 1: \")\n    x = if x not in [\"0\", \"1\"] else \"0\" #\u83b7\u53d6\u8f93\u5165action\n    observation, reward, done, info = env.step(action=int(x))\n    print(f\"done:{done}, reward:{reward}, observation:{observation}\")\n    score = score + reward\nprint(score) #\u6700\u540e\u5f97\u5206\n</code></pre>"},{"location":"language/python/gym/#2","title":"\u4e3a\u4ec0\u4e48\u9700\u89812\u4e2a\u6a21\u578b?","text":"<pre><code>\u73a9\u8d2a\u5403\u86c7\u7684\u65f6\u5019\uff0c\u5982\u679c\u76ee\u6807\u4e5f\u5728\u79fb\u52a8\u6e38\u620f\u5c31\u4f1a\u53d8\u5f97\u56f0\u96be\u3002\n\u5728\u8bad\u7ec3\u65f6\uff0c\u7528\u7ecf\u9a8c\u8bc4\u4f30\u52a8\u4f5c\u6a21\u578b\u7684\u76ee\u6807\u3002\n\u5982\u679c\u76ee\u6807\u603b\u662f\u5728\u53d8\uff0c\u8bad\u7ec3\u5c31\u4f1a\u53d8\u5f97\u56f0\u96be\u4e0d\u7a33\u5b9a\u3002\n\u6240\u4ee5\u9700\u8981\u6682\u65f6\u8ba9\u76ee\u6807\u786e\u5b9a\u4e0b\u6765\uff0c\u8fbe\u5230\u4e00\u4e2a\u76ee\u6807\u540e\uff0c\u5728\u8ffd\u6c42\u4e0b\u4e00\u4e2a\u76ee\u6807\u3002\n</code></pre>"},{"location":"language/python/jupyterlab/","title":"Jupyterlab","text":""},{"location":"language/python/jupyterlab/#1-jupyterlab","title":"\u2460 \u5b89\u88c5Jupyterlab\u5e93","text":"<pre><code>pip install jupyterlab\n</code></pre>"},{"location":"language/python/jupyterlab/#2","title":"\u2461 \u751f\u6210\u914d\u7f6e\u6587\u4ef6","text":"<pre><code>jupyter lab --generate-config\n</code></pre>"},{"location":"language/python/jupyterlab/#3","title":"\u2462 \u8bbe\u7f6e\u5bc6\u7801","text":"<p>\u63cf\u8ff0\uff1a\u8bbe\u7f6e\u5bc6\u7801\u7528\u4e8e\u8bbe\u7f6e\u670d\u52a1\u5668\u914d\u7f6e\uff0c\u4ee5\u53ca\u767b\u5f55Jupyter\u3002\u6253\u5f00Python\u7ec8\u7aef\uff0c\u8f93\u5165\u4ee5\u4e0b\uff1a <pre><code>&gt;&gt;&gt; from notebook.auth import passwd  \n&gt;&gt;&gt; passwd()\nEnter password: \nVerify password: # \u6b64\u65f6\u4f1a\u8ba9\u4f60\u4e24\u6b21\u8f93\u5165\u5bc6\u7801\uff0c\u7136\u540e\u5c31\u4f1a\u751f\u6210\u79d8\u94a5  \n'sha1:5f84cd442b12:707f6ca12c9cfb622f7e79baf74e21fb2c542498'\n</code></pre></p>"},{"location":"language/python/jupyterlab/#4","title":"\u2463 \u8bbe\u7f6e\u670d\u52a1\u5668\u914d\u7f6e\u6587\u4ef6","text":"<p>\u63cf\u8ff0\uff1a\u4fee\u6539\u914d\u7f6e\uff0cvim ~/.jupyter/jupyter_lab_config.py <pre><code>c.NotebookApp.allow_remote_access = True #\u5141\u8bb8\u8fdc\u7a0b\u8fde\u63a5\nc.NotebookApp.ip='*'                     # \u8bbe\u7f6e\u6240\u6709ip\u7686\u53ef\u8bbf\u95ee\nc.NotebookApp.password = '\uff0a\uff0a\uff0a\uff0a\uff0a\uff0a\uff0a\uff0a\uff0a\uff0a\uff0a\uff0a'  # \u4e0a\u9762\u7684\u5bc6\u94a5'\nc.NotebookApp.open_browser = False       # \u7981\u6b62\u81ea\u52a8\u6253\u5f00\u6d4f\u89c8\u5668\nc.NotebookApp.port = 8888                 # \u8bbe\u7f6e\u6253\u5f00\u7aef\u53e3,\u968f\u4fbf\u8bbe\u7f6e,\u4fdd\u8bc1\u4e0d\u51b2\u7a81\u5373\u53ef\nc.NotebookApp.notebook_dir = '/home/users/jupyterlab_projects'  #\u8bbe\u7f6eNotebook\u542f\u52a8\u8fdb\u5165\u7684\u76ee\u5f55\n</code></pre></p>"},{"location":"language/python/message/","title":"Message","text":""},{"location":"language/python/message/#asyncio","title":"asyncio \u53d1\u9001\u6d88\u606f","text":"<pre><code>import asyncio\nimport os\nfrom typing import Any, AsyncGenerator, Awaitable, Callable, Optional\nimport aiohttp\n\nclass WxPusherClient:\n    def __init__(self, token: Optional[str] = None, base_url: str = \"http://wxpusher.zjiecode.com\"):\n        self.base_url = base_url\n        self.token = token or os.environ[\"WXPUSHER_TOKEN\"]\n\n    async def send_message(\n        self,\n        content,\n        summary: Optional[str] = None,\n        content_type: int = 1,\n        topic_ids: Optional[list[int]] = None,\n        uids: Optional[list[int]] = None,\n        verify: bool = False,\n        url: Optional[str] = None,\n    ):\n        payload = {\n            \"appToken\": self.token,\n            \"content\": content,\n            \"summary\": summary,\n            \"contentType\": content_type,\n            \"topicIds\": topic_ids or [],\n            \"uids\": uids or os.environ[\"WXPUSHER_UIDS\"].split(\",\"),\n            \"verifyPay\": verify,\n            \"url\": url,\n        }\n        url = f\"{self.base_url}/api/send/message\"\n        return await self._request(\"POST\", url, json=payload)\n\n    async def _request(self, method, url, **kwargs):\n        async with aiohttp.ClientSession() as session:\n            async with session.request(method, url, **kwargs) as response:\n                response.raise_for_status()\n                return await response.json()\n\nasync def wxpusher_callback():\n    client = WxPusherClient(token=\"AT_xxx\")\n    res = await client.send_message(content=\"hello\", uids=[\"UID_xxx\"])\n    print(res)\nasyncio.run(wxpusher_callback())\n</code></pre>"},{"location":"language/python/pandas/","title":"Pandas","text":""},{"location":"language/python/pandas/#pandas","title":"pandas","text":""},{"location":"language/python/pandas/#_1","title":"\u6307\u5b9a\u5217\u7684\u540d\u79f0","text":"<pre><code>data = pd.read_csv(file_path, \n                    sep=\",\", \n                    names=[\"Sepal_Length\", \"Sepal_Width\",\n                        \"Petal_Length\", \"Petal_Width\", \"label\"])\n</code></pre>"},{"location":"language/python/pandas/#_2","title":"\u66ff\u6362\u5217\u7684\u503c","text":"<pre><code>data[\"label\"].replace(\"Iris-setosa\", 0, inplace=True)\n</code></pre>"},{"location":"language/python/scrapy/","title":"Scrapy","text":""},{"location":"language/python/scrapy/#scrapy","title":"scrapy","text":"<pre><code>pip install scrapy\nscrapy startproject spider\nscrapy genspider example example.com\nscrapy crawl douban -o douban.csv\n</code></pre> <pre><code>pip freeze &gt;&gt; requirement.txt\npip install -r requirement.txt\n</code></pre>"},{"location":"language/python/scrapy/#selector","title":"selector","text":""},{"location":"language/python/scrapy/#_1","title":"\u5b98\u65b9\u6587\u6863","text":"<pre><code>scrapy\u4f7f\u7528css\u548cxpath\u9009\u62e9\u5668\u6765\u5b9a\u4f4d\u5143\u7d20\uff0c\u5b83\u6709\u56db\u4e2a\u57fa\u7840\u65b9\u6cd5\nxpath() \u8fd4\u56de\u9009\u62e9\u5668\u5217\u8868\uff0c\u6bcf\u4e2a\u9009\u62e9\u5668\u4ee3\u8868\u4f7f\u7528xpath\u8bed\u6cd5\u9009\u62e9\u7684\u8282\u70b9\ncss() \u8fd4\u56de\u9009\u62e9\u5668\u5217\u8868\uff0c\u6bcf\u4e2a\u9009\u62e9\u5668\u4ee3\u8868\u4f7f\u7528css\u8bed\u6cd5\u9009\u62e9\u7684\u8282\u70b9\nextract() \u8fd4\u56de\u88ab\u9009\u62e9\u5143\u7d20\u7684unicode\u5b57\u7b26\u4e32\nre() \u8fd4\u56de\u901a\u8fc7\u6b63\u5219\u8868\u8fbe\u5f0f\u63d0\u53d6\u7684unicode\u5b57\u7b26\u4e32\u5217\u8868\n</code></pre>"},{"location":"language/python/scrapy/#xpath","title":"Xpath\u8def\u5f84\u9009\u62e9","text":"\u7b26\u53f7 \u540d\u79f0 \u542b\u4e49 / \u7edd\u5bf9\u8def\u5f84 \u8868\u793a\u6839\u8282\u70b9\u5f00\u59cb\u9009\u53d6 // \u76f8\u5bf9\u8def\u5f84 \u8868\u793a\u9009\u62e9\u4ece\u4efb\u610f\u4f4d\u7f6e\u7684\u67d0\u4e2a\u8282\u70b9\uff0c\u800c\u4e0d\u8003\u8651\u4ed6\u4eec\u7684\u4f4d\u7f6e \u8868\u8fbe\u5f0f \u8bf4\u660e article \u9009\u53d6\u6240\u6709article\u5143\u7d20\u7684\u6240\u6709\u5b50\u8282\u70b9 /article \u9009\u53d6\u6839\u5143\u7d20article article/a \u9009\u53d6\u6240\u6709\u5c5e\u4e8earticle\u7684\u5b50\u5143\u7d20\u7684a\u5143\u7d20 //div \u9009\u53d6\u6240\u6709div\u5b50\u5143\u7d20(\u4e0d\u8bba\u51fa\u73b0\u5728\u6587\u6863\u4efb\u4f55\u5730\u65b9) article//div \u9009\u53d6\u6240\u6709\u5c5e\u4e8earticle\u5143\u7d20\u7684\u540e\u4ee3\u7684div\u5143\u7d20\uff0c\u4e0d\u7ba1\u5b83\u51fa\u73b0\u5728article\u4e4b\u4e0b\u7684\u4efb\u4f55\u4f4d\u7f6e //@class \u9009\u53d6\u6240\u6709\u540d\u4e3aclass\u7684\u5c5e\u6027"},{"location":"language/python/scrapy/#_2","title":"\u7d22\u5f15\u7684\u4f7f\u7528","text":"<pre><code>\u5b9a\u4f4d\u7b2c8\u4e2atd\u4e0b\u7684\uff0c\u7b2c2\u4e2aa\u8282\u70b9  //*/td[7]/a[1]\n\u5b9a\u4f4d\u7b2c8\u4e2atd\u4e0b\u7684\uff0c\u7b2c3\u4e2aspan\u8282\u70b9  //*/td[7]/a[1]\n\u5b9a\u4f4d\u6700\u540e1\u4e2atd\u4e0b\u7684\uff0c\u7b2c\u6700\u540e1\u4e2aa\u8282\u70b9  //*/td[last()]/a[last()]\n</code></pre>"},{"location":"language/python/scrapy/#_3","title":"\u4f7f\u7528\u5c5e\u6027","text":"<pre><code>\u4e3a\u4e86\u5b9a\u4f4d\u66f4\u7cbe\u51c6\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u5c5e\u6027\u7b26\u53f7@\u3002\n\u5b9a\u4f4d\u6240\u6709\u5305\u542bname\u5c5e\u6027\u7684input\u8282\u70b9 //input[@name]\n\u5b9a\u4f4d\u542b\u6709\u5c5e\u6027\u7684\u6240\u6709\u7684input\u8282\u70b9 //input[@*]\n\u5b9a\u4f4d\u6240\u6709value=2\u7684input\u8282\u70b9 //input[@value='2']\n\u4f7f\u7528\u591a\u4e2a\u5c5e\u6027\u5b9a\u4f4d //input[@value='2'][@id='3']   //input[@value='2' and @id='3']\n</code></pre>"},{"location":"language/python/scrapy/#_4","title":"\u591a\u6761\u4ef6\u9009\u62e9","text":"<pre><code>\u53ef\u4ee5\u4f7f\u7528|\u8fdb\u884c\u6216\u7684\u6761\u4ef6\u9009\u62e9\nxpath(\"text() | .//p/text()  | .//p/span/text()\")\n</code></pre>"},{"location":"language/python/scrapy/#_5","title":"\u4f7f\u7528\u51fd\u6570","text":"<pre><code>contains(s1, s2)  # \u8fd4\u56des1\u4e2d\u5305\u542bs2\u7684\u8282\u70b9\ntext() # \u4ec5\u8fd4\u56de\u6240\u6307\u5143\u7d20\u7684\u6587\u672c\u5185\u5bb9\nstring() # \u8fd4\u56de\u6240\u6307\u5143\u7d20\u7684\u6240\u6709\u8282\u70b9\u6587\u672c\u5185\u5bb9\n//a[contains(@href, 'promote.html')] # \u5b9a\u4f4dhref\u5c5e\u6027\u4e2d\u5305\u542b\u201cprompt.html\u201d\u7684\u6240\u6709\u8282\u70b9\n//a[starts-with(@href, 'ads')] # href\u5c5e\u6027\u503c\u662f\u4ee5\u201c/ads\u201d\u5f00\u5934\u7684\u6240\u6709a\u8282\u70b9\n//a[text()=\"\u5e94\u7528\u63a8\u5e7f\"] # \u5143\u7d20\u5185\u7684\u6587\u672c\u4e3a\u201c\u5e94\u7528\u63a8\u5e7f\u201d\u7684\u6240\u6709a\u8282\u70b9\n</code></pre>"},{"location":"language/python/scrapy/#xpath_1","title":"Xpath\u8f74","text":"<pre><code>child \u9009\u53d6\u5f53\u524d\u8282\u70b9\u7684\u6240\u6709\u5b50\u5143\u7d20\nparent \u9009\u53d6\u5f53\u524d\u8282\u70b9\u7684\u6240\u6709\u7236\u8282\u70b9\ndescendant \u9009\u53d6\u5f53\u524d\u8282\u70b9\u7684\u6240\u6709\u540e\u4ee3\u5143\u7d20\uff08\u5b50\u3001\u5b59\u7b49\uff09\nancestor \u9009\u53d6\u5f53\u524d\u8282\u70b9\u7684\u6240\u6709\u5148\u8f88\uff08\u7236\u3001\u7956\u7236\u7b49\uff09\ndesendant-or-self \u9009\u53d6\u5f53\u524d\u8282\u70b9\u7684\u6240\u6709\u540e\u4ee3\u5143\u7d20\uff08\u5b50\u3001\u5b59\u7b49\uff09\u4ee5\u53ca\u5f53\u524d\u8282\u70b9\u672c\u8eab\nancestor-or-self  \u9009\u53d6\u5f53\u524d\u8282\u70b9\u7684\u6240\u6709\u5148\u8f88\uff08\u7236\u3001\u7956\u7236\u7b49\uff09\u4ee5\u53ca\u5f53\u524d\u8282\u70b9\u672c\u8eab\npreceding-sibling \u9009\u53d6\u5f53\u524d\u8282\u70b9\u7684\u6240\u6709\u540c\u7ea7\u8282\u70b9\nfollowing-sibling \u9009\u53d6\u5f53\u524d\u8282\u70b9\u4e4b\u540e\u7684\u6240\u6709\u540c\u7ea7\u8282\u70b9\npreceding \u9009\u53d6\u6587\u6863\u4e2d\u5f53\u524d\u8282\u70b9\u7684\u5f00\u59cb\u6807\u7b7e\u4e4b\u524d\u7684\u6240\u6709\u8282\u70b9\nfollowing \u9009\u53d6\u6587\u6863\u4e2d\u5f53\u524d\u8282\u70b9\u7684\u7ed3\u675f\u6807\u7b7e\u4e4b\u540e\u7684\u6240\u6709\u8282\u70b9\nself \u9009\u53d6\u5f53\u524d\u8282\u70b9\nattribute \u9009\u53d6\u5f53\u524d\u8282\u70b9\u7684\u6240\u6709\u5c5e\u6027 \nnamespace  \u9009\u53d6\u5f53\u524d\u8282\u70b9\u7684\u6240\u6709\u547d\u540d\u7a7a\u95f4\u8282\u70b9\n</code></pre>"},{"location":"language/python/selenium/","title":"Selenium","text":""},{"location":"language/python/selenium/#_1","title":"\u4e0b\u8f7d\u5730\u5740","text":"<pre><code>https://registry.npmmirror.com/binary.html\n</code></pre>"},{"location":"language/python/selenium/#_2","title":"\u95ee\u9898","text":"<pre><code>https://stackoverflow.com/questions/67212594/attributeerror-pathdistribution-object-has-no-attribute-name\nhttps://stackoverflow.com/questions/76614392/getting-error-when-i-run-selenium-script-value-error-timeout-value-connect-was\nhttps://stackoverflow.com/questions/60296873/sessionnotcreatedexception-message-session-not-created-this-version-of-chrom\nhttps://stackoverflow.com/questions/60296873/sessionnotcreatedexception-message-session-not-created-this-version-of-chrome\nbrew install --cask chromedriver\n</code></pre>"},{"location":"language/python/selenium/#_3","title":"\u5143\u7d20\u5b9a\u4f4d","text":""},{"location":"language/python/selenium/#_4","title":"\u83b7\u53d6\u5355\u4e2a\u5143\u7d20","text":"<pre><code>driver.find_element(By.ID\uff0c\"inputorigina\u201d\uff09\ndriver.find_element(By.CSS_SELECTOR\uff0c\"#inputoriginal\"\uff09\ndriver.find_element(By.TAG_NAME\uff0c\"div\"\uff09\ndriver.find_element\uff08By.NAME\uff0c\"username\")\ndriver.find_element(By.LINK_TEXT,\"\u4e0b\u4e00\u9875\"\uff09\n</code></pre>"},{"location":"language/python/selenium/#_5","title":"\u5982\u679c\u627e\u4e0d\u5230\u76f8\u5e94\u7684\u5143\u7d20\u4f1a\u62a5\u9519","text":"<pre><code>selenium.common.exceptions.NosuchElementException: Message:no such element:Unable to 7ocate element:XX\n</code></pre>"},{"location":"language/python/selenium/#_6","title":"\u83b7\u53d6\u591a\u4e2a\u5143\u7d20","text":"<pre><code>driver.find_elements(By.ID\uff0c\"inputoriginal\"\uff09\ndriver.findelements(By.CSS_SELECTOR\uff0c\"inputoriginal\"\uff09\ndriver.find_elements(By.TAG_NAME,\"div\")\ndriver.find_elements(By.NAME\uff0c\"username\")\ndriver.find_elements(By.LINK_TEXT\uff0c\"\u4e0b\u4e00\u9875\"\uff09\n</code></pre>"},{"location":"language/python/selenium/#_7","title":"\u5185\u5bb9\u83b7\u53d6","text":"<pre><code>size \u8fd4\u56de\u5143\u7d20\u5927\u5c0f\ntext \u83b7\u53d6\u5143\u7d20\u7684\u6587\u672c &lt;div&gt;hello&lt;/div&gt;\ntitle \u83b7\u53d6\u9875\u9762\u7684title\ncurrent_url \u83b7\u53d6\u5f53\u524d\u9875\u9762URL\nget_attribute() \u83b7\u53d6\u5c5e\u6027\u503c&lt;a href=\"www.baidu.com\"&gt;&lt;/a&gt;\nis_display() \u5224\u65ad\u5143\u7d20\u662f\u5426\u53ef\u89c1\uff0c\u6d4f\u89c8\u5668\u6e32\u67d3\u52a0\u8f7d\u51fa\u6765\uff0c\nis_enabled() \u5224\u65ad\u5143\u7d20\u662f\u5426\u53ef\u7528\uff0c\u662f\u5426\u53ef\u7528\uff0c\u6709\u53ef\u80fd\u88ab\u5e7f\u544a\u906e\u76d6\uff0c\u4e0d\u53ef\u4ee5\u70b9\u51fb\uff0c\u4f46\u662f\u5df2\u7ecf\u52a0\u8f7d\u51fa\u6765\u3002\n</code></pre>"},{"location":"language/python/selenium/#_8","title":"\u7a97\u53e3\u64cd\u4f5c","text":"<pre><code>maximize_window() \u7a97\u53e3\u6700\u5927\u5316\nset_window_size(100,100) \u6d4f\u89c8\u5668\u5927\u5c0f \u8bbe\u7f6e\u6d4f\u89c8\u5668\u7684\u5bbd\u9ad8(\u50cf\u7d20\u70b9)\nset_window_position(300,200) \u6d4f\u89c8\u5668\u4f4d\u7f6e \u8bbe\u7f6e\u6d4f\u89c8\u5668\u4f4d\u7f6e\nback() \u540e\u9000\nforward() \u524d\u8fdb\nrefresh() \u5237\u65b0\nclose() \u5173\u95ed\u6d4f\u89c8\u5668\u6309\u94ae(\u5173\u95ed\u5355\u4e2a\u7a97\u53e3)\nquit() \u5173\u95edwebDriver\u542f\u52a8\u7684\u7a97\u53e3\n</code></pre>"},{"location":"language/python/selenium/#_9","title":"\u6848\u4f8b","text":""},{"location":"language/python/selenium/#_10","title":"\u8bbf\u95ee\u767e\u5ea6\uff0c\u8f93\u5165\u641c\u7d22\u8bcd\uff0c\u5e76\u70b9\u51fb\u641c\u7d22","text":"<pre><code>#encoding:utf-8\nimport time\nfrom selenium import webdriver\nfrom selenium.webdriver.common.by import By\n# \u8c03\u7528\u952e\u76d8\u6309\u952e\u64cd\u4f5c\u65f6\u9700\u8981\u5f15\u5165\u7684keys\u5305\n#driver = webdriver.Chrome(executable_path=\"/Users/ss/Pangu/PythonHome/sharingan/driver/chromedriver\")\nfrom selenium import webdriver\nfrom webdriver_manager.chrome import ChromeDriverManager\n# \u8c03\u7528\u73af\u5883\u53d8\u91cf\u6307\u5b9a\u7684PhantomJS\u6d4f\u89c8\u5668\u521b\u5efa\u6d4f\u89c8\u5668\u5bf9\u8c61\ndef __driver():\n    driver = webdriver.Chrome(ChromeDriverManager().install())\n    return driver\n\ndef test01():\n    time.sleep(2)\n    # get\u65b9\u6cd5\u4f1a\u4e00\u76f4\u7b49\u5230\u9875\u9762\u88ab\u5b8c\u5168\u52a0\u8f7d,\u7136\u540e\u624d\u4f1a\u7ee7\u7eed\u7a0b\u5e8f,\u901a\u5e38\u6d4b\u8bd5\u4f1a\u5728\u8fd9\u91cc\u9009\u62e9\n    driver = __driver() \n    driver.get(\"http://www.baidu.com/\")\n    time.sleep(1)\n    # id=\"kw\"\u65f6\u767e\u5ea6\u641c\u7d22\u8f93\u5165\u6846\n    kw = driver.find_element(By.ID,\"kw\") \n    # \u8f93\u5165\u5b57\u7b26\u4e32\n    kw.send_keys(\"\u4e2d\u56fd\")\n    time.sleep(3)\n    # id=\"su\"\u662f\u767e\u5ea6\u641c\u7d22\u6309\u94ae\uff0cclick\u662f\u6a21\u62df\u70b9\u51fb\n    # su = driver.find_element(By.ID,\"su\").click()\n    driver.find_element(By.CSS_SELECTOR, \"#su\").click()\n    time.sleep(3)\n    # \u5173\u95ed\u6d4f\u89c8\u5668\n    driver.quit()\n</code></pre>"},{"location":"language/python/selenium/#_11","title":"\u8bbf\u95ee\u6709\u9053\u7ffb\u8bd1\u7f51\u7ad9\uff0c\u8f93\u5165\u5355\u8bcd\uff0c\u5e76\u83b7\u53d6\u7ffb\u8bd1\u540e\u7684\u5185\u5bb9","text":"<pre><code>def test02():\n    driver = __driver()\n    # get\u65b9\u6cd5\u4f1a\u4e00\u76f4\u7b49\u5230\u9875\u9762\u88ab\u5b8c\u5168\u52a0\u8f7d,\u7136\u540e\u624d\u4f1a\u7ee7\u7eed\u7a0b\u5e8f,\u901a\u5e38\u6d4b\u8bd5\u4f1a\u5728\u8fd9\u91cc\u9009\u62e9 time.sleep(2)\n    driver.get(\"https://fanyi.youdao.com/\")\n    print(driver.title)\n    print(driver.current_url)\n    time.sleep(2)\n    driver.find_element(By.CSS_SELECTOR,\".tab-header .tab-left .color_text_1\").click()\n    # \u83b7\u53d6\u8f93\u5165\u6846    \n    input = driver.find_element(By.ID,\"js_fanyi_input\")\n    # \u8f93\u5165\u5185\u5bb9\n    input.send_keys(\"hello\")\n    time.sleep(2)\n    transTarget = driver.find_element(By.ID,\"js_fanyi_output_resultOutput\")\n    print(transTarget.size)\n    print(transTarget.text)\n    print(transTarget.get_attribute(\"href\"))\n    print(transTarget.is_displayed())\n    print(transTarget.is_enabled())\n</code></pre>"},{"location":"language/python/selenium/#_12","title":"\u722c\u5f53\u5f53\u7f51\u4e66\u7c4d\u7684\u6570\u636e","text":"<pre><code>def test03():\n    driver.implicitly_wait(30)\n    # get\u65b9\u6cd5\u4f1a\u4e00\u76f4\u7b49\u5230\u9875\u9762\u88ab\u5b8c\u5168\u52a0\u8f7d,\u7136\u540e\u624d\u4f1a\u7ee7\u7eed\u7a0b\u5e8f,\u901a\u5e38\u6d4b\u8bd5\u4f1a\u5728\u8fd9\u91cc\u9009\u62e9 time.sleep(2)\n    driver.get(\"https://www.dangdang.com/\")\n    driver.maximize_window()\n    # \u83b7\u53d6\u8f93\u5165\u6846\n    key = driver.find_element(By.ID,\"key_S\")\n    key.send_keys(\"\u79d1\u5e7b\")\n    # \u83b7\u53d6\u641c\u7d22\u6846 \u70b9\u51fb\u641c\u7d22\n    search = driver.find_element(By.CSS_SELECTOR,\"#form_search_new .button\")\n    search.click()\n    # \u83b7\u53d6\u5546\u54c1\u6807\u9898\u53ca\u4ef7\u683c\n    for i in range(5):\n        shoplist = driver.find_elements(By.CSS_SELECTOR,\".shoplist li\")\n        for li in shoplist:\n            print(li.find_element(By.CSS_SELECTOR,\"a\").get_attribute(\"title\"))\n            print(li.find_element(By.CSS_SELECTOR,\".search_now_price\").text)\n    # \u83b7\u53d6\u4e0b\u4e00\u9875\u7684\u6309\u94ae\n    next = driver.find_element(By.LINK_TEXT,\"\u4e0b\u4e00\u9875\")\n    next.click()\n</code></pre>"},{"location":"language/python/selenium/#_13","title":"\u663e\u793a\u7b49\u5f85","text":"<pre><code>from selenium.webdriver.support.ui import WebDriverwait\nfrom selenium.webdriver.support import expected_conditions as EC\n#\u7a0b\u5e8f\u6bcf0.5\u79d2\u68c0\u67e5\uff0c\u662f\u5426\u6ee1\u8db3:\u6807\u9898\u5305\u542b\u201c\u767e\u5ea6\u4e00\u4e0b\u201d\u8fd9\u4e2a\u6761\u4ef6\uff0c\u68c0\u67e5\u662f\u5426\u6ee1\u8db3\u6761\u4ef6\u7684\u6700\u957f\u65f6\u95f4\u4e3a:15\u79d2\uff0c\u8d85\u8fc715\u79d2\u4ecd\u672a\u6ee1\u8db3\u6761\u4ef6\u5219\u629b\u51fa\u5f02\u5e38\nWebDriverwait\uff08driver\uff0c15).until\uff08Ec.title_contains\uff08\u201c\u767e\u5ea6\u4e00\u4e0b\u201d\uff09\n#\u7a0b\u5e8f\u6bcf0.5\u79d2\u68c0\u67e5\uff0c\u662f\u5426\u6ee1\u8db3:\u67d0\u5b9a\u4f4d\u7684\u5143\u7d20\u51fa\u73b0\uff0c\u68c0\u67e5\u662f\u5426\u6ee1\u8db3\u6761\u4ef6\u7684\u6700\u957f\u65f6\u95f4\u4e3a:15\u79d2\uff0c\u8d85\u8fc715\u79d2\u4ecd\u672a\u6ee1\u8db3\u6761\u4ef6\u5219\u629b\u51fa\u5f02\u5e38\nWebDriverwait(driver\uff0c15\uff09.until\uff08Ec.visibility_of_element_located(By.CSS_SELECTOR\uff0c\u201cXX\u201d\uff09\uff09\n</code></pre>"},{"location":"language/python/selenium/#_14","title":"\u9690\u5f0f\u7b49\u5f85","text":"<pre><code>implicitly_wait(time_to_wait)\n\u8bbe\u7f6e\u65f6\u95f4\u5355\u4f4d\u4e3a\u79d2 \u4f8b\u598230\u79d2 implicitly_wait(30) \u610f\u601d\u662f\u8d85\u8fc730\u79d2\u6ca1\u6709\u5b9a\u4f4d\u5230\u4e00\u4e2a\u5143\u7d20 \u7a0b\u5e8f\u5c31\u56de\u629b\u51fa\u5f02\u5e38,\u671f\u95f4\u4f1a\u4e00\u76f4\u8f6e\u8be2\u67e5\u627e\u5b9a\u4f4d\u5143\u7d20\n</code></pre>"},{"location":"language/python/selenium/#_15","title":"\u9f20\u6807\u53ca\u952e\u76d8\u64cd\u4f5c","text":""},{"location":"language/python/selenium/#_16","title":"\u9f20\u6807\u64cd\u4f5c","text":"<pre><code>context_click() \u53f3\u51fb\ndouble_click() \u53cc\u51fb\ndrag_and_drop() \u62d6\u52a8\nmove_to_element() \u60ac\u505c\nperform()    \u6267\u884c\n</code></pre>"},{"location":"language/python/selenium/#_17","title":"\u767e\u5ea6\u6253\u5f00\u66f4\u591a","text":"<pre><code>def test04():\n    driver  = __driver()\n    from datetime import time\n    from selenium import webdriver\n    # \u8c03\u7528\u73af\u5883\u53d8\u91cf\u6307\u5b9a\u7684PhantomJS\u6d4f\u89c8\u5668\u521b\u5efa\u6d4f\u89c8\u5668\u5bf9\u8c61\n    from selenium.webdriver import ActionChains\n    from selenium.webdriver.common.by import By\n    # get\u65b9\u6cd5\u4f1a\u4e00\u76f4\u7b49\u5230\u9875\u9762\u88ab\u5b8c\u5168\u52a0\u8f7d,\u7136\u540e\u624d\u4f1a\u7ee7\u7eed\u7a0b\u5e8f,\u901a\u5e38\u6d4b\u8bd5\u4f1a\u5728\u8fd9\u91cc\u9009\u62e9 time.sleep(2)\n    driver.get(\"https://www.baidu.com/\")\n    more = driver.find_element(By.LINK_TEXT,\"\u66f4\u591a\")\n    # \u5c06\u9f20\u6807\u79fb\u52a8\u5230\u66f4\u591a\u6309\u94ae\n    ActionChains(driver).move_to_element(more).perform()\n</code></pre>"},{"location":"language/python/selenium/#_18","title":"\u952e\u76d8\u64cd\u4f5c","text":"<pre><code>send_keys\uff08Keys,BACK_SPACE\uff09\u5220\u9664\u952e\uff08Backspace\uff09\nsend_keys\uff08Keys.SPACE\uff09\u7a7a\u683c\u952e\uff08Space\uff09\nsend_keys\uff08Keys.TAB\uff09\u5236\u8868\u952e\uff08Tab\uff09\nsend_keys\uff08Keys\u00b7ESCAPE\uff09\u56de\u9000\u952e\uff08ESC\uff09\nsend_keys\uff08Keys\u00b7ENTER\uff09\u56de\u8f66\u952e\uff08Enter\uff09\nsend_keys\uff08Keys.CONTROL\uff0c'a'\uff09\u5168\u9009\uff08Ctrl+A\uff09\nsend_keys\uff08Keys.CONTROL\uff0c'c'\uff09\u590d\u5236\uff08Ctr1+C\uff09\n</code></pre>"},{"location":"language/python/selenium/#_19","title":"\u767e\u5ea6\u952e\u76d8\u64cd\u4f5c","text":"<pre><code>from selenium.webdriver.common.keys import Keys\ndriver.get(\"https://www.baidu.com/\")\nelement = driver.find_element(By.ID,\"kw\")\n#\u8f93\u5165\u7528\u6237\u540d\nelement.send_keys(\"admin1\")\n#\u5220\u96641\nelement.send_keys(Keys.BACK_SPACE)\n#\u5168\u9009\nelement.send_keys(Keys.CONTROL,'a')\n#\u590d\u5236\nelement.send_keys(Keys.CONTROL,'c')\n#\u7c98\u8d34\nelement.send_keys(Keys.CONTROL,'v')\n</code></pre>"},{"location":"language/python/selenium/#_20","title":"\u6eda\u52a8\u6761","text":"<pre><code>\u5728HTML\u9875\u9762\u4e2d\uff0c\u7531\u4e8e\u524d\u7aef\u6280\u672f\u6846\u67b6\u7684\u539f\u56e0\uff0c\u9875\u9762\u5143\u7d20\u4e3a\u52a8\u6001\u663e\u793a\uff0c\u5143\u7d20\u6839\u636e\u6eda\u52a8\u6761\u7684\u4e0b\u62c9\u800c\u88ab\u52a0\u8f7d\n#1.\u8bbe\u7f6e]avascritp\u811a\u672c\u63a7\u5236\u6eda\u52a8\u6761\uff0c\uff080:\u5de6\u8fb9\u8ddd\uff1b1000:\u4e0a\u8fb9\u8ddd\uff1b\u5355\u4f4d\u50cf\u7d20\uff09\njs=\"window.scro11To(0,1000)\"\n#2\uff0cWebDriver\u8c03\u7528js\u811a\u672c\u65b9\u6cd5\ndriver.execute_script(js\uff09\n</code></pre>"},{"location":"language/python/selenium/#_21","title":"\u7a97\u53e3\u622a\u56fe","text":"<pre><code>\u81ea\u52a8\u5316\u811a\u672c\u662f\u7531\u7a0b\u5e8f\u53bb\u6267\u884c\u7684\uff0c\u56e0\u6b64\u6709\u65f6\u5019\u6253\u5370\u7684\u9519\u8bef\u4fe1\u606f\u5e76\u4e0d\u662f\u5341\u5206\u660e\u786e\u3002\u5982\u679c\u5728\u6267\u884c\u51fa\u9519\u7684\u65f6\u5019\u5bf9\u5f53\u524d\u7a97\u53e3\u622a\u56fe\u4fdd\u5b58\uff0c\u90a3\u4e48\u901a\u8fc7\u56fe\u7247\u5c31\u53ef\u4ee5\u975e\u5e38\u76f4\u89c2\u5730\u770b\u5230\u51fa\u9519\u7684\u539f\u56e0\n#\u622a\u53d6\u5f53\u524d\u7a97\u53e3\ndriver.get_screenshot_as_file(\"./demo.png\")\n</code></pre>"},{"location":"language/python/tqdm/","title":"Tqdm","text":""},{"location":"language/python/tqdm/#tqdm","title":"Tqdm \u4ecb\u7ecd","text":"<p>\u63cf\u8ff0\uff1aTqdm \u662f\u4e00\u4e2a\u5feb\u901f\uff0c\u53ef\u6269\u5c55\u7684Python\u8fdb\u5ea6\u6761\uff0c\u53ef\u4ee5\u5728 Python \u957f\u5faa\u73af\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u8fdb\u5ea6\u63d0\u793a\u4fe1\u606f\uff0c\u7528\u6237\u53ea\u9700\u8981\u5c01\u88c5\u4efb\u610f\u7684\u8fed\u4ee3\u5668tqdm(iterator)</p>"},{"location":"language/python/tqdm/#_1","title":"\u6d4b\u8bd5\u6848\u4f8b","text":""},{"location":"language/python/tqdm/#1","title":"1. \u7b80\u5355\u6848\u4f8b","text":"<pre><code>from tqdm import tqdm\nimport time\n\nfor i in tqdm(range(100)):\n    time.sleep(0.1)\n</code></pre>"},{"location":"language/python/tqdm/#2-trange","title":"2. \u4f7f\u7528trange\u66ff\u6362","text":"<p>\u63cf\u8ff0\uff1a\u5c06tqdm(range(100))\u66ff\u6362\u4e3atrange(100)\uff0c\u5b9e\u73b0\u6548\u679c\u76f8\u540c <pre><code>from tqdm import trange\nimport time\n\nfor i in trange(100):\n    time.sleep(0.1)\n</code></pre></p>"},{"location":"language/python/tqdm/#3-set_description","title":"3. set_description","text":"<p>\u63cf\u8ff0\uff1a\u901a\u8fc7tqdm\u63d0\u4f9b\u7684set_description\u65b9\u6cd5\u53ef\u4ee5\u5b9e\u65f6\u67e5\u770b\u6bcf\u6b21\u5904\u7406\u7684\u6570\u636e <pre><code>from tqdm import tqdm\nimport time\npbar = tqdm([\"a\",\"b\",\"c\",\"d\"])\nfor c in pbar:\n  time.sleep(1)\n  pbar.set_description(f\"Processing {c}\")\n</code></pre></p>"},{"location":"language/python/tqdm/#4-update","title":"4. update\u66f4\u65b0\u8fdb\u5ea6\u6761","text":"<p>\u63cf\u8ff0\uff1a\u4f7f\u7528update\u624b\u52a8\u66f4\u65b0\u8fdb\u5ea6\u6761\u5b8c\u6210\u5ea6 <pre><code>from tqdm import tqdm\nimport time\n#total\u53c2\u6570\u8bbe\u7f6e\u8fdb\u5ea6\u6761\u7684\u603b\u957f\u5ea6\nwith tqdm(total=100) as pbar:\n  for i in range(100):\n    time.sleep(0.05)\n    #\u6bcf\u6b21\u66f4\u65b0\u8fdb\u5ea6\u6761\u7684\u957f\u5ea6\n    pbar.update(1)\n</code></pre></p>"},{"location":"language/python/tqdm/#5-with","title":"5. \u4f7f\u7528with\u5173\u952e\u5b57","text":"<pre><code>from tqdm import tqdm\nimport time\n#total\u53c2\u6570\u8bbe\u7f6e\u8fdb\u5ea6\u6761\u7684\u603b\u957f\u5ea6\npbar = tqdm(total=100)\nfor i in range(100):\n  time.sleep(0.05)\n  #\u6bcf\u6b21\u66f4\u65b0\u8fdb\u5ea6\u6761\u7684\u957f\u5ea6\n  pbar.update(1)\n#\u5173\u95ed\u5360\u7528\u7684\u8d44\u6e90\npbar.close()\n</code></pre>"},{"location":"language/python/tqdm/#6-tqdm","title":"6. tqdm\u547d\u4ee4\u884c","text":"<p>\u63cf\u8ff0\uff1a\u66f4\u591a\u63a2\u7d22\uff0ctqdm --help <pre><code>time find . -name '*.py' -type f -exec cat \\{} \\; | tqdm | wc -l\n3298173it [00:20, 157910.88it/s]\nreal    0m21.015s\nuser    0m5.945s\nsys 0m11.775s\n</code></pre></p>"},{"location":"language/python/tqdm/#set_postfix","title":"set_postfix","text":"<p>\u63cf\u8ff0\uff1a\u901a\u8fc7set_description\u548cset_postfix\u65b9\u6cd5\u8bbe\u7f6e\u8fdb\u5ea6\u6761\u663e\u793a\u4fe1\u606f <pre><code>from tqdm import trange\nfrom random import random,randint\nimport time\nwith trange(100) as t:\n  for i in t:\n    #\u8bbe\u7f6e\u8fdb\u5ea6\u6761\u5de6\u8fb9\u663e\u793a\u7684\u4fe1\u606f\n    t.set_description(\"GEN %i\"%i)\n    #\u8bbe\u7f6e\u8fdb\u5ea6\u6761\u53f3\u8fb9\u663e\u793a\u7684\u4fe1\u606f\n    t.set_postfix(loss=random(),gen=randint(1,999),str=\"h\",lst=[1,2])\n    time.sleep(0.1)\n</code></pre></p>"},{"location":"language/python/tqdm/#8","title":"8. \u591a\u5c42\u6b21\u5d4c\u5957","text":"<p>\u63cf\u8ff0\uff1a\u901a\u8fc7tqdm\u4e5f\u53ef\u4ee5\u5f88\u7b80\u5355\u7684\u5b9e\u73b0\u5d4c\u5957\u5faa\u73af\u8fdb\u5ea6\u6761\u7684\u5c55\u793a <pre><code>from tqdm import tqdm\nimport time\nfor i in tqdm(range(20), ascii=True,desc=\"1st loop\"):\n  for j in tqdm(range(10), ascii=True,desc=\"2nd loop\"):\n    time.sleep(0.01)\n</code></pre></p>"},{"location":"language/python/tqdm/#9","title":"9. \u591a\u8fdb\u7a0b\u5904\u7406","text":"<p>\u63cf\u8ff0\uff1a\u5728\u4f7f\u7528\u591a\u8fdb\u7a0b\u5904\u7406\u4efb\u52a1\u7684\u65f6\u5019\uff0c\u901a\u8fc7tqdm\u53ef\u4ee5\u5b9e\u65f6\u67e5\u770b\u6bcf\u4e00\u4e2a\u8fdb\u7a0b\u4efb\u52a1\u7684\u5904\u7406\u60c5\u51b5 <pre><code>from time import sleep\nfrom tqdm import trange, tqdm\nfrom multiprocessing import Pool, freeze_support, RLock\n\nL = list(range(9))\n\ndef progresser(n):\n  interval = 0.001 / (n + 2)\n  total = 5000\n  text = \"#{}, est. {:&lt;04.2}s\".format(n, interval * total)\n  for i in trange(total, desc=text, position=n,ascii=True):\n    sleep(interval)\n\nif __name__ == '__main__':\n  freeze_support() # for Windows support\n  p = Pool(len(L),\n       # again, for Windows support\n       initializer=tqdm.set_lock, initargs=(RLock(),))\n  p.map(progresser, L)\n  print(\"\\n\" * (len(L) - 2))\n</code></pre></p>"},{"location":"language/python/tqdm/#10-pandastqdm","title":"10. pandas\u4e2d\u4f7f\u7528tqdm","text":"<pre><code>import pandas as pd\nimport numpy as np\nfrom tqdm import tqdm\ndf = pd.DataFrame(np.random.randint(0, 100, (100000, 6)))\ntqdm.pandas(desc=\"my bar!\")\ndf.progress_apply(lambda x: x**2)\n</code></pre>"},{"location":"language/python/tqdm/#11","title":"11. \u6ce8\u610f\u591a\u884c\u95ee\u9898","text":"<p>\u63cf\u8ff0\uff1a\u5728\u4f7f\u7528tqdm\u663e\u793a\u8fdb\u5ea6\u6761\u7684\u65f6\u5019\uff0c\u5982\u679c\u4ee3\u7801\u4e2d\u5b58\u5728print\u53ef\u80fd\u4f1a\u5bfc\u81f4\u8f93\u51fa\u591a\u884c\u8fdb\u5ea6\u6761\uff0c\u6b64\u65f6\u53ef\u4ee5\u5c06print\u8bed\u53e5\u6539\u4e3atqdm.write\uff0c\u4ee3\u7801\u5982\u4e0b <pre><code>from tqdm import tqdm\nimport time\n\nfor i in tqdm(range(10),ascii=True):\n  tqdm.write(\"come on\")\n  time.sleep(0.1)\n</code></pre></p>"},{"location":"language/python/wheel/","title":"Wheel","text":""},{"location":"language/python/wheel/#python","title":"python\u597d\u7528\u7684\u7c7b\u5e93","text":"<ul> <li>pyttsx3     <pre><code>import pyttsx3\nengine = pyttsx3.init()\nengin.say(\"\u8f7b\u8f7b\u5730\uff0c\u6211\u8d70\u4e86\uff0c\u6b63\u5982\u6211\u8f7b\u8f7b\u5730\u6765....\")\nengin.runAndWait()\n</code></pre></li> </ul>"},{"location":"language/python/wheel/#gym","title":"gym","text":"<ul> <li>install <pre><code>conda install -n env-py37-t15 -c conda-forge gym==0.25\n</code></pre></li> </ul>"},{"location":"language/python/wheel/#uvicorn","title":"uvicorn","text":"<ul> <li>\u7ba1\u7406     <pre><code>uvicorn api1:app --reload --workers 4 --host 0.0.0.0 --port 8000\nkill -TERM pid_of_uvicorn_server\n</code></pre></li> </ul>"},{"location":"llm/data-parallel/","title":"\u6570\u636e\u5e76\u884c","text":""},{"location":"llm/data-parallel/#gpu","title":"GPU\u7279\u70b9","text":"<p>cpu \u9002\u5408\u903b\u8f91\u8ba1\u7b97\uff0cgpu \u5927\u91cf\u91cd\u590d\u503c\u8ba1\u7b97\u3002</p> <p>\u5728Pytorch\u4e2d\uff0c.cuda \u6216\u8005to device\u5c31\u662f\u4f20\u8f93\u5230gpu\u4e0a\u8fdb\u884c\u8ba1\u7b97\u3002  cpu\u7ed9gpu\u53d1\u9001\u63a7\u5236\u4fe1\u606f\uff0c\u63a7\u5236gpu\u8fdb\u884c\u8fd0\u7b97\u3002</p> GPU\u663e\u5b58\u5b58\u50a8 \u63cf\u8ff0 \u5176\u4ed6 Parameter:1 \u6a21\u578b\u53c2\u6570 Graadient:1 \u68af\u5ea6 Optimizer:&gt;2 \u4f18\u5316\u5668\u53c2\u6570 Intermediate \u7ebf\u6027\u5c42 Valilla FineTuning"},{"location":"llm/data-parallel/#adam","title":"adam\u4f18\u5316\u5668\u53c2\u6570\uff1a","text":"<p>\\(m_t=\\beta_1m_{t-1}+(1-\\beta_1) g_t\\)</p> <p>\\(v_t=\\beta_2m_{t-1}+(1-\\beta_2) g^2_t\\)</p> <p>g\u662f\u68af\u5ea6\uff0c\u6a21\u578b\u68af\u5ea6\uff1b\u6a21\u578b\u4e8c\u6b21\u9879\u76f8\u5173\u7684\u5386\u53f2\u4fe1\u606f\u5206\u522b\u662fm\u548cv\u3002 \u5176\u4e2dm\u548cv\u548c\u68af\u5ea6g\u7b49\u6570\u91cf\u7ea7\uff0cm\u548cv\u52a0\u8d77\u6765\u662f\u4e24\u500d\u53c2\u6570\u91cf\u3002</p>"},{"location":"llm/data-parallel/#_1","title":"\u7ebf\u6027\u5c42","text":"<p>Forward : \\(y=Wx\\)</p> <p>Backward: \\(\\nabla_X= W^T \\nabla_y\\) \\(\\nabla_W=(\\nabla_y)X^T\\)</p> <pre><code>\u89e3\u91ca \uff1a\u524d\u5411\u4f20\u64ad\uff0cx\u662f\u8f93\u5165\uff0cw\u662f\u53c2\u6570\uff0cy\u662f\u8f93\u51fa\u7ed3\u679c\u3002\u4e3a\u4e86\u8ba1\u7b97\u53c2\u6570\u7684\u68af\u5ea6\uff0c\u9700\u8981\u6a21\u578b\u8f93\u51fa\u7684\u68af\u5ea6\u4e0e\u6a21\u578b\u8f93\u5165\u8fdb\u884c\u4e00\u4e2a\u5916\u79ef\u3002\u4e3a\u4e86\u5b8c\u6210\u8fd9\u4e2a\u8ba1\u7b97\uff0c\u9700\u8981\u628a\u6a21\u578b\u8f93\u5165\u653e\u5230\u663e\u5361\u91cc\u9762\u3002\u5728\u524d\u5411\u4f20\u64ad\u7684\u8fc7\u7a0b\u4e2d\uff0c\u628a\u6240\u6709\u7684\u7ebf\u6027\u5c42\u90fd\u5148\u4fdd\u5b58\u5230\u663e\u5361\u91cc\u9762\u3002\u76f4\u5230\u53cd\u5411\u4f20\u64ad\u7528\u5b8c\u5219\u6e05\u9664\u3002\u4ece\u663e\u5361\u91ca\u653e\u3002\n</code></pre>"},{"location":"llm/data-parallel/#broadcast","title":"Broadcast","text":"<p> \u5e7f\u64ad\u7b97\u5b50\uff0c\u662f\u628a\u4e00\u4e2a\u6570\u636e\u5e7f\u64ad\u5230\u6240\u6709\u5176\u4ed6\u663e\u5361\u4e0a\u3002</p>"},{"location":"llm/data-parallel/#reduce","title":"reduce","text":"<p> \u53ef\u4ee5\u6c42\u548c\u3001\u53d6\u5e73\u5747\u3002\u4e8c\u53f7\u663e\u5361\u5f97\u5230\u7684\u6570\u636e\u662fin0+in1+in2+in3</p>"},{"location":"llm/data-parallel/#all-reduce","title":"All Reduce","text":"<p> \u6240\u6709\u663e\u5361\u90fd\u4f1a\u5f97\u5230\u76f8\u540c\u7684out=in0+in1+in2+in3\uff0c\u5148\u8fdb\u884c\u89c4\u7ea6\u7136\u540e\u5728\u8fdb\u884c\u5e7f\u64ad\u3002</p>"},{"location":"llm/data-parallel/#reduce-scatter","title":"Reduce Scatter","text":"<p> \u6bcf\u5f20\u663e\u5361\u53ea\u5f97\u5230\u4e00\u90e8\u5206\u7684\u89c4\u7ea6\u7ed3\u679c\u3002\u548call reduce\u533a\u522b\uff1a\u90fd\u4f1a\u628a\u81ea\u5df1\u89c4\u7ea6\u5f97\u5230\u7ed3\u679c\u53d1\u7ed9\u6240\u6709\u663e\u5361\u3002\u4e0d\u540c\u4e4b\u5904\uff1a\u6bcf\u5f20\u663e\u5361\u4e0a\u53ea\u5f97\u5230\u4e86\u4e00\u90e8\u5206\u7684\u89c4\u7ea6\u7ed3\u679c\u3002 \u7b2c\u4e00\u4e2a1/4\u7684\u6240\u6709\u7ed3\u679c\u3002out0=1/4in0+1/4in1+1/4in2+1/4in3\u3002\u540c\u7406\uff0cout1\u6240\u6709\u7b2c\u4e8c\u4e2a1/4\u7684\u7ed3\u679c\u3002</p>"},{"location":"llm/data-parallel/#all-gather","title":"All Gather","text":"<p> \u6536\u96c6\u6240\u6709\u7684\u7ed3\u679c\uff0c\u7136\u540e\u5e7f\u64ad\u3002 in0\u62fc\u63a5in1\u62fc\u63a5\u4e0ain2\u62fc\u63a5\u4e0ain3\uff0c\u7136\u540e\u5e7f\u64ad\u7ed9\u6240\u6709\u663e\u5361\u3002</p>"},{"location":"llm/data-parallel/#_2","title":"\u6570\u636e\u5e76\u884c","text":"<p> \u524d\u5411\u4f20\u64ad\uff1a\u6709\u4e2a\u53c2\u6570\u670d\u52a1\u5668\uff0c\u53c2\u6570\u590d\u5236\u5230\u6240\u6709\u663e\u5361\u4e0a\uff0c\u6570\u636e\u5212\u5206\u62103\u4efd\u3002\u5206\u522b\u8ba1\u7b97\u68af\u5ea6\uff0c\u7136\u540e\u805a\u5408\uff08\u89c4\u7ea6\uff09\u53d6\u5e73\u5747\u3002\u89c4\u7ea6\u7ed3\u679c\u653e\u5230\u53c2\u6570\u670d\u52a1\u5668\u4e0a\u3002 \u53cd\u5411\u4f20\u64ad\uff1a\u6bcf\u4e2a\u5361\u4e0a\u68af\u5ea6\u8fdb\u884c\u89c4\u7ea6\uff0c\u7b97\u51fa\u5e73\u5747\u68af\u5ea6\u3002</p>"},{"location":"llm/data-parallel/#_3","title":"\u5206\u5e03\u5f0f\u6570\u636e\u5e76\u884c","text":"<p> \u8fd9\u4e2a\u6ca1\u6709\u53c2\u6570\u670d\u52a1\u5668\u3002</p> <p>\u6bcf\u5f20\u663e\u5361\u90fd\u6709\u76f8\u540c\u7684\u6a21\u578b\u53c2\u6570\u3002\u7136\u540e\u5f97\u5230\u4e00\u90e8\u5206\u6570\u636e\uff0c\u7136\u540e\u901a\u8fc7\u524d\u5411\u4f20\u64ad\u548c\u53cd\u5411\u4f20\u64ad\u5f97\u5230\u89c4\u7ea6\u7684\u68af\u5ea6\u4fe1\u606f\u3002\u4e3a\u4e86\u8ba9\u6bcf\u5f20\u663e\u5361\u90fd\u5f97\u5230\u76f8\u540c\u7684\u68af\u5ea6\u4fe1\u606f\u3002\u4f7f\u7528all reduce\uff0c\u6bcf\u5f20\u663e\u5361\u90fd\u80fd\u5f97\u5230\u89c4\u7ea6\u4e4b\u540e\u7684\u68af\u5ea6\u3002\u6240\u4ee5\u6bcf\u5f20\u663e\u5361\u90fd\u6709\u4e00\u6837\u7684\u53c2\u6570\u548c\u4e00\u6837\u7684\u68af\u5ea6\u3002\u5206\u522b\u53bb\u4f7f\u7528\u6a21\u578b\u7684\u4f18\u5316\u5668\u8fdb\u884c\u66f4\u65b0\u3002</p> <p>\u53c2\u6570\u4e00\u6837\uff0c\u68af\u5ea6\u4e00\u6837\uff0c\u4f18\u5316\u5668\u4e4b\u524d\u7684\u5386\u53f2\u4fe1\u606f\u4e5f\u4e00\u6837\u3002\u90a3\u4e48\u66f4\u65b0\u4f60\u4e4b\u540e\u6211\u4eec\u5404\u5f20\u663e\u5361\u4e0a\u7684\u53c2\u6570\u4e5f\u4e00\u6837\u3002</p>"},{"location":"llm/data-parallel/#11b-plms-parameters","title":"11B PLM's parameters","text":"<p>$ \\frac {11 *  10^9 * 4(FP32)}  {1024^3}  = 40GB$</p>"},{"location":"llm/data-parallel/#data-parallel","title":"\u4e2d\u95f4\u7ed3\u679c\uff0cData Parallel","text":"<p> \u5982\u679c\u6ca1\u6709\u6570\u636e\u5e76\u884c[Batch,Len,Dim]\uff1b\u6709\u6570\u636e\u5e76\u884c[Batch/n, Len, DIm]\u3002</p>"},{"location":"llm/model-parallel/","title":"\u6a21\u578b\u5e76\u884c","text":""},{"location":"llm/model-parallel/#_1","title":"\u6a21\u578b\u5e76\u884c","text":""},{"location":"llm/model-parallel/#_2","title":"\u77e9\u9635\u62c6\u5206","text":""},{"location":"llm/model-parallel/#_3","title":"\u6a21\u578b\u62c6\u5206","text":"<p> \u5148\u628a\u8f93\u5165\u8981\u5212\u5206\u5230\u591a\u5f20\u663e\u5361\u4e0a\uff0c\u9700\u8981\u4fdd\u8bc1\u6a21\u578b\u7684\u8f93\u5165\u662f\u4e00\u6837\u7684\uff0c\u90a3\u4e48\u5c31\u4e0d\u80fd\u91c7\u7528\u6570\u636e\u5e76\u884c\u7684\u65b9\u5f0f\u3002\u6240\u4ee5\u4ed6\u4eec\u662f\u540c\u6837\u7684\u4e00\u6279\u6570\u636e\u3002all gather\u8fdb\u884c\u62fc\u63a5\u3002 \u6bcf\u5f20\u663e\u5361\u53ea\u9700\u8981\u4fdd\u5b58\u6a21\u578b\u76841/n\u7684\u6a21\u578b\u53c2\u6570\u3002n\u662fgpu\u7684\u4e2a\u6570\u3002\u53c2\u6570\u3001\u68af\u5ea6\u3001\u4f18\u5316\u5668\u76f8\u5e94\u7684\u51cf\u5c11\u3002\u7ebf\u6027\u5c42\u8f93\u5165\u662f\u6839\u539f\u6765\u4e00\u81f4\u7684\u3002</p>"},{"location":"llm/model-parallel/#zero-redundant-optimizer","title":"Zero Redundant Optimizer","text":""},{"location":"llm/model-parallel/#zero-stage1","title":"ZeRO-Stage1","text":"<p> \u6bcf\u5f20\u663e\u5361\u6709\u76f8\u540c\u53c2\u6570\uff0c\u4e0d\u540c\u7684\u6570\u636e\u8fdb\u884c\u89c4\u7ea6\uff0c\u7136\u540e\u53d1\u9001\u5230\u5404\u5f20\u663e\u5361\u4e0a\u7684\u68af\u5ea6\u76f8\u540c\u3002\u5404\u81ea\u53bb\u8fdb\u884c\u53c2\u6570\u4f18\u5316\u3002 \u76f8\u540c\u7684\u53c2\u6570\uff0c\u76f8\u540c\u7684\u68af\u5ea6\uff0c\u9700\u8981\u91cd\u590d\u8ba1\u7b97n\u6b21\uff0c\u5e26\u6765\u8ba1\u7b97\u91cd\u590d\u548c\u5197\u4f59\u3002 \u6bcf\u5f20\u663e\u5361\u4e0a\u53ea\u53bb\u83b7\u53d6\u4e00\u90e8\u5206\u7684\u68af\u5ea6\uff0c\u7136\u540e\u53ea\u9700\u66f4\u65b0\u4e00\u90e8\u5206\u7684\u53c2\u6570\uff0c\u8fd9\u6837\u6211\u4eec\u5404\u5f20\u663e\u5361\u53ef\u4ee5\u5408\u4f5c\uff0c\u6700\u540e\u4ed6\u4eec\u8fdb\u884c\u4e00\u4e2a\u4ea4\u6d41\uff0c\u5c31\u80fd\u628a\u6a21\u578b\u7684\u5b8c\u6574\u7684\u68af\u5ea6\u6062\u590d\u51fa\u6765\u3002 \u6bcf\u5f20\u663e\u5361\u9700\u8981\u4fdd\u5b58\u5b8c\u6574\u7684\u53c2\u6570\u3002 1\u53f7\u663e\u5361\u5f97\u5230\u89c4\u7ea6\u68af\u5ea6\u7684\u524d\u97621/3 2\u53f7\u663e\u5361\u5f97\u5230\u89c4\u7ea6\u68af\u5ea6\u7684\u4e2d\u95f41/3 3\u53f7\u663e\u5361\u5f97\u5230\u89c4\u7ea6\u63d0\u7684\u7684\u540e\u97621/3 1\u53f7\u663e\u5361\u548c\u524d1/3\u7684\u68af\u5ea6\u5bf9\u5e94\u7684optimizer\uff0c\u53d6\u66f4\u65b0\u524d1/3\u7684\u6a21\u578b\u53c2\u6570\u30022\u53f73\u53f7\u540c\u7406\u3002\u628a\u6bcf\u5f20\u663e\u5361\u7684\u5206\u5de5\u5408\u4f5c\u7684\u7ed3\u679c\uff0c\u8fdb\u884c\u6536\u96c6\u548c\u62fc\u63a5\u3002\u6bcf\u5f20\u663e\u5361\u53c8\u5f97\u5230\u5b8c\u5168\u4e00\u6837\u7684\u53c2\u6570\u548c\u4e00\u81f4\u7684\u7ed3\u679c\u3002</p>"},{"location":"llm/model-parallel/#zero-stage2","title":"ZeRO-Stage2","text":"<p> \u5728\u7b2c\u4e00\u4e2a\u9636\u6bb5\uff0c\u9700\u8981\u5728\u53cd\u5411\u4f20\u64ad\u5f97\u5230\u6240\u6709\u68af\u5ea6\u4e4b\u540e\uff0c\u6211\u4eec\u5bf9\u8fd9\u4e2a\u68af\u5ea6\u8fdb\u884cReduce Scatter\uff0c\u5f97\u5230\u8fd9\u4e2aGradient\u4e4b\u540e\uff0c\u539f\u6765Gradient\uff0c\u5c31\u6ca1\u6709\u7528\u4e86\uff0c\u5c31\u53ef\u4ee5\u79fb\u9664\u3002 \u5728Zero\u7684stage1\uff0c\u53cd\u5411\u4f20\u64ad\u7ed3\u675f\u4e4b\u540e\u624d\u4f1a\u628aGradient\u8fdb\u884c\u79fb\u9664\u3002 \u5728\u53cd\u5411\u4f20\u64ad\u7684\u8fc7\u7a0b\u4e2d\u5c31\u53ef\u4ee5\u628aGradient\u8fdb\u884c\u63d0\u524d\u7b97\u51fa\u6765\uff0c\u7136\u540e\u628aGradient\u8fdb\u884c\u79fb\u9664\u3002 \u5047\u5982\u6211\u4eec\u670924\u5c42\u7684transformer\uff0c\u6211\u4eec\u5c31\u7528\u7b2c24\u5c42\u7684\u5404\u5361\u4e0a\u7684\u68af\u5ea6\u3002\u8fdb\u884cReduce Scatter\uff0c\u4e4b\u540e\u7b2c24\u5c42\u7684\u68af\u5ea6\u5c31\u53ef\u4ee5\u4e0d\u8981\u4e86\uff0c\u7136\u540e\u518d\u8fdb\u884c23\u5c42\u7684Reduce Scatter\uff0c\u5f97\u5230\u7b2c23\u5c42\u7684Gradient\uff0c \u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u5c31\u53ef\u4ee5\u53ea\u4fdd\u5b58\u7b2c23\u5c42\u7684Gradient\u5230\u663e\u5361\u4e0a\u3002\u7136\u540e\u628a\u7b2c23\u5c42\u7684Gradient\u8fdb\u884c\u79fb\u9664\u3002\u8fd9\u6837\u6211\u4eec\u628aGradient\u79fb\u9664\u7684\u64cd\u4f5c\u63d0\u524d\u4e86\uff0c\u8282\u7701\u663e\u5b58\u7a7a\u95f4\u3002</p>"},{"location":"llm/model-parallel/#zero-stage3","title":"ZeRO-stage3","text":"<p>\u5bf9\u6a21\u578b\u7684\u53c2\u6570\u8fdb\u884c\u4e86\u5212\u5206 \u5728Zero\u7684\u7b2c\u4e8c\u4e2a\u9636\u6bb5\u548c\u7b2c\u4e00\u4e2a\u9636\u6bb5\u4e2d\uff0c\u5b83\u90fd\u6ca1\u6709\u907f\u514d\u524d\u9762\u6a21\u578b\u5e76\u884c\uff0c\u6240\u89e3\u51b3\u7684\u95ee\u9898\u3002\u6a21\u578b\u7684\u53c2\u6570\u4ecd\u7136\u9700\u8981\u5b8c\u6574\u7684\u4fdd\u5b58\u5728\u6211\u4eec\u7684\u663e\u5361\u91cc\u9762\uff1b \u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u9700\u8981\u628a\u6a21\u578b\u8fdb\u884c\u5212\u5206\u3002 \u56e0\u4e3a\u6bcf\u5f20\u663e\u5361\u4e0a\u6211\u4eec\u53ea\u4fdd\u7559\u4e86\uff0c\u4e00\u90e8\u5206\u7684\u68af\u5ea6\u8fdb\u884c\u53c2\u6570\u66f4\u65b0\uff0c\u53c2\u6570\u66f4\u65b0\u4e5f\u53ea\u80fd\u66f4\u65b0\u4e00\u90e8\u5206\u7684\u6a21\u578b\u53c2\u6570\u3002\u5b9e\u9645\u4e0a\u6a21\u578b\u663e\u5361\u5c31\u53ef\u4ee5\u53ea\u4fdd\u5b58\u4ed6\u81ea\u5df1\u7684\u53c2\u6570\u66f4\u65b0\u3002\u4ed6\u81ea\u5df1\u6240\u8d1f\u8d23\u7684\u53c2\u6570\u3002 \u6240\u4ee5\uff0c\u6bcf\u5f20\u663e\u5361\u6709\u4e00\u90e8\u5206\u53c2\u6570\u4e00\u90e8\u5206\u68af\u5ea6\u548c\u4e00\u90e8\u5206\u4f18\u5316\u5668\u3002 \u5982\u4f55\u8fdb\u884c\u524d\u5411\u4f20\u64ad\u548c</p> <p>\u53cd\u5411\u4f20\u64ad\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u9700\u8981\u4e00\u4e2aAll Gather\u7684\u64cd\u4f5c\uff0c\u7528\u5230\u6a21\u578b\u7684\u6240\u6709\u53c2\u6570\u7684\u65f6\u5019\u3002\u6211\u4eec\u4e34\u65f6\u7684\u628a\u6bcf\u5f20\u663e\u5361\u4e0a\u7684\u90a3\u4e00\u90e8\u5206\u53c2\u6570\u8fdb\u884c\u4e00\u4e2a\u6536\u96c6\u62fc\u63a5\u3002 \u6bcf\u5f53\u7528\u5b8c\u7684\u65f6\u5019\uff0c\u6211\u4eec\u5c31\u628a\u8fd9\u4e2a\u53c2\u6570\u7ed9\u4ece\u663e\u5361\u4e0a\u91ca\u653e\u3002 \u5177\u4f53\u800c\u8a00\uff0c\u5728Transform\u4e2d\u6211\u4eec\u9047\u5230\u4e86\u4e00\u4e2a\u7ebf\u6027\u5c42\uff0c\u8fd9\u4e2a\u7ebf\u6027\u5c42\u7684\u53c2\u6570\u53ef\u80fd\u88ab\u5206\u5230\u4e86\u4e09\u5f20\u663e\u5361\u4e0a\uff0c \u8fd9\u4e2a\u65f6\u5019\u9700\u8981\u8ba1\u7b97\u7ebf\u6027\u5c42\u7684\u65f6\u5019\uff0c\u6211\u4eec\u4e34\u65f6\u628a\u8ddf\u8fd9\u4e2a\u7ebf\u6027\u5c42\u6709\u5173\u7684\u90a3\u4e00\u90e8\u5206\u53c2\u6570\u4ece\u5404\u5f20\u663e\u5361\u4e0a\u6536\u96c6\u8d77\u6765\uff0c\u8fdb\u884c\u4e00\u4e2a\u7ebf\u6027\u5c42\u7684\u8ba1\u7b97\u3002 \u8ba1\u7b97\u5b8c\u6210\u4e4b\u540e\uff0c\u6211\u4eec\u7684\u6a21\u578b\u53c2\u6570\u5c31\u4e0d\u9700\u8981\u653e\u5230\u663e\u5361\u91cc\u9762\u4e86\uff0c\u53c8\u53ef\u4ee5\u91ca\u653e\u4e86\u3002\u53c8\u6062\u590d\u6210\u6bcf\u5f20\u663e\u5361\u53ea\u4fdd\u7559\u4e00\u90e8\u5206\u7ebf\u6027\u5c42\u53c2\u6570\u7684\u8fd9\u6837\u7684\u4e00\u4e2a\u6a21\u5f0f\u3002</p> <p>\u5728\u8fdb\u884c\u53cd\u5411\u4f20\u64ad\u8ba1\u7b97\u68af\u5ea6\u7684\u65f6\u5019\u4e5f\u9700\u8981\u5b8c\u6574\u7684\u6a21\u578b\u53c2\u6570\uff0c\u4e5f\u9700\u8981gather\u4e00\u4e0b\u3002 \u76f8\u6bd4Zero2\u4ed6\u53ea\u5728\u53c2\u6570\u66f4\u65b0\u8fd9\u4e00\u6b65\u8fdb\u884c\u4e86All gather\u64cd\u4f5c\u3002 Zero3\u5728\u8fdb\u884c\u524d\u5411\u548c\u53cd\u5411\u4f20\u64ad\u5404\u9700\u8981\u4e00\u6b21All gather\u64cd\u4f5c\uff0c\u5b9e\u9645\u4e0a\u662f\u589e\u52a0\u4e86\u4e00\u6b21\u901a\u4fe1\u3002 Zero3\u76f8\u6bd4\u4e8eZero2\u662f\u4e00\u4e2a\u7528\u65f6\u95f4\u6362\u7a7a\u95f4\u7684\u4e00\u4e2a\u7b97\u6cd5\u3002</p>"},{"location":"llm/model-parallel/#zero","title":"ZeRO\u9636\u6bb5\u5bf9\u6bd4","text":"<p> ZeRO1 \u6bcf\u5f20\u663e\u5361\u53ea\u9700\u8981\u5904\u7406\u4e00\u90e8\u5206\u6a21\u578b\u68af\u5ea6\uff0c\u4f18\u5316\u5668\u964d\u4f4e\u81f3\u539f\u6765\u7684\u5361\u6570\u5206\u4e4b\u4e00\u3002\u57fa\u4e8eZeRO\u5e76\u884c\u7ed3\u6784\uff0c\u4e2d\u95f4\u7ed3\u679c\u7684\u91cf\u4e5f\u964d\u4f4e\u539f\u6765\u7684\u5361\u6570\u5206\u4e4b\u4e00\u3002</p> <p>ZeRO2 \u6211\u4eec\u8fdb\u4e00\u6b65\u5c06\u6a21\u578b\u5212\u5206\u68af\u5ea6\u7684\u5212\u5206\u63d0\u524d\uff0c\u628aReduce Scatter\u63d0\u524d\u5230\u4e86\u53cd\u5411\u4f20\u64ad\u7684\u8fc7\u7a0b\u4e2d\uff0c\u5b9e\u9645\u4e0a\u4e0d\u9700\u8981\u4fdd\u7559\u5b8c\u6574\u7684\u68af\u5ea6\u3002\u6bcf\u5220\u6389\u4e00\u5c42\u5c31\u53ef\u4ee5\u628a\u68af\u5ea6\u5212\u5206\u5230\u5361\u6570\u5206\u4e4b\u4e00\u3002 ZeRo3 \u7531\u4e8e\u6bcf\u5f20\u663e\u5361\u53ea\u8d1f\u8d23\u4e00\u90e8\u5206\u7684\u53c2\u6570\u66f4\u65b0\uff0c\u6211\u4eec\u8fdb\u4e00\u6b65\u628a\u53c2\u6570\u5212\u5206\uff0c\u901a\u8fc73\u90e8\u5206\u7684\u4f18\u5316\u4e4b\u540e\uff0c\u663e\u5361\u4e0a\u7684\u56db\u5927\u7ec4\u6210\u90e8\u5206\uff1a\u53c2\u6570\u3001\u68af\u5ea6\u3001\u4f18\u5316\u5668\u548c\u4e2d\u95f4\u7ed3\u679c\u90fd\u5f97\u5230\u4e86\u5212\u5206\uff0c\u663e\u5361\u53ea\u9700\u8981\u4fdd\u5b58\u8fd9\u4e9b\u53c2\u6570\u7684\u5361\u6570\u5206\u4e4b\u4e00\u7684\u90e8\u5206\u3002</p>"},{"location":"llm/transformers-generator/","title":"\u751f\u6210\u53c2\u6570","text":""},{"location":"llm/transformers-generator/#_1","title":"\u63cf\u8ff0","text":"<p>huggingface transformers\u5e93\u7684\u6587\u672c\u751f\u6210 generate() \u51fd\u6570\uff0c\u662f GenerationMixin \u7c7b\u7684\u5b9e\u73b0\uff08class transformers.generation_utils.GenerationMixin\uff09\uff0c\u662f\u81ea\u56de\u5f52\u6587\u672c\u751f\u6210\u9884\u8bad\u7ec3\u6a21\u578b\u76f8\u5173\u53c2\u6570\u7684\u96c6\u5927\u6210\u8005\u3002\u56e0\u6b64\u672c\u6587\u89e3\u8bfb\u4e00\u4e0b\u8fd9\u4e9b\u53c2\u6570\u7684\u542b\u4e49\u4ee5\u53ca\u5e38\u7528\u7684 Greedy Search\u3001Beam Search\u3001Sampling\uff08Temperature\u3001Top-k\u3001Top-p\uff09\u7b49\u5404\u4e2a\u7b97\u6cd5\u7684\u539f\u7406\u3002</p> <ul> <li>gready decoding:\u5f53num_beams=1 \u800c\u4e14do_sample=False\u65f6\uff0c\u8c03\u7528gready_search()\u65b9\u6cd5\uff0c\u6bcf\u4e2astep\u751f\u6210\u6761\u4ef6\u6982\u7387\u6700\u9ad8\u7684\u8bcd\uff0c\u56e0\u6b64\u751f\u6210\u5355\u6761\u6587\u672c\u3002</li> <li>multinomail sampling:\u5f53num_beams=1 \u4e14 do_sample=True\u65f6\uff0c\u8c03\u7528sample()\u65b9\u6cd5\uff0c\u5bf9\u8bcd\u8868\u505a\u4e00\u4e2a\u91c7\u6837\uff0c\u800c\u4e0d\u662f\u9009\u6761\u4ef6\u6982\u7387\u6700\u9ad8\u7684\u8bcd\uff0c\u589e\u52a0\u591a\u6837\u6027\u3002</li> <li>beam-search decoding\uff1a\u5f53num_beams&gt;1 \u4e14 do_sample=False\u65f6\uff0c\u8c03\u7528beam_search()\u65b9\u6cd5\uff0c\u505a\u4e00\u4e2anum_beams\u7684\u67f1\u641c\u7d22\uff0c\u6bcf\u6b21\u90fd\u662f\u8d2a\u5a6a\u9009\u62e9topN\u4e2a\u67f1\u3002</li> <li>beam-search multinomial sampling\uff1a\u5f53num_beams&gt;1 \u4e14do_sample=True\u65f6\uff0c\u8c03\u7528beam_sample()\u65b9\u6cd5\uff0c\u76f8\u5f53\u4e8e\u6bcf\u6b21\u4e0d\u518d\u662f\u8d2a\u5a6a\u7684\u9009\u62e9topN\u4e2a\u67f1\uff0c\u800c\u662f\u589e\u52a0\u4e86\u4e00\u4e9b\u91c7\u6837\u3002</li> <li>diverse beam-search decoding\uff1a\u5f53num_beams&gt;1 \u4e14 num_beam_groups&gt;1\u65f6\uff0c\u8c03\u7528group_beaam_search()\u65b9\u6cd5\u3002</li> <li>constrainted beam-search decoding: \u5f53constraints!=None\u6216\u8005force_words_id!=None\uff0c\u5b9e\u73b0\u53ef\u7528\u6587\u672c\u751f\u6210\u3002</li> </ul>"},{"location":"llm/transformers-generator/#_2","title":"\u8f93\u5165\u53c2\u6570\u542b\u4e49","text":"<p>inputs\uff1a\u8f93\u5165pormpt\uff0c\u5982\u679c\u4e3a\u7a7a\uff0c\u5219\u7528batch_size\u4e3a1\u7684bos_token_id\u521d\u59cb\u5316\u3002\u5bf9\u4e8e\u53ea\u6709decoder\u7684\u6a21\u578b\uff08GPT\u7cfb\u5217\uff09\uff0c\u8f93\u5165\u9700\u8981\u65f6input_ids\uff0c\u5bf9\u4e8eencode-decoder\u6a21\u578b\uff08BART\uff0cT5\u7b49\uff09\uff0c\u8f93\u5165\u591a\u6837\u5316\u3002 max_length\uff1a\u751f\u6210\u5e8f\u5217\u7684\u6700\u5927\u957f\u5ea6 min_length\uff1a\u751f\u6210\u5e8f\u5217\u7684\u6700\u77ed\u957f\u5ea6\uff0c\u9ed8\u8ba4\u503c\u662f10 do_sample\uff1a\u662f\u5426\u5f00\u542f\u91c7\u6837\uff0c\u9ed8\u8ba4\u503cFalse\uff0c\u5373\u8d2a\u5a6a\u627e\u6700\u5927\u6761\u4ef6\u6982\u7387\u7684\u8bcd\u3002 early_stopping\uff1a\u662f\u5426\u5728\u81f3\u5c11\u751f\u6210num_beams\u4e2a\u53e5\u5b50\u540e\u505c\u6b62beam-search\uff0c\u9ed8\u8ba4\u503c\u662fFalse</p> <p>https://blog.csdn.net/muyao987/article/details/125917234</p>"},{"location":"llm/tuning/","title":"Tuning","text":""},{"location":"llm/tuning/#_1","title":"\u5fae\u8c03","text":"<ul> <li>\u5fae\u8c03\u540e\u6a21\u578b\u7684\u5206\u5e03\u53d1\u751f\u53d8\u5316\uff0c\u901a\u7528\u80fd\u529b\u548c\u6cdb\u5316\u6027\u53ef\u80fd\u4f1a\u51cf\u5f31\u3002</li> <li>\u52a0\u5165\u901a\u7528\u6570\u636e\uff08\u5982shareGPT\uff09\u8fdb\u884c\u6df7\u5408\u8bad\u7ec3\u53ef\u4ee5\u8054\u5408\u8bad\u7ec3\u53ef\u80fd\u7f13\u89e3\u901a\u7528\u80fd\u529b\u7684\u8870\u51cf\u3002</li> </ul>"},{"location":"manager/leadership/","title":"Leadership","text":""},{"location":"manager/leadership/#_1","title":"\u4ec0\u4e48\u662f\u5065\u5eb7\u7684\u5408\u4f5c\u6a21\u5f0f","text":"<ul> <li>1\uff09\u7406\u89e3\u5f53\u524d\u7684\u4e1a\u52a1\uff0c\u4e1a\u52a1\u5b58\u5728\u7684\u95ee\u9898\uff0c\u4e1a\u52a1\u672a\u6765\u7684\u89c4\u5212\u3002</li> <li>2\uff09\u6211\u4eec\u5f53\u524d\u89e3\u51b3\u7684\u95ee\u9898\uff0c\u4ee5\u53ca\u5c06\u6765\u8981\u89e3\u51b3\u7684\u95ee\u9898\u3002</li> <li>3\uff09\u5408\u4f5c\u6a21\u5f0f\u7684\u5efa\u7acb\uff1a\u2460\u5efa\u7acb\u5468\u4f1a\u540c\u6b65\u673a\u5236\u3002\u2461\u5efa\u7acb\u5468\u4f1atodolist\u673a\u5236\u3002\u2462\u4f1a\u8bae\u603b\u7ed3\u673a\u5236\u3002</li> <li>4\uff09\u9886\u5bfc\u770b\u5f97\u89c1\u7684\u5408\u4f5c\uff0c\u9886\u5bfc\u540c\u6b65\u673a\u5236\uff0c\u53cc\u65b9\u4e92\u76f8\u8ba4\u53ef\u7684\u5408\u4f5c\u673a\u5236\u3002</li> <li>5\uff09\u5982\u4f55\u6269\u5927\u5408\u4f5c\u8303\u56f4\uff0c\u628a\u81ea\u5df1\u7684\u80fd\u529b\u5982\u4f55\u5d4c\u5165\u5230\u672a\u6765\u7684\u89c4\u5212\u5f53\u4e2d\u3002</li> <li>6\uff09\u957f\u4e45\u7a33\u5b9a\u53ef\u6301\u7eed\u7684\u5408\u4f5c\u6a21\u5f0f\u3002</li> </ul>"},{"location":"other/","title":"Index","text":"<p>\u7535\u8def\u8bbe\u8ba1\u80fd\u529b \u6a21\u62df\u7535\u8def\u8bbe\u8ba1\uff1a\u4e09\u6781\u7ba1\u548cMOS\u5f00\u5173\u3001\u57fa\u672c\u8fd0\u653e\u7535\u8def \u6570\u5b57\u7535\u8def\u8bbe\u8ba1\uff1a\u63a5\u53e3\u8bbe\u8ba1\uff1aI2C\u3001SPI\u3001UART\u3001\u4ee5\u592a\u7f51\u3001MIPI\u3001DDR\u5b58\u50a8\u5668 \u7535\u6e90\u8bbe\u8ba1\uff1aDC-DC\u3001LDO</p> <p>PCB\u8bbe\u8ba1\u80fd\u529b\uff1a\u7acb\u521bEDA\u3001AltiumDesign\u3001Cadence MCU\u5f00\u53d1\u80fd\u529b\uff1a\u5355\u7247\u673a\u3001DSP\u3001ARM\u3001FPGA</p> <p>\u673a\u68b0\u8bbe\u8ba1\u80fd\u529b\uff1a Solidworks\u3001Rihno\u3001Fusion 360</p>"},{"location":"other/3dmodel/","title":"3d\u5efa\u6a21","text":"<p>SLAM\u5b9a\u4e49\uff1a SLAM\u662f\u6307\u5f53\u67d0\u79cd\u79fb\u52a8\u8bbe\u5907(\u6bd4\u5982\uff1a\u673a\u5668\u4eba\u3001\u65e0\u4eba\u673a\u3001\u624b\u673a\u3001\u6c7d\u8f66\u7b49)\u4ece\u4e00\u4e2a\u672a\u77e5\u73af\u5883\u5230\u4e3a\u6b62\u5730\u70b9\u51fa\u53d1\uff0c\u5728\u8fd0\u52a8\u8fc7\u7a0b\u4e2d\u901a\u8fc7\u4f20\u611f\u5668(\u6bd4\u5982\u6fc0\u5149\u96f7\u8fbe\u3001\u6444\u50cf\u5934\u7b49)\u89c2\u6d4b\u5b9a\u4f4d\u81ea\u8eab\u4f4d\u7f6e\u3001\u59ff\u52bf\u3001\u8fd0\u52a8\u8f68\u8ff9\u3002</p>"},{"location":"other/esp32/","title":"Esp32","text":"<p>\u5e73\u53f0\uff1a\u5355\u7247\u673a\u7c7b\u578b\u3002\u5982STM32\u5e73\u53f0\u3001ESP8266\u5e73\u53f0 \u67b6\u6784\uff1a\u8f6f\u4ef6\u5f00\u53d1\u7684\u4e00\u79cd\u6280\u672f\uff0c\u601d\u8def\u3002\u5982\uff1aArduino\u3001ESP-IDF \u677f\u5b50\uff1a\u7531\u4e0d\u540c\u7684\u578b\u53f7\u5355\u7247\u673a\u505a\u7684\u5f00\u53d1\u677f\u3002\u5982Espressif ESP32 Dev Module \u5e93\uff1a\u4e00\u822c\u6709\u5f00\u6e90\u7231\u597d\u8005\u63d0\u4f9b</p> <p>PlantformIO   1\u3001create project   2\u3001ESpressif ESP8266-ESP-12E</p> <p>Plaformio serial monitor \u4e71\u7801   \u4ee3\u7801\u4e2d\u7684Serial.begin(9600);   \u548cplatformio.ini   monitor_speed = 9600   \u8981\u5339\u914d\u5426\u5219\u4f1a\u663e\u793a\u4e71\u7801</p>"},{"location":"other/esp8266-case1/","title":"adog\u4e00\u671f\u5c0f\u9879\u76ee","text":"<p>\u76ee\u6807\uff1a\u5b9e\u73b0\u7269\u8054\u7f51\u6a21\u5757\u548c\u670d\u52a1\u7aef\u6a21\u5757\u6d41\u7a0b\u6253\u901a\u3002</p>"},{"location":"other/esp8266-case1/#1-esp8266","title":"1. esp8266\u7269\u8054\u7f51\u6a21\u5757","text":"<p>\u7f3a\u5931\u540e\u671f\u8865\u4e0a</p>"},{"location":"other/esp8266-case1/#2-deepseek15b","title":"2. deepseek1.5B\u672c\u5730\u642d\u5efa","text":""},{"location":"other/esp8266-case1/#21-minconda","title":"2.1 minconda\u5b89\u88c5","text":"<p>\u4e0b\u8f7d\u5b89\u88c5\u5730\u5740\uff1ahttps://www.anaconda.com/docs/getting-started/miniconda/install</p>"},{"location":"other/esp8266-case1/#22-python395","title":"2.2 python==3.9.5\u73af\u5883\u914d\u7f6e","text":"<pre><code>conda create -n dseek python=3.9.5\n</code></pre>"},{"location":"other/esp8266-case1/#23","title":"2.3 \u5b89\u88c5\u4f9d\u8d56\u5305","text":"<p>https://raw.githubusercontent.com/tkdo/hzoo/refs/heads/main/requirements.txt</p>"},{"location":"other/esp8266-case1/#24-deepseek15b","title":"2.4 \u4e0b\u8f7ddeepseek1.5B","text":"<p>\u8981\u6c42\uff1aGPU/\u200c16GB\u663e\u5b58 \u200cCPU\u200c:8\u6838/32G\u5185\u5b58</p> <p>\u4e0b\u8f7d\u4ee3\u7801\uff1ahttps://modelscope.cn/models/deepseek-ai/DeepSeek-R1-Distill-Qwen-1.5B/files</p> <pre><code>pip install modelscope\nmodelscope download --model deepseek-ai/DeepSeek-R1-Distill-Qwen-1.5B README.md --local_dir ./dir\n</code></pre>"},{"location":"other/esp8266-case1/#25","title":"2.5 \u4ee3\u7801","text":"<p>https://raw.githubusercontent.com/tkdo/hzoo/refs/heads/main/api.py</p>"},{"location":"other/esp8266-case1/#25_1","title":"2.5 \u542f\u52a8\u63a5\u53e3","text":"<pre><code>uvicorn api:app --reload\n# \u6d4b\u8bd5POST\u63a5\u53e3\ncurl -X POST -H \"Content-Type: application/json\" -d '{\"query\": \"\u5317\u4eac\u9996\u90fd\u662f\u54ea\u91cc\"}' http://127.0.0.1:8000/\n</code></pre>"},{"location":"other/esp8266-case1/#26","title":"2.6 \u9047\u5230\u95ee\u9898","text":"numpy\u7248\u672c\u95ee\u9898 <pre><code>A module that was compiled using NumPy 1.x cannot be run in\nNumPy 2.2.3 as it may crash. To support both 1.x and 2.x\nversions of NumPy, modules must be compiled with NumPy 2.0.\nSome module may need to rebuild instead e.g. with 'pybind11&gt;=2.12'.\n\nIf you are a user of the module, the easiest solution will be to\ndowngrade to 'numpy&lt;2' or try to upgrade the affected module.\nWe expect that some modules will need time to support NumPy 2.\n\nTraceback (most recent call last):  File \"/Users/ss/x.py\", line 3, in &lt;module&gt;\n    from modelscope import snapshot_download\n  File \"/Users/ss/Pangu/EnvHome/anaconda3/envs/py310-dseek/lib/python3.10/site-packages/modelscope/__init__.py\", line 4, in &lt;module&gt;\n    from modelscope.utils.import_utils import (LazyImportModule,\n  File \"/Users/ss/Pangu/EnvHome/anaconda3/envs/py310-dseek/lib/python3.10/site-packages/modelscope/utils/import_utils.py\", line 18, in &lt;module&gt;\n    from modelscope.utils.ast_utils import (INDEX_KEY, MODULE_KEY, REQUIREMENT_KEY,\n  File \"/Users/ss/Pangu/EnvHome/anaconda3/envs/py310-dseek/lib/python3.10/site-packages/modelscope/utils/ast_utils.py\", line 24, in &lt;module&gt;\n    from modelscope.utils.registry import default_group\n  File \"/Users/ss/Pangu/EnvHome/anaconda3/envs/py310-dseek/lib/python3.10/site-packages/modelscope/utils/registry.py\", line 11, in &lt;module&gt;\n    logger = get_logger()\n  File \"/Users/ss/Pangu/EnvHome/anaconda3/envs/py310-dseek/lib/python3.10/site-packages/modelscope/utils/logger.py\", line 48, in get_logger\n    from modelscope.utils.torch_utils import is_dist, is_master\n  File \"/Users/ss/Pangu/EnvHome/anaconda3/envs/py310-dseek/lib/python3.10/site-packages/modelscope/utils/torch_utils.py\", line 13, in &lt;module&gt;\n    import torch\n  File \"/Users/ss/Pangu/EnvHome/anaconda3/envs/py310-dseek/lib/python3.10/site-packages/torch/__init__.py\", line 1477, in &lt;module&gt;\n    from .functional import *  # noqa: F403\n  File \"/Users/ss/Pangu/EnvHome/anaconda3/envs/py310-dseek/lib/python3.10/site-packages/torch/functional.py\", line 9, in &lt;module&gt;\n    import torch.nn.functional as F\n  File \"/Users/ss/Pangu/EnvHome/anaconda3/envs/py310-dseek/lib/python3.10/site-packages/torch/nn/__init__.py\", line 1, in &lt;module&gt;\n    from .modules import *  # noqa: F403\n  File \"/Users/ss/Pangu/EnvHome/anaconda3/envs/py310-dseek/lib/python3.10/site-packages/torch/nn/modules/__init__.py\", line 35, in &lt;module&gt;\n    from .transformer import TransformerEncoder, TransformerDecoder, \\\n  File \"/Users/ss/Pangu/EnvHome/anaconda3/envs/py310-dseek/lib/python3.10/site-packages/torch/nn/modules/transformer.py\", line 20, in &lt;module&gt;\n    device: torch.device = torch.device(torch._C._get_default_device()),  # torch.device('cpu'),\n/Users/ss/Pangu/EnvHome/anaconda3/envs/py310-dseek/lib/python3.10/site-packages/torch/nn/modules/transformer.py:20: UserWarning: Failed to initialize NumPy: _ARRAY_API not found (Triggered internally at /Users/runner/work/pytorch/pytorch/pytorch/torch/csrc/utils/tensor_numpy.cpp:84.)\n  device: torch.device = torch.device(torch._C._get_default_device()),  # torch.device('cpu'),\nDownloading Model to directory: /Users/ss/.cache/modelscope/hub/models/deepseek-ai/DeepSeek-R1-Distill-Qwen-1.5B\n2025-02-23 16:45:48,772 - modelscope - INFO - Target directory already exists, skipping creation.\n\n\n\n\"\"\"\n\u63a8\u8350\u89e3\u51b3\u65b9\u6848\n\u65b9\u6848\u4e00\uff1a\u5feb\u901f\u964d\u7ea7NumPy\uff08\u63a8\u8350\uff09\nbash\nCopy Code\n# \u5728conda\u73af\u5883\u4e2d\u6267\u884c\nconda install \"numpy&lt;2\" -c conda-forge --force-reinstall\n\u65b9\u6848\u4e8c\uff1a\u66f4\u65b0\u4f9d\u8d56\u751f\u6001\u94fe\uff082025\u5e74\u517c\u5bb9\u65b9\u6848\uff09\nbash\nCopy Code\n# \u5b89\u88c5\u652f\u6301NumPy 2.x\u7684PyTorch\u7248\u672c\nconda install -c pytorch \"pytorch&gt;=2.4\" \"numpy&gt;=2\" \n\n# \u66f4\u65b0transformers\u81f3\u91cf\u5b50\u8ba1\u7b97\u517c\u5bb9\u7248\npip install \"transformers&gt;=5.3\" --upgrade --force-reinstall\n\u65b9\u6848\u4e09\uff1a\u6784\u5efa\u9694\u79bb\u73af\u5883\nbash\nCopy Code\n# \u521b\u5efa\u65b0\u7248\u865a\u62df\u73af\u5883\nconda create -n np2_env python=3.12 \"numpy&gt;=2\" \nconda activate np2_env\n\n# \u5b89\u88c52025\u5e74\u9002\u914d\u7684AI\u6846\u67b6\nconda install -c pytorch \"pytorch&gt;=2.4\" \"torchvision&gt;=0.16\"\npip install \"transformers&gt;=5.3\" \"accelerate&gt;=0.28\"\n\"\"\"\n</code></pre>"},{"location":"other/opencv/","title":"opencv","text":""},{"location":"other/opencv/#_1","title":"\u73af\u5883\u5b89\u88c5","text":"<pre><code>1)\u5230\u8fd9 https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/\n\u4e0b\u8f7d Anaconda3-5.1.0-Windows-x86_64.exe    \u5bf9\u5e94 python3.6.3\n2)\u5230\u8fd9 https://pypi.tuna.tsinghua.edu.cn/simple/opencv-python/\n\u4e0b\u8f7dopencv 3.4.1.15\n</code></pre>"},{"location":"other/opencv/#opencv","title":"opencv\u901a\u9053","text":"<pre><code>opencv \u9ed8\u8ba4\u8bfb\u53d6\u683c\u5f0f\u662f BGR \u683c\u5f0f\uff0cmatplotlib \u6216\u5176\u4ed6\u5e93\u7684\u8bfb\u53d6\u683c\u5f0f\u53ef\u80fd\u662f RGB \u7684\nopencv \u8bfb\u53d6\u5e76\u7528 opencv \u81ea\u5e26\u7684\u5c55\u793a\u51fd\u6570\u4e0d\u9700\u8981\u8fdb\u884c\u901a\u9053\u8f6c\u6362\uff0c\u4f46 opencv \u8bfb\u53d6\u540e\u7528\u5176\u4ed6\u5e93\u5c55\u793a\u56fe\u7247\u9700\u8981\u901a\u9053\u8f6c\u6362\n</code></pre>"},{"location":"recommand/","title":"\u63a8\u8350\u7cfb\u7edf","text":""},{"location":"recommand/#_2","title":"\u957f\u671f\u9760\u8fd0\u8425\uff0c\u77ed\u671f\u9760\u7b97\u6cd5","text":"<ul> <li>\u7b97\u6cd5\u975e\u5e38\u77ed\u89c6\uff0c\u5982\u679c\u5b8c\u5168\u7531\u7b97\u6cd5\u4e3b\u5bfc\u5c31\u4f1a\u671d\u7740xxx\u7684\u65b9\u5411\u8fdb\u884c\uff1b\u5e02\u573a\u7ecf\u6d4e\uff0c\u81ea\u7531\u6839\u636e\u7528\u6237\u884c\u4e3a\u51b3\u5b9a\uff0c\u4ea7\u54c1\u8fd0\u8425\uff0c\u4ea7\u751f\u884c\u653f\u5e72\u9884\u624b\u6bb5\uff0c\u624d\u80fd\u534f\u540c\u53d1\u5c55\u3002</li> </ul>"},{"location":"recommand/#_3","title":"\u76ee\u7684","text":"<p>\u4fe1\u606f\u8fc7\u8f7d\uff0c\u5e2e\u52a9\u8def\u5f84\u4f18\u5316\uff0c\u9891\u7e41\u8bbf\u95ee\u7ad9\u70b9\uff0c\u63d0\u5347\u7528\u6237\u7c98\u6027\u3002</p>"},{"location":"recommand/#_4","title":"\u300a\u601d\u8003\u5feb\u4e0e\u6162\u300b","text":"<ul> <li>\u5feb\u7cfb\u7edf\uff1a\u65e0\u610f\u8bc6\u4e14\u5feb\u901f\u4e0d\u8d39\u529b</li> <li>\u6ee1\u7cfb\u7edf\uff1a\u9700\u6ce8\u610f\u529b\u5e76\u7528\u5927\u8111\u8ba1\u7b97\u80fd\u529b\u3002</li> </ul>"},{"location":"recommand/#_5","title":"\u4e3b\u52a8\u641c\u7d22 <ul> <li>\u7528\u6237\u6709\u4e86\u5fc3\u667a\u4e86\u3002</li> <li>\u641c\u7d22\u64ae\u5408\u4f9b\u9700\u573a\u5408\uff0c\u4f9b\u5e94\u5927\u4e8c\u5168\u3002</li> <li>\u5feb\u901f\u6ee1\u8db3\uff0c\u6548\u7387\u9ad8\u6548\uff0c\u505c\u7559\u65f6\u95f4\u77ed\u3002</li> <li>query+user\u4fe1\u606f\uff0c\u4f8b\u5982\uff1a\u4e00\u4e2a\u591c\u665a\u542c\u7684\u6b4c\uff08\u7ed3\u5408\u7528\u6237\u5174\u8da3\uff09\uff1b\u641cT\u6064\uff0c\u4ef7\u683c\u3001\u54c1\u724c\u504f\u597d\u6ee1\u8db3\u3002</li> </ul>","text":""},{"location":"recommand/#_6","title":"\u88ab\u52a8\u63a8\u8350 <ul> <li>\u6ca1\u6709\u76ee\u6807\uff0c\u671f\u5f85\u4e0d\u4e00\u6837\uff0c\u7f29\u77ed\u601d\u8003\u8def\u5f84\uff0c\u63d0\u5347\u6c89\u4fb5\u5f0f\u4f53\u9a8c\u3002</li> <li>\u4e00\u4eba\u4e3a\u672c\uff0c\u66f4\u77ed\u7684\u8def\u5f84\uff0c\u5339\u914d\u4eba\u7684\u9700\u6c42\uff0c\u8d27\u54c1\u7684\u4f9b\u7ed9\uff0c\u76ee\u6807\u4e0d\u5f3a\uff0c\u7528\u6237 \u5728\u5e73\u53f0\u4e0a\u82b1\u65f6\u95f4\uff0c\u65f6\u4e0d\u65f6\u7684\u60ca\u559c\uff0c\u7c98\u6027\u57f9\u517b\u3002</li> <li>\u6301\u7eed\u670d\u52a1\uff0c\u5174\u8da3\u6316\u6398\u8d8a\u6df1\uff0c\u8d8a\u61c2\u7528\u6237\uff0c\u63a8\u8350\u6210\u529f\u7387\u9ad8\u3002</li> <li>user + \u8868\u5f81\u7528\u6237\u7684query\u3002</li> </ul>","text":""},{"location":"recommand/#5w","title":"5W <ul> <li>when\uff1a\u65f6\u95f4\u7ef4\u5ea6\uff0c\u6d89\u53ca\u7528\u6237\u4e60\u60ef\uff0c\u6bd4\u5982\uff1a\u6613\u8017\u54c1\u3001\u8d2d\u7269\u5468\u671f\u3001\u5468\u672b\u9500\u91cf\u3002</li> <li>where\uff1a\u7c97\u7c92\u5ea6\uff0c\u6bd4\u5982\uff1apush\u8003\u8651\u65f6\u95f4\u56e0\u7d20\uff0c\u5357\u65b9\u7fbd\u7ed2\u670d\u9700\u6c42\uff0c\u5357\u5317\u8863\u670d\u98ce\u683c\u3002\u7ec6\u7c92\u5ea6o2o\u65f6\u6548\u6027\u548c\u533a\u57df\u6027\u3002</li> <li>who\uff1a\u884c\u4e3a\u7edf\u8ba1\uff0c\u6784\u5efa\u753b\u50cf\u3002</li> <li>what\uff1a\u7269\u6599\u81ea\u5e26\u5c5e\u6027\u3002</li> <li>why\uff1a\u63a8\u8350\u89e3\u91ca\u6027\u3001\u7edf\u8ba1\u3001\u5185\u5bb9\u89c4\u5219\u3002</li> </ul>","text":""},{"location":"recommand/#_7","title":"\u7cfb\u7edf\u89d2\u5ea6 <ul> <li>heart\u6a21\u578b\uff1ahappiness\u6109\u60a6\u5ea6\u3001\u6ee1\u610f\u5ea6\u3001\u63a8\u8350\u5ea6\u3001\u611f\u77e5\u5ea6\u3001\u6613\u7528\u6027\u3002</li> <li>engagement\u6c89\u6d78\u5ea6\uff1a\u8bbf\u95ee\u9891\u6b21\u3001\u70b9\u51fb\u505c\u7559\u65f6\u957f\uff0c\u70b9\u51fb\u8f6c\u5316\u7387\u3001\u4e3a\u4ea7\u54c1\u5e26\u6765\u70b9\u51fb\u8f6c\u5316\u65f6\u957f\uff0c\u7c98\u6027\u63d0\u5347\u3002</li> <li>adaption\u91c7\u7eb3\u6027\uff1a\u65b0\u7528\u6237\u4f7f\u7528\u7387\u3001\u5ba2\u6d41\u91cf\u3001\u9000\u51fa\u7387\u3002</li> <li>retention\u7528\u6237\u7c98\u5ea6\uff1a\u8001\u7528\u6237\u7559\u5b58\u7387\u3001\u5468\u56de\u8bbf\u3001\u5468\u8bbf\u95ee\u3002</li> </ul>","text":""},{"location":"recommand/#_8","title":"\u7b97\u6cd5\u7ef4\u5ea6 <ul> <li>\u51c6\u786e\u5ea6\uff1a\u9884\u6d4b\u51c6\u786e\u3001\u5206\u7c7b\u51c6\u786e\u3001\u6392\u5e8f\u51c6\u786e\u3002</li> <li>\u5176\u4ed6\u7ef4\u5ea6\uff1a\u63a8\u8350\u5217\u8868\u6d41\u884c\u6027\u548c\u591a\u6837\u6027\u3001\u53ec\u56de\u7387\u3001\u8986\u76d6\u7387\u3001\u65b0\u9c9c\u5ea6\u548c\u610f\u5916\u6027\u3001\u7528\u6237\u6ee1\u610f\u5ea6\u3002</li> </ul>","text":""},{"location":"recommand/layer/","title":"RMSNorm \u4e0e LayerNorm \u7684\u533a\u522b","text":"<p>RMSNorm\uff08Root Mean Square Normalization\uff09\u548c LayerNorm\uff08Layer Normalization\uff09\u90fd\u662f\u6df1\u5ea6\u5b66\u4e60\u4e2d\u5e38\u7528\u7684\u5f52\u4e00\u5316\u65b9\u6cd5\uff0c\u4f46\u5b83\u4eec\u5728\u8ba1\u7b97\u65b9\u5f0f\u548c\u67d0\u4e9b\u7279\u6027\u4e0a\u5b58\u5728\u663e\u8457\u533a\u522b\u3002\u4ee5\u4e0b\u662f\u5b83\u4eec\u7684\u4e3b\u8981\u533a\u522b\uff1a</p>"},{"location":"recommand/layer/#1","title":"1. \u5f52\u4e00\u5316\u516c\u5f0f","text":""},{"location":"recommand/layer/#layernorm","title":"LayerNorm","text":"<ul> <li>\u8ba1\u7b97\u5747\u503c\u548c\u65b9\u5dee\uff1a   [   \\mu = \\frac{1}{d} \\sum_{i=1}^{d} x_i   ]   [   \\sigma^2 = \\frac{1}{d} \\sum_{i=1}^{d} (x_i - \\mu)^2   ]</li> <li>\u5f52\u4e00\u5316\u516c\u5f0f\uff1a   [   \\hat{x} = \\frac{x - \\mu}{\\sqrt{\\sigma^2 + \\epsilon}}   ]   \u5176\u4e2d\uff0c\\(\\epsilon\\) \u662f\u4e00\u4e2a\u5c0f\u7684\u5e38\u6570\uff0c\u7528\u4e8e\u9632\u6b62\u9664\u4ee5\u96f6\u7684\u60c5\u51b5\u3002</li> <li>\u6700\u7ec8\u8f93\u51fa\uff1a   [   \\text{LayerNorm}(x) = \\gamma \\odot \\hat{x} + \\beta   ]   \u5176\u4e2d\uff0c\\(\\gamma\\) \u548c \\(\\beta\\) \u662f\u53ef\u5b66\u4e60\u7684\u7f29\u653e\u548c\u504f\u79fb\u53c2\u6570\u3002</li> </ul>"},{"location":"recommand/layer/#rmsnorm","title":"RMSNorm","text":"<ul> <li>\u8ba1\u7b97\u5747\u65b9\u6839\uff08RMS\uff09\uff1a   [   \\text{RMS}(x) = \\sqrt{\\frac{1}{d} \\sum_{i=1}^{d} x_i^2}   ]</li> <li>\u5f52\u4e00\u5316\u516c\u5f0f\uff1a   [   \\hat{x} = \\frac{x}{\\text{RMS}(x)}   ]</li> <li>\u6700\u7ec8\u8f93\u51fa\uff1a   [   \\text{RMSNorm}(x) = \\gamma \\odot \\hat{x} + \\beta   ]   \u5176\u4e2d\uff0c\\(\\gamma\\) \u548c \\(\\beta\\) \u662f\u53ef\u5b66\u4e60\u7684\u7f29\u653e\u548c\u504f\u79fb\u53c2\u6570\u3002</li> </ul>"},{"location":"recommand/layer/#2","title":"2. \u8ba1\u7b97\u590d\u6742\u5ea6","text":"<ul> <li>LayerNorm\uff1a</li> <li>\u9700\u8981\u8ba1\u7b97\u5747\u503c\u548c\u65b9\u5dee\uff0c\u6d89\u53ca\u4e24\u6b21\u904d\u5386\u8f93\u5165\u5411\u91cf\uff0c\u8ba1\u7b97\u590d\u6742\u5ea6\u8f83\u9ad8\u3002</li> <li>RMSNorm\uff1a</li> <li>\u53ea\u9700\u8981\u8ba1\u7b97\u5747\u65b9\u6839\uff0c\u8ba1\u7b97\u590d\u6742\u5ea6\u66f4\u4f4e\uff0c\u5c24\u5176\u662f\u5728\u5904\u7406\u5927\u89c4\u6a21\u8f93\u5165\u65f6\uff0cRMSNorm\u7684\u6548\u7387\u66f4\u9ad8\u3002</li> </ul>"},{"location":"recommand/layer/#3","title":"3. \u6570\u503c\u7a33\u5b9a\u6027","text":"<ul> <li>LayerNorm\uff1a</li> <li>\u5f53\u8f93\u5165\u6570\u636e\u7684\u65b9\u5dee\u63a5\u8fd1\u96f6\u65f6\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6570\u503c\u4e0d\u7a33\u5b9a\uff0c\u56e0\u4e3a\u5206\u6bcd \\(\\sqrt{\\sigma^2 + \\epsilon}\\) \u53ef\u80fd\u975e\u5e38\u5c0f\u3002</li> <li>RMSNorm\uff1a</li> <li>\u7531\u4e8e\u76f4\u63a5\u4f7f\u7528\u5747\u65b9\u6839\u8fdb\u884c\u5f52\u4e00\u5316\uff0c\u907f\u514d\u4e86\u65b9\u5dee\u63a5\u8fd1\u96f6\u7684\u95ee\u9898\uff0c\u56e0\u6b64\u6570\u503c\u7a33\u5b9a\u6027\u66f4\u5f3a\u3002</li> </ul>"},{"location":"recommand/layer/#4","title":"4. \u6a21\u578b\u6027\u80fd","text":"<ul> <li>LayerNorm\uff1a</li> <li>\u5728\u8bb8\u591a\u4efb\u52a1\u4e2d\u8868\u73b0\u51fa\u8272\uff0c\u5c24\u5176\u662f\u5728Transformer\u67b6\u6784\u4e2d\uff0cLayerNorm\u662f\u6807\u51c6\u7684\u5f52\u4e00\u5316\u65b9\u6cd5\u3002</li> <li>RMSNorm\uff1a</li> <li>\u5728\u67d0\u4e9b\u4efb\u52a1\u4e2d\uff0cRMSNorm\u53ef\u4ee5\u8fbe\u5230\u6216\u8d85\u8fc7LayerNorm\u7684\u6027\u80fd\uff0c\u5c24\u5176\u662f\u5728\u5927\u89c4\u6a21\u9884\u8bad\u7ec3\u8bed\u8a00\u6a21\u578b\uff08\u5982LLaMA\u3001LLaMA2\uff09\u4e2d\uff0cRMSNorm\u88ab\u5e7f\u6cdb\u91c7\u7528\u3002</li> </ul>"},{"location":"recommand/layer/#5","title":"5. \u5e94\u7528\u573a\u666f","text":"<ul> <li>LayerNorm\uff1a</li> <li>\u5e7f\u6cdb\u5e94\u7528\u4e8eTransformer\u67b6\u6784\u3001BERT\u3001GPT\u7b49\u6a21\u578b\u4e2d\u3002</li> <li>RMSNorm\uff1a</li> <li>\u88ab\u5e7f\u6cdb\u5e94\u7528\u4e8e\u5927\u578b\u8bed\u8a00\u6a21\u578b\uff08\u5982LLaMA\u3001LLaMA2\u3001Baichuan\u7b49\uff09\uff0c\u4ee5\u53ca\u4e00\u4e9b\u5bf9\u8ba1\u7b97\u6548\u7387\u8981\u6c42\u8f83\u9ad8\u7684\u573a\u666f\u3002</li> </ul>"},{"location":"recommand/layer/#_1","title":"\u603b\u7ed3","text":"<p>LayerNorm \u548c RMSNorm \u90fd\u662f\u6709\u6548\u7684\u5f52\u4e00\u5316\u65b9\u6cd5\uff0c\u4f46 RMSNorm \u5728\u8ba1\u7b97\u6548\u7387\u548c\u6570\u503c\u7a33\u5b9a\u6027\u65b9\u9762\u5177\u6709\u4f18\u52bf\u3002RMSNorm \u66f4\u9002\u5408\u5927\u89c4\u6a21\u9884\u8bad\u7ec3\u8bed\u8a00\u6a21\u578b\uff0c\u800c LayerNorm \u5728\u4f20\u7edfTransformer\u67b6\u6784\u4e2d\u4ecd\u7136\u8868\u73b0\u826f\u597d\u3002\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u53ef\u4ee5\u6839\u636e\u5177\u4f53\u4efb\u52a1\u7684\u9700\u6c42\u548c\u6a21\u578b\u7684\u89c4\u6a21\u9009\u62e9\u5408\u9002\u7684\u5f52\u4e00\u5316\u65b9\u6cd5\u3002</p>"},{"location":"recommand/summary/","title":"Summary","text":"<p>pv\u6bd4uv\u66f4\u7a33\u5b9a\uff0cpv\u66f4\u5bb9\u6613\u6536\u5230\u566a\u97f3\u7684\u5f71\u54cd\u3002</p>"},{"location":"recommand/figure/tfidf/","title":"Tfidf","text":"HiveSQL\u5b9e\u73b0 <pre><code>#!/bin/bash\nfunction exec_sql(){\nrefresh_sql=\"$1\"\ndebug=\"$2\"\ndebug=\"${debug:=0}\"\necho \"############ \u6253\u5370SQL #################\"\necho    \"${refresh_sql}\"\necho \"############ \u6267\u884cSQL ################\"\nif [  ${debug} -eq \"1\" ];then\n    hive -e \"${refresh_sql}\"\nfi\n\nif [ $? -ne 0 ]; then\n    echo \"############ \u6267\u884c\u5931\u8d25 ###############\"\n    exit 1\nelse\n    echo \"############ \u6267\u884c\u6210\u529f ###############\"\nfi\necho \"\"\necho \"\"\necho \"\"\necho \"\"\n}\n\nparam=\"\n    set hive.mapred.mode=nostrict;\n    set hive.execution.engine=mr;\n    set mapred.job.queue.name=root.ai.feednews;\n    set hive.exec.script.allow.partial.consumption=true;\n    set hive.exec.dynamici.partition=true;\n    set hive.exec.dynamic.partition.mode=nonstrict;\n    set mapred.task.timeout=18000000;\n    set hive.groupby.skewindata=true;\n    set hive.optimize.skewjoin=true;\n    set hive.exec.parallel=true;\n    set hive.ignore.mapjoin.hint=true;\"\n\nfunction exec_step1(){\n    step1_sql=\"\n    ${param}\n    use ${database};\n    --fisrt/second/\u5206\u7ec4\u8870\u51cf\u548c\n    drop   table tmp_tfidf_${train}_first_second_dying_sum_step1;\n    create table tmp_tfidf_${train}_first_second_dying_sum_step1 as \n    select ${first},\n        flag,\n        ${second}, \n        sum(dying_cnt) second_dying_cnt\n    from (select ${first}\n                ,flag\n                ,${second}\n                ,act_day\n                ,exp(datediff('${dt_beg}',act_day)*(${lamda}))*sum(cnt) as dying_cnt\n            from tmp_tfidf_${train}_action\n            where ${second} is not null and ${second} &lt;&gt; ''\n            group by ${first}\n                    ,flag\n                    ,${second}\n                    ,act_day\n        ) t \n    group by ${first}\n            ,flag\n            ,${second};\"       \n    exec_sql \"${step1_sql}\" \"${debug}\"\n} \n\nfunction exec_step2(){\n    step2_sql=\"\n    ${param}\n    use ${database};\n    drop   table tmp_tfidf_${train}_tf_step2;\n    create table tmp_tfidf_${train}_tf_step2 as \n    --first\u5206\u7ec4\u4e4b\u540e\u8870\u51cf\u548c\n    with first_dying_sum as (\n    select ${first}\n        ,flag\n        ,sum(second_dying_cnt) first_dying_cnt\n    from tmp_tfidf_${train}_first_second_dying_sum_step1\n    group by ${first}\n        ,flag\n    )\n    select t1.${first}\n        ,t1.flag\n        ,t2.${second}\n        ,t1.first_dying_cnt\n        ,t2.second_dying_cnt\n    from first_dying_sum as t1\n    join tmp_tfidf_${train}_first_second_dying_sum_step1 as t2\n    on t1.${first}=t2.${first} and t1.flag=t2.flag;\"\n    exec_sql \"${step2_sql}\" \"${debug}\"\n}\n\nfunction exec_step3(){\n    step3_sql=\"\n    ${param}\n    use ${database};\n    drop   table tmp_tfidf_${train}_idf_step3;\n    create table tmp_tfidf_${train}_idf_step3 as \n    --second\u5206\u7ec4\u4e4b\u540e\u7684\u603b\u4e2a\u6570\n    with second_total as (\n    select ${second}\n        ,flag\n        ,count(${second}) second_cnt\n    from tmp_tfidf_${train}_first_second_dying_sum_step1\n    group by ${second}\n        ,flag\n    ),\n    --flag\u5206\u7ec4\u4e4b\u540e\u7684\u603b\u4e2a\u6570\n    flag_total as (\n    select flag,\n        count(*) as flag_cnt \n    from tmp_tfidf_${train}_first_second_dying_sum_step1\n    group by flag\n    )\n    select /*+MAPJOIN(a) */\n        b.${second}\n        ,second_cnt\n        ,a.flag\n        ,a.flag_cnt\n    from flag_total as a \n    inner join second_total as b \n    on a.flag=b.flag;\"\n    exec_sql \"${step3_sql}\" \"${debug}\"\n}\n\n\n\n\nfunction exec_step4(){\n    step4_sql=\"\n    ${param}\n    use ${database};\n    drop   table tmp_tfidf_${train};\n    create table tmp_tfidf_${train} as \n    select /*+MAPJOIN(t4) */\n    t3.${first}\n    ,t3.${second}\n    ,t3.second_dying_cnt/t3.first_dying_cnt as tf \n    ,log(t4.flag_cnt/t4.second_cnt+1) as idf \n    ,(t3.second_dying_cnt/t3.first_dying_cnt) * (log(t4.flag_cnt/t4.second_cnt+1)) as tfidf\n    from tmp_tfidf_${train}_idf_step3 as t4\n    join tmp_tfidf_${train}_tf_step2  as t3\n    on t3.${second}=t4.${second}\n    and t3.flag=t4.flag;\"\n    exec_sql \"${step4_sql}\" \"${debug}\"\n}\n\n\nfunction clear_steps(){\n    refresh_sql=\"use ${database}; \n    drop table tmp_tfidf_${train}_first_second_dying_sum_step1;\n    drop table tmp_tfidf_${train}_tf_step2;\n    drop table tmp_tfidf_${train}_idf_step3;\"\n    exec_sql \"${refresh_sql}\" \"${debug}\"\n}\n\ntrain=\"$1\"\nfirst=\"$2\"\nsecond=\"$3\"\ndebug=\"$4\"\ndebug=${debug:=\"1\"}\ndt_beg=\"$5\"\ndt_beg=\"$(date '+%Y-%m-%d')\"\nlamda=\"$6\"\nlamda=${lamda:=\"-0.15\"}\ndatabase=\"$7\"\ndatabase=${database:=\"feednews\"}\n\nexec_step1\nexec_step2\nexec_step3\nexec_step4\nclear_steps\n</code></pre>"},{"location":"recommand/math/math-func/","title":"\u6570\u5b66/\u51fd\u6570\u66f2\u7ebf","text":""},{"location":"recommand/math/math-func/#_1","title":"\u5e38\u7528\u51fd\u6570","text":""},{"location":"recommand/metrics/cosine/","title":"\u8bc4\u4f30/cosine","text":""},{"location":"recommand/metrics/cosine/#cosine","title":"\u7c7b\u5e93\u8ba1\u7b97cosine","text":"<p>1.\u00a0\u5728Python\u4e2d\u4f7f\u7528scipy\u8ba1\u7b97\u4f59\u5f26\u76f8\u4f3c\u6027 scipy\u00a0\u6a21\u5757\u4e2d\u7684spatial.distance.cosine()\u00a0\u51fd\u6570\u53ef\u4ee5\u7528\u6765\u8ba1\u7b97\u4f59\u5f26\u76f8\u4f3c\u6027\uff0c\u4f46\u662f\u5fc5\u987b\u8981\u75281\u51cf\u53bb\u51fd\u6570\u503c\u5f97\u5230\u7684\u624d\u662f\u4f59\u5f26\u76f8\u4f3c\u5ea6\u3002 <pre><code>from\u00a0scipy\u00a0import\u00a0spatial\nvec1\u00a0=\u00a0[1,\u00a02,\u00a03,\u00a04]\nvec2\u00a0=\u00a0[5,\u00a06,\u00a07,\u00a08]\ncos_sim\u00a0=\u00a01\u00a0-\u00a0spatial.distance.cosine(vec1,\u00a0vec2)\nprint(cos_sim)\n</code></pre> 2.\u00a0\u5728Python\u4e2d\u4f7f\u7528numpy\u8ba1\u7b97\u4f59\u5f26\u76f8\u4f3c\u6027 numpy\u6a21\u5757\u6ca1\u6709\u76f4\u63a5\u63d0\u4f9b\u8ba1\u7b97\u4f59\u5f26\u76f8\u4f3c\u6027\u7684\u51fd\u6570\uff0c\u6211\u4eec\u53ef\u4ee5\u6839\u636e\u4f59\u5f26\u76f8\u4f3c\u6027\u7684\u8ba1\u7b97\u516c\u5f0f\u6765\u8ba1\u7b97\u3002\u5176\u4e2dnumpy.doy()\u51fd\u6570\u53ef\u4ee5\u8ba1\u7b97\u4e24\u4e2a\u5411\u91cf\u7684\u5185\u79ef\uff0cnumpy.linalg.norm()\u51fd\u6570\u8fd4\u56de\u5411\u91cf\u7684\u6a21\u3002 <pre><code>import\u00a0numpy\u00a0as\u00a0np\nvec1\u00a0=\u00a0np.array([1,\u00a02,\u00a03,\u00a04])\nvec2\u00a0=\u00a0np.array([5,\u00a06,\u00a07,\u00a08])\ncos_sim\u00a0=\u00a0vec1.dot(vec2)\u00a0/\u00a0np.linalg.norm(vec1)\u00a0*\u00a0np.linalg.norm(vec2)\nprint(cos_sim)\n</code></pre> \u6ce8\u610fnumpy\u53ea\u80fd\u8ba1\u7b97numpy.ndarray\u7c7b\u578b\u5411\u91cf\u7684\u4f59\u5f26\u76f8\u4f3c\u6027\u3002</p> <p>3.\u00a0\u5728Python\u4e2d\u4f7f\u7528sklearn\u8ba1\u7b97\u4f59\u5f26\u76f8\u4f3c\u6027 sklearn\u63d0\u4f9b\u5185\u7f6e\u51fd\u6570cosine_similarity()\u53ef\u4ee5\u76f4\u63a5\u7528\u6765\u8ba1\u7b97\u4f59\u5f26\u76f8\u4f3c\u6027\u3002 <pre><code>import\u00a0numpy\u00a0as\u00a0np\nfrom\u00a0sklearn.metric.pairwise\u00a0import\u00a0cosine_similarity()\nvec1\u00a0=\u00a0np.array([1,\u00a02,\u00a03,\u00a04])\nvec2\u00a0=\u00a0np.array([5,\u00a06,\u00a07,\u00a08])\ncos_sim\u00a0=\u00a0cosine_similarity(vec1.reshape(1,\u00a0-1),\u00a0vec2.reshape(1,\u00a0-1))\nprint(cos_sim[0][0])\n</code></pre></p>"},{"location":"recommand/metrics/cosine/#ecoc","title":"ecoc","text":"<pre><code>ecoc_ctr =sum(clicked)/sum(p_ctr)\n</code></pre>"},{"location":"recommand/rank/loss/","title":"Listwise Loss","text":""},{"location":"recommand/rank/loss/#kl-loss","title":"KL\u6563\u5ea6 loss","text":"<ul> <li>\u5206\u522b\u5bf9\u6a21\u578b\u8f93\u51fa\u7ed3\u6784\u4e0elabel\uff0c\u8fdb\u884csoftmax\u5c31\u53ef\u4ee5\u5206\u522b\u5f97\u5230rank_logits\uff08\u4e5f\u5c31\u662f\u8be5item\u6392\u5728\u5f53\u524d\u7684\u4f4d\u7f6e\u7684\u6982\u7387\uff09\u4e0elabel_logits\uff08\u4e5f\u5c31\u662f\u771f\u5b9e\u8be5item\u6392\u5728\u7684\u4f4d\u7f6e\u7684\u6982\u7387\uff09     <pre><code>label_logits = tf.softmax(label)\nrank_logits = tf.softmax(pred)\n</code></pre></li> <li>\u8861\u91cf\u4e24\u4e2a\u6982\u7387\u5206\u5e03\u5dee\u5f02\uff0c\u81ea\u7136\u5c31\u4f1a\u60f3\u5230kl\u6563\u5ea6</li> <li>kl\u6563\u5ea6\u5177\u4f53\u4ee3\u7801     <pre><code>def kl_loss(label_prob, pred_prob):\n\"\"\"\n:param label_prob:\u771f\u5b9e\u6982\u7387\u5206\u5e03\n:param pred_prob:\u9884\u6d4b\u6982\u7387\u5206\u5e03\n\"\"\"\np_q = label_prob/tf.clip_by_value(pred_prob, 1e-8, 1)\nkl_loss = tf.reduce_sum(label_prob * tf.log(p_q), axis=-1)\nreturn kl_loss\n</code></pre></li> <li>kl\u6563\u5ea6\u505aloss\u7684\u5c40\u9650\u6027<ul> <li>kl\u6563\u5ea6\u662f\u8861\u91cf\u4e24\u4e2a\u6982\u7387\u5206\u5e03\u7684\u5dee\u5f02\uff0c\u771f\u5b9e\u63a8\u8350\u573a\u666f\u4e2d\uff0c\u53ea\u8981\u6ee1\u8db3rank_logits\u7684\u987a\u5e8f\u4e0elabel_logits\u76f8\u540c\uff0c\u4ed6\u7684loss\u5c31\u5e94\u8be5\u4e3a0\uff0c\u5e76\u4e0d\u9700\u8981\u5f3a\u8c03\u6982\u7387\u63a5\u8fd1\u3002</li> <li>\u8ba1\u7b97kl loss\u9700\u8981\u63d0\u524d\u8bbe\u8ba1\u4e00\u4e2a\u771f\u5b9e\u7684\u6392\u5e8f\u5f97\u5206\uff0c\u6bd4\u5982\uff1a\u4e0b\u5355\u3001\u52a0\u8d2d\u3001\u70b9\u51fb\u4e0e\u66dd\u5149\u5206\u522b\u4e3a5\u30014\u30013\u30011\u5206\u3002\u7136\u540e\u662f\u9884\u6d4b\u7684rank_logits\u5c3d\u91cf\u4e0e\u8fd9\u4e2a\u5206\u5e03\u76f8\u8fd1\uff0c\u7136\u800c\u8fd9\u4e2a\u5206\u5e03\u662f\u4eba\u4e3a\u5b9a\u4e49\u7684\uff0c\u4e0d\u662f\u771f\u5b9e\u7684\u5206\u5e03\u3002</li> </ul> </li> <li>kl\u6563\u5ea6\u505aloss\u7684\u4f18\u52bf<ul> <li>\u5b9e\u73b0\u7b80\u5355</li> <li>\u8bbe\u8ba1\u4e0d\u540c\u7684\u5f97\u5206\uff0c\u76f8\u5f53\u4e8e\u8bbe\u8ba1\u4e0d\u540c\u7684\u6837\u672c\u6743\u91cd\uff0c\u5f53\u9700\u8981\u63d0\u9ad8\u8f6c\u5316\u7387\uff0c\u5219\u53ef\u4ee5\u628a\u4e0b\u5355\u7684\u5206\u6570\u8bbe\u7f6e\u9ad8\u4e00\u70b9</li> </ul> </li> </ul>"},{"location":"recommand/rank/loss/#listmle-loss","title":"ListMLE loss","text":"<p>\\(L_{MLE}(P_n) = - log P_M(o|p_n)\\)</p> <ul> <li> <p>\u89e3\u91ca</p> <ul> <li>o=[o1, o2, ..., omn]\u8868\u793a\u7b54\u6848\u4e2d\u7684\u6b63\u786e\u5e8f\u5217\uff0c</li> <li>k=1\u65f6\uff0c\u8868\u793ao1\u88ab\u4e89\u53d6\u7684\u653e\u5728\u4e86\u7b2c1\u4f4d\u7684\u6982\u7387\uff1b</li> <li>k=2\u662f\uff0c\u8868\u793ao2\u5728\u9664\u53bbo1\u7684\u5269\u4e0b\u7684\u5019\u9009\u4e2d\uff0c\u88ab\u9009\u4e2d\u505a\u7b2c2\u4f4d\u7684\u6982\u7387\uff1b</li> <li>\u4f9d\u6b21\u7c7b\u63a8\uff0c\u6700\u540e\u6982\u7387\u4e58\u8d77\u6765\uff1b\u56e0\u4e3a\u6982\u7387\u4e58\u79ef\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6570\u503c\u8fc7\u5c0f\uff0c\u6240\u4ee5\u5728\u7b2c\u4e00\u4e2a\u516c\u5f0f\u4e2d\u5957\u4e0a\u4e86log\u3002</li> </ul> </li> <li> <p>\u6848\u4f8b </p> <ul> <li>label=[2,5,3,1]</li> <li>logits=[0.7,1.1,2.1,0.5]</li> <li>\u5148\u7ed9label\u6392\u5e8f[3,3,2,1],\u6309\u7167label\u7684\u6392\u5e8f\u65b9\u5f0f\uff0c\u7ed9logits\u6392\u5e8f\u5219\u53d8\u6210[1.1,2.1,0.7,0.5]</li> <li>\u53ef\u4ee5\u7406\u89e3\u6309\u7167label\u7684\u90a3\u5217\u7684\u7531\u5927\u5230\u5c0f\u6392\u5e8f</li> <li>\u7136\u540e\u5957\u516c\u5f0f\u8ba1\u7b97\uff1a</li> <li>o1\u653e\u9996\u4f4d\u7684\u6982\u7387po1=1.1/(1.1+2.1+0.7+0.5)</li> <li>\u53bb\u6389o1\uff0co2\u653e\u9996\u4f4d\u7684\u6982\u7387po2=2.1/(2.1+0.7+0.5),\u4f9d\u6b21\u7c7b\u63a8</li> <li>\u6700\u540eloss=-log(po1po2...pon)</li> </ul> </li> <li>\u4ee3\u7801     <pre><code># \u53c2\u8003\uff1ahttps://zhuanlan.zhihu.com/p/66514492\nimport tensorflow as tf\ndef mle_loss(true_scores,rank_scores):\n    '''\n    :param true_scores: \u771f\u5b9e\u5f97\u5206\uff08\u5206\u503c\u4e0d\u91cd\u8981\uff0c\u80fd\u786e\u5b9a\u5148\u540e\u987a\u5e8f\u5c31\u884c\uff09,shape (bt,list_size)\n    :param rank_scores: \u9884\u6d4b\u5f97\u5206, shape (bt,list_size)\n    :return:\n    '''\n    # batch_size=4\n    list_size=3      #list \u4e0d\u4e00\u5b9a\u4e3a\u771f\u5b9e\u7684\uff0c\u4e5f\u53ef\u4ee5\u6307\u5b9a\u4efb\u610f\u503c\uff08mle \u53ef\u4ee5\u7406\u89e3\u4e3a\u8be5item\u6392\u5728\u9996\u4f4d\u7684\u6982\u7387\u7684\u8054\u4e58\uff09\n    index = tf.argsort(true_scores, direction='DESCENDING')\n    # print(index)[1,2,0] [1,0,2]\n    #\u6309\u771f\u5b9e\u5f97\u5206\u5bf9rank_scores\u6392\u5e8f\n    S_predict=tf.batch_gather(rank_scores, index)\n    # S_predict=tf.gather(rank_scores, index,axis=-1,batch_dims=0)\n    #\u5206\u5b50\n    initm_up=tf.constant([[1.0]]) #shape \u4e3a 1,1\n    for i in range(list_size):#3\u4e3a list_size\n                # index=tf.constant([[i]]*batch_size,dtype=tf.int32) #shape \u4e3a bt,1\n                # a=tf.batch_gather(S_predict,index)\n                a=tf.slice(S_predict,[0,i],[-1,1]) #shape \u4e3a bt,1\n                initm_up=initm_up*a #bt,1\n\n    #\u5206\u6bcd\n    initm_down=tf.constant([[1.0]]) #shape \u4e3a 1,1\n    for i in range(list_size):\n                b=tf.reduce_sum(tf.slice(S_predict, [0, i], [-1, list_size - i]), axis=-1,keep_dims=True)     # bt\n                initm_down*=b\n    loss=tf.log(tf.divide(initm_up,initm_down))\n    mleloss=-tf.reduce_mean(loss)\n    return mleloss\n</code></pre></li> </ul>"},{"location":"recommand/rank/loss/#listnet-loss","title":"ListNet Loss","text":"<ul> <li>\u89e3\u91ca<ul> <li>ListNet\u635f\u5931\uff0c\u540c\u6837\u5148\u6784\u9020\u7b54\u6848\u5e8f\u5217\u4e2d\u6bcf\u4e2aitem\u5f97\u5206\uff0c\u5982[y1,y2,y3]=[0,0.5,1]</li> <li>\u7b2c\u4e00\u4e2a\u516c\u5f0f\u8ba1\u7b97\u7b54\u6848\u4e2d\u6bcf\u4e2aitem\u88ab\u5f53\u505a\u9996\u4e2aitem\u7684\u6982\u7387\u3002</li> <li>\u7b2c\u4e8c\u4e2a\u516c\u5f0f\u8ba1\u7b97\u9884\u6d4b\u7ed3\u679c\u4e2d\u6bcf\u4e2aitem\u5f53\u505a\u9996\u4e2aitem\u7684\u6982\u7387\u3002</li> <li>\u7b2c\u4e09\u4e2a\u516c\u5f0f\u662f\u524d\u9762\u4e24\u4e2a\u6982\u7387\u5206\u5e03\u7684\u4ea4\u53c9\u71b5\u3002</li> </ul> </li> </ul>"},{"location":"recommand/rank/loss/#_1","title":"\u53c2\u8003\u94fe\u63a5","text":"<ul> <li>https://blog.csdn.net/qq_40859560/article/details/120676204</li> <li>https://zhuanlan.zhihu.com/p/66514492</li> </ul>"},{"location":"recommand/recall/hive_recall/","title":"\u9884\u6d4b\u7528\u6237\u7684\u5174\u8da3\u5411\u91cf","text":"<ul> <li>hive pyton udf <pre><code>import sys,os\nfrom collections import defaultdict\nimport tensorflow as tf\n\nshell_dir = \"mind_predict.tar.gz/\"\nif os.path.exists(shell_dir): \u00a0# \u5207\u6362\u5230\u5f53\u524d\u76ee\u5f55\n\u00a0 \u00a0 os.chdir(shell_dir)\n\u00a0 \u00a0 sys.path.insert(0, \"./\")\nos.environ[\"TF_CPP_MIN_LOG_LEVEL\"] = \"3\"\n\nflags = tf.flags\nFLAGS = flags.FLAGS\nflags.DEFINE_integer(\"batch_size\", 256, \"batch_size\")\nflags.DEFINE_integer(\"seq_len\", 256, \"seq_len\")\n\ndef parse_row(row):\n\u00a0 \u00a0 flag, uuid, seq = True, str(), []\n\u00a0 \u00a0 row = row.replace(\"\\n\", \"\")\n\u00a0 \u00a0 if \"\\t\" in row:\n\u00a0 \u00a0 \u00a0 \u00a0 cells = row.split(\"\\t\")\n\u00a0 \u00a0 else:\n\u00a0 \u00a0 \u00a0 \u00a0 cells = row.split(\"\\1\")\n\u00a0 \u00a0 if cells is None or len(cells) != 2:\n\u00a0 \u00a0 \u00a0 \u00a0 flag = False\n\u00a0 \u00a0 \u00a0 \u00a0 return flag, uuid, seq\n\u00a0 \u00a0 uuid, seq_str = cells\n\u00a0 \u00a0 if \",\" in seq_str:\n\u00a0 \u00a0 \u00a0 \u00a0 seq = seq_str.split(\",\")\n\u00a0 \u00a0 elif \"-\" in seq_str:\n\u00a0 \u00a0 \u00a0 \u00a0 seq = seq_str.split(\"-\")\n\u00a0 \u00a0 else:\n\u00a0 \u00a0 \u00a0 \u00a0 seq = [seq_str]\n\u00a0 \u00a0 if seq is None or len(seq) &lt;= 0:\n\u00a0 \u00a0 \u00a0 \u00a0 flag = False\n\u00a0 \u00a0 \u00a0 \u00a0 return flag, uuid, seq\n\u00a0 \u00a0 seq = [int(s) for s in seq]\n\u00a0 \u00a0 return flag, uuid, seq\n\n\ndef seq_padding(seq):\n\u00a0 \u00a0 s_len = len(seq)\n\u00a0 \u00a0 mask = [1.0 for _ in range(s_len)]\n\u00a0 \u00a0 if s_len &gt;=FLAGS.seq_len:\n\u00a0 \u00a0 \u00a0 \u00a0return \u00a0mask[-FLAGS.seq_len:], seq[-FLAGS.seq_len:]\n\u00a0 \u00a0 else:\n\u00a0 \u00a0 \u00a0 \u00a0seq += [0] * (FLAGS.seq_len - s_len)\n\u00a0 \u00a0 \u00a0 \u00a0mask += [0] * (FLAGS.seq_len - s_len)\n\u00a0 \u00a0 \u00a0 \u00a0return mask, seq\n\ndef batch_predict(uuid_all, batch_instance):\n\u00a0 \u00a0 feed_dict = {\"feature_ph\": batch_instance[\"feature_ph\"],\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\"mask_ph\": batch_instance[\"mask_ph\"]}\n\u00a0 \u00a0 user_embs = predict_fn(feed_dict)[\"user_emb\"]\n\u00a0 \u00a0 if user_embs is not None and len(user_embs) &gt; 0:\n\u00a0 \u00a0 \u00a0 \u00a0 num_batch = user_embs.shape[0]\n\u00a0 \u00a0 \u00a0 \u00a0 assert len(uuid_all) == num_batch\n\u00a0 \u00a0 \u00a0 \u00a0 for i, ele in enumerate(uuid_all):\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 u_emb = user_embs[i]\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 u_emb = u_emb.reshape(-1)\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 tmp_emb = [str(w) for w in u_emb]\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 print(f\"{uuid_all[i]}\\t{','.join(tmp_emb)}\")\n\ndef predict_std():\n\u00a0 \u00a0 batch_uuid = []\n\u00a0 \u00a0 batch_instance = defaultdict(list)\n\u00a0 \u00a0 cur = 0\n\u00a0 \u00a0 for line in sys.stdin:\n\u00a0 \u00a0 \u00a0 \u00a0 try:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 flag, uuid, seq = parse_row(line)\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 if flag is False:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 continue\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 mask, seq = seq_padding(seq)\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 batch_uuid.append(uuid) \u00a0# uuid\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 batch_instance[\"feature_ph\"].append(seq) \u00a0# seq\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 batch_instance[\"mask_ph\"].append(mask) \u00a0# seq_len\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 cur += 1\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 if cur &gt; 0 and cur % FLAGS.batch_size == 0:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 batch_predict(batch_uuid, batch_instance)\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 batch_uuid.clear()\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 batch_instance.clear()\n\u00a0 \u00a0 \u00a0 \u00a0 except Exception as e:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 sys.stderr.write(f\"{line}\\n\")\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 sys.stderr.write(f\"{e.message}\\n\")\n\u00a0 \u00a0 if len(batch_uuid) &gt; 0:\n\u00a0 \u00a0 \u00a0 \u00a0 batch_predict(batch_uuid, batch_instance)\n\u00a0 \u00a0 \u00a0 \u00a0 \nif __name__ == \"__main__\":\n\u00a0 \u00a0 predict_fn = tf.contrib.predictor.from_saved_model(export_dir=\"./saved_model\", signature_def_key=\"serving_default\")\n\u00a0 \u00a0 predict_std()\n</code></pre></li> <li>hive sql     <pre><code>set hive.mapred.mode=nostrict;\nset hive.exec.script.allow.partial.consumption=true;\nset hive.exec.dynamici.partition=true;\nset hive.exec.dynamic.partition.mode=nonstrict;\nset yarn.nodemanager.vmem-check-enabled=false;\nset yarn.nodemanager.vmem-pmem-ratio=8;\nset io.sort.mb=10;\nset mapreduce.task.io.sort.factor=10;\nset mapred.max.split.size=62000000;\nset mapred.min.split.size.per.node=62000000;\nset mapred.min.split.size.per.rack=62000000;\nset mapreduce.map.cpu.vcores=2;\nset mapreduce.reduce.cpu.vcores=2;\nset mapreduce.map.memory.mb=7168;\nset mapreduce.task.timeout=4800000;\nadd ARCHIVE env_py36_tf15.tar.gz;\nadd ARCHIVE model_predict.tar.gz;\n\ninsert overwrite table predict_tab partition(day, hid)\nselect uid, embedding, 'active' as day, substr(md5(uid), 0, 1) as hid\nfrom (select transform(*) \u00a0USING 'env_py36_tf15.tar.gz/env_py36_tf15/bin/python -u model_predict.tar.gz/predict.py --batch_size=256' as (uid,embedding)\nfrom (\n\u00a0 \u00a0 select uid, seq from feed_feature\n\u00a0 \u00a0 where uid is not null and length(uid)&gt;1 and seq is not null and length(seq)&gt;5\n\u00a0 \u00a0 ) map_output\n) as tab;\n</code></pre></li> </ul>"},{"location":"recommand/recall/hive_recall/#_2","title":"\u4ece\u767e\u4e07\u7269\u6599\u4e2d\u68c0\u7d22\u548c\u7528\u6237\u559c\u6b22\u7684\u7269\u6599","text":"<ul> <li> <p>hive python udf     <pre><code>#!/usr/bin/env python\n# -*- coding: UTF-8 -*-\nimport sys\nimport os\nimport faiss\nimport argparse\nimport numpy as np\nfrom faiss import normalize_L2\n\nparser = argparse.ArgumentParser()\nparser.add_argument(\"--batch_size\", type=int, default=64)\nparser.add_argument(\"--emb_dim\", type=int, default=16)\nparser.add_argument(\"--num_interest\", type=int, default=8)\nparser.add_argument(\"--top_neighbor\", type=int, default=100)\nparser.add_argument(\"--item_emb\", type=str, default=\"item_emb.csv\")\nparser.add_argument(\"--normalize\", type=int, default=1) \u00a0# normalize item\nparser.add_argument(\"--precision\", type=int, default=6) \u00a0# decimal precision\n\ndef load_item_emb(file):\n\u00a0 \u00a0 idx_dict, emb_list = dict(), list()\n\u00a0 \u00a0 item_file = open(file, \"r\")\n\u00a0 \u00a0 rows = item_file.readlines()\n\u00a0 \u00a0 item_file.close()\n\u00a0 \u00a0 new_rows = []\n\u00a0 \u00a0 for row in rows:\n\u00a0 \u00a0 \u00a0 \u00a0 cells = row.strip().split(\"\\t\")\n\u00a0 \u00a0 \u00a0 \u00a0 if cells is not None and len(cells) == 2:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 idx, emb = cells\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 emb = [float(i) for i in emb.split(\",\")]\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 new_rows.append([idx, emb])\n\u00a0 \u00a0 for i, (k, v) in enumerate(new_rows):\n\u00a0 \u00a0 \u00a0 \u00a0 idx_dict[i] = k\n\u00a0 \u00a0 \u00a0 \u00a0 emb_list.append(v)\n\u00a0 \u00a0 return idx_dict, emb_list\n\ndef build_index(dim, emb):\n\u00a0 \u00a0 emb = np.array(emb)\n\u00a0 \u00a0 emb = emb.reshape(-1, args.emb_dim).astype(np.float32)\n\u00a0 \u00a0 if args.normalize &gt; 0:\n\u00a0 \u00a0 \u00a0 \u00a0 normalize_L2(emb)\n\u00a0 \u00a0 f_index = faiss.IndexFlatIP(dim)\n\u00a0 \u00a0 f_index.add(emb)\n\u00a0 \u00a0 return f_index\n\ndef batch_recall(batch_uuid, D, I):\n\u00a0 \u00a0 cur_size = len(batch_uuid)\n\u00a0 \u00a0 # I:(batch_size * num_interest, topN)\n\u00a0 \u00a0 for k in range(cur_size):\n\u00a0 \u00a0 \u00a0 \u00a0 item_list_set = set()\n\u00a0 \u00a0 \u00a0 \u00a0 item_res = list()\n\u00a0 \u00a0 \u00a0 \u00a0 # item_list:(num_interest * topN)\n\u00a0 \u00a0 \u00a0 \u00a0 item_list = list(zip(np.reshape(I[k * args.num_interest:(k + 1) * args.num_interest], -1),\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0np.reshape(D[k * args.num_interest:(k + 1) * args.num_interest], -1)))\n\u00a0 \u00a0 \u00a0 \u00a0 item_list.sort(key=lambda x: x[1], reverse=True)\n\u00a0 \u00a0 \u00a0 \u00a0 for j in range(len(item_list)):\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 # index:0 reserved.\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 item_key = idx_kv[item_list[j][0]]\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 item_score = round(item_list[j][1].item(), args.precision)\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 if item_key not in item_list_set:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 item_list_set.add(item_key)\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 item_res.append(f\"{item_key}:{item_score}\")\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 if len(item_list_set) &gt;= args.topN:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 break\n\u00a0 \u00a0 \u00a0 \u00a0 print(f\"{batch_uuid[k]}\\t{','.join([str(j) for j in list(item_res)])}\")\n\ndef recall_std():\n\u00a0 \u00a0 batch_uuid = []\n\u00a0 \u00a0 batch_emb = []\n\u00a0 \u00a0 cur = 0\n\u00a0 \u00a0 for row in sys.stdin:\n\u00a0 \u00a0 \u00a0 \u00a0 cells = row.strip().split(\"\\t\")\n\u00a0 \u00a0 \u00a0 \u00a0 if cells is not None and len(cells) == 2:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 uuid, emb = cells\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 emb = [float(i) for i in emb.split(\",\")]\n\u00a0 \u00a0 \u00a0 \u00a0 else:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 continue\n\u00a0 \u00a0 \u00a0 \u00a0 batch_uuid.append(uuid)\n\u00a0 \u00a0 \u00a0 \u00a0 batch_emb.append(emb)\n\u00a0 \u00a0 \u00a0 \u00a0 cur += 1\n\u00a0 \u00a0 \u00a0 \u00a0 if cur &gt; 0 and cur % args.batch_size == 0:\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 batch_emb = np.array(batch_emb).astype(np.float32)\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 batch_emb = batch_emb.reshape([-1, args.emb_dim])\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 D, I = index.search(batch_emb, args.topN)\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 batch_recall(batch_uuid, D, I)\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 batch_uuid, batch_emb = [], []\n\u00a0 \u00a0 if cur &gt; 0 and cur % args.batch_size &gt; 0:\n\u00a0 \u00a0 \u00a0 \u00a0 batch_emb = np.array(batch_emb).astype(np.float32)\n\u00a0 \u00a0 \u00a0 \u00a0 batch_emb = batch_emb.reshape([-1, args.emb_dim])\n\u00a0 \u00a0 \u00a0 \u00a0 D, I = index.search(batch_emb, args.topN)\n\u00a0 \u00a0 \u00a0 \u00a0 batch_recall(batch_uuid, D, I)\n\n\nif __name__ == \"__main__\":\n\u00a0 \u00a0 args = parser.parse_args()\n\u00a0 \u00a0 shell_dir = './'\n\u00a0 \u00a0 if os.path.exists(shell_dir): \u00a0# \u5207\u6362\u5230\u5f53\u524d\u76ee\u5f55\n\u00a0 \u00a0 \u00a0 \u00a0 os.chdir(shell_dir)\n\u00a0 \u00a0 \u00a0 \u00a0 sys.path.insert(0, './')\n\u00a0 \u00a0 idx_kv, item_emb = load_item_emb(args.item_emb)\n\u00a0 \u00a0 index = build_index(dim=args.emb_dim, emb=item_emb)\n\u00a0 \u00a0 recall_std()\n</code></pre></p> </li> <li> <p>hive sql     <pre><code>set hive.exec.script.allow.partial.consumption=true;\nset hive.exec.dynamici.partition=true;\nset hive.exec.dynamic.partition.mode=nonstrict;\nset yarn.nodemanager.vmem-check-enabled=false;\nset yarn.nodemanager.vmem-pmem-ratio=8;\nset io.sort.mb=10;\nset mapreduce.task.io.sort.factor=10;\nset mapred.max.split.size=15000000;\nset mapred.min.split.size.per.node=15000000;\nset mapred.min.split.size.per.rack=15000000;\nset mapred.task.timeout=18000000;\nset mapreduce.map.memory.mb=4096;\nset mapreduce.map.cpu.vcores=2;\nadd ARCHIVE env_py36_tf15.tar.gz;\nadd ARCHIVE recall.py;\nadd ARCHIVE item_embedding.csv;\ninsert overwrite table recall_tab partition(day, hid)\nselect uid, rec_res, 'active' as day, substr(md5(uid), 0, 1) as hid\n</code></pre></p> </li> </ul>"},{"location":"tools/","title":"\u5e38\u7528\u5de5\u5177","text":"<p>\u70b9\u51fb\u5de6\u4fa7\u76ee\u5f55\u6253\u5f00\u6587\u7ae0</p>"},{"location":"tools/anaconda/","title":"conda/pip","text":""},{"location":"tools/anaconda/#conda","title":"conda\u8d44\u6e90\u5305\u5730\u5740","text":"<p>https://repo.anaconda.com/archive/</p>"},{"location":"tools/anaconda/#conda_1","title":"\u8bbe\u7f6econda\u73af\u5883\u53d8\u91cf","text":"<pre><code># \u8bbe\u7f6eanaconda3\u73af\u5883\u914d\u7f6e\nexport ANACONDA_HOME=/root/pangu/env/anaconda3\nexport PATH=\"$ANACONDA_HOME/bin:$PATH\"\nalias python=\"$ANACONDA_HOME/bin/python\"\n</code></pre>"},{"location":"tools/anaconda/#conda_2","title":"conda\u865a\u62df\u73af\u5883\u76f8\u5173\u95ee\u9898","text":""},{"location":"tools/anaconda/#_1","title":"\u521b\u5efa\u865a\u62df\u73af\u5883","text":"<p>conda create -n env-py37-t15 python=3.7.6</p>"},{"location":"tools/anaconda/#_2","title":"\u5220\u9664\u865a\u62df\u73af\u5883","text":"<p>conda remove -n env-py37-t15 --all </p>"},{"location":"tools/anaconda/#pack","title":"\u5b89\u88c5pack\u5230\u865a\u62df\u73af\u5883","text":"<p>conda install -n env-py37-t15  tensorflow==1.15</p>"},{"location":"tools/anaconda/#_3","title":"\u5f00\u542f\u865a\u62df\u73af\u5883","text":"<p>conda activate env-py37-t15</p>"},{"location":"tools/anaconda/#_4","title":"\u5173\u95ed\u865a\u62df\u73af\u5883","text":"<p>conda deactivate</p>"},{"location":"tools/anaconda/#condapackage","title":"\u641c\u7d22conda\u53ef\u7528\u7684package","text":"<p>(base) ssdeMacBook-Pro:~ ss$ anaconda search -t conda xgboost</p>"},{"location":"tools/anaconda/#condapackage_1","title":"conda\u5b89\u88c5package","text":"<p>(base) ssdeMacBook-Pro:~ ss$ conda install -c anaconda py-xgboost</p>"},{"location":"tools/anaconda/#conda_3","title":"conda \u6307\u5b9a\u901a\u9053\u641c\u7d22\u5b89\u88c5\u5305\u7248\u672c","text":"<p>conda search -c conda-forge gym conda install -n env-py37-t15 -c conda-forge gym</p>"},{"location":"tools/anaconda/#pip","title":"pip","text":""},{"location":"tools/anaconda/#piptimeout","title":"pip\u8bbe\u7f6e\u4e0b\u8f7dtimeout","text":"<p>pip --default-timeout=1000 install pandas</p>"},{"location":"tools/anaconda/#_5","title":"\u8bbe\u7f6e\u6e05\u534e\u6e90","text":"<pre><code>conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/\nconda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/\nconda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/pytorch/\nconda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/\nconda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/menpo/\nconda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/bioconda/\nconda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/msys2/\nconda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/peterjc123/\nconda config --set show_channel_urls yes\n</code></pre>"},{"location":"tools/anaconda/#_6","title":"\u8bbe\u7f6e\u963f\u91cc\u4e91","text":"<pre><code>pip config set global.index-url https://mirrors.aliyun.com/pypi/simple/\n</code></pre>"},{"location":"tools/git/","title":"Git\u547d\u4ee4","text":""},{"location":"tools/git/#1","title":"1. \u5220\u9664\u5206\u652f","text":"<ul> <li>\u5220\u9664\u672c\u5730\u5206\u652f     <pre><code>git branch -d localBranchName\n</code></pre></li> <li>\u5220\u9664\u8fdc\u7a0b\u5206\u652f     <pre><code>git push origin --delete   remotes/origin/remoteBranchName\n</code></pre></li> </ul>"},{"location":"tools/git/#2","title":"2. \u4fdd\u5b58\u7528\u6237\u540d\u5bc6\u7801","text":"<ul> <li>\u8bbe\u7f6e\u8bb0\u4f4f\u5bc6\u7801\uff08\u9ed8\u8ba415\u5206\u949f\uff09\uff1a     <pre><code>git config --global credential.helper cache\ngit config credential.helper cache\n</code></pre></li> <li>\u5982\u679c\u60f3\u81ea\u5df1\u8bbe\u7f6e\u65f6\u95f4\uff0c\u53ef\u4ee5\u8fd9\u6837\u505a\uff1a     <pre><code>git config credential.helper 'cache --timeout=3600' #\u8fd9\u6837\u5c31\u8bbe\u7f6e\u4e00\u4e2a\u5c0f\u65f6\u4e4b\u540e\u5931\u6548\n</code></pre></li> <li>\u957f\u671f\u5b58\u50a8\u5bc6\u7801\uff1a     <pre><code>git config --global credential.helper store\ngit config credential.helper store\n</code></pre></li> </ul>"},{"location":"tools/git/#3","title":"3. \u672c\u5730\u4ee3\u7801\u56de\u6eda","text":"<ul> <li>\u672c\u5730\u56de\u6eda     <pre><code>git reset --hard 17336756 &lt;commit_id&gt;\n</code></pre></li> </ul>"},{"location":"tools/git/#4","title":"4. \u67e5\u770b\u4ee3\u7801\u5dee\u5f02","text":"<ul> <li>\u663e\u793a\u51fabranch1\u548cbranch2\u4e2d\u5dee\u5f02\u7684\u90e8\u5206     <pre><code>git diff branch1 branch2 --stat\n</code></pre></li> <li>\u663e\u793a\u6307\u5b9a\u6587\u4ef6\u7684\u8be6\u7ec6\u5dee\u5f02     <pre><code>git diff branch1 branch2 \u5177\u4f53\u6587\u4ef6\u8def\u5f84\n</code></pre></li> <li>\u663e\u793a\u51fa\u6240\u6709\u6709\u5dee\u5f02\u7684\u6587\u4ef6\u7684\u8be6\u7ec6\u5dee\u5f02     <pre><code>git diff branch1 branch2\n</code></pre></li> <li>\u67e5\u770bbranch1\u5206\u652f\u6709\uff0c\u800cbranch2\u4e2d\u6ca1\u6709\u7684log     <pre><code>git log branch1 ^branch2\n</code></pre></li> <li>\u67e5\u770bbranch2\u4e2d\u6bd4branch1\u4e2d\u591a\u63d0\u4ea4\u4e86\u54ea\u4e9b\u5185\u5bb9     <pre><code>git log branch1..branch2\n# \u6ce8\u610f\uff0c\u5217\u51fa\u6765\u7684\u662f\u4e24\u4e2a\u70b9\u540e\u8fb9\uff08\u6b64\u5904\u5373dev\uff09\u591a\u63d0\u4ea4\u7684\u5185\u5bb9\u3002\n</code></pre></li> <li>\u4e0d\u77e5\u9053\u8c01\u63d0\u4ea4\u7684\u591a\u8c01\u63d0\u4ea4\u7684\u5c11\uff0c\u5355\u7eaf\u60f3\u77e5\u9053\u6709\u4ec0\u4e48\u4e0d\u4e00\u6837     <pre><code>git log branch1...branch2\n</code></pre></li> <li>\u5728\u4e0a\u8ff0\u60c5\u51b5\u4e0b\uff0c\u5728\u663e\u793a\u51fa\u6bcf\u4e2a\u63d0\u4ea4\u662f\u5728\u54ea\u4e2a\u5206\u652f\u4e0a     <pre><code>git log -lefg-right branch1...branch2\n# \u6ce8\u610f commit \u540e\u9762\u7684\u7bad\u5934\uff0c\u6839\u636e\u6211\u4eec\u5728 \u2013left-right branch1\u2026branch2 \u7684\u987a\u5e8f\uff0c\u5de6\u7bad\u5934 &lt; \u8868\u793a\u662f branch1 \u7684\uff0c\u53f3\u7bad\u5934 &gt; \u8868\u793a\u662fbranch2\u7684\u3002\n</code></pre></li> </ul>"},{"location":"tools/git/#5-tag","title":"5. tag\u7528\u6cd5","text":""},{"location":"tools/git/#51","title":"5.1 \u521b\u5efa\u6807\u7b7e","text":"<ul> <li>\u9644\u6ce8\u6807\u7b7e<ul> <li>git tag -a &lt;tagname&gt; -m \\&lt;commit&gt; </li> <li>\u6700\u7b80\u5355\u7684\u65b9\u5f0f\u662f\u5f53\u4f60\u5728\u8fd0\u884c tag \u547d\u4ee4\u65f6\u6307\u5b9a -a \u9009\u9879</li> <li>\u6848\u4f8b\uff1a     <pre><code>$ git tag -a v1.4 -m \"my version 1.4\"\n$ git tag\nv0.1\nv1.3\nv1.4\n</code></pre></li> </ul> </li> <li>\u8f7b\u91cf\u6807\u7b7e<ul> <li>git tag &lt;tagname&gt; -m \\&lt;commit&gt; </li> <li>\u8f7b\u91cf\u6807\u7b7e\u672c\u8d28\u4e0a\u662f\u5c06\u63d0\u4ea4\u6821\u9a8c\u548c\u5b58\u50a8\u5230\u4e00\u4e2a\u6587\u4ef6\u4e2d\u2014\u2014\u6ca1\u6709\u4fdd\u5b58\u4efb\u4f55\u5176\u4ed6\u4fe1\u606f\u3002 \u521b\u5efa\u8f7b\u91cf\u6807\u7b7e\uff0c\u4e0d\u9700\u8981\u4f7f\u7528 -a\u3001-s \u6216 -m \u9009\u9879\uff0c\u53ea\u9700\u8981\u63d0\u4f9b\u6807\u7b7e\u540d\u5b57</li> <li>\u6848\u4f8b\uff1a     <pre><code>$ git tag v1.4-lw\n$ git tag\nv0.1\nv1.3\nv1.4\nv1.4-lw\nv1.5\n</code></pre></li> </ul> </li> <li>\u6807\u7b7ediff<ul> <li>git show &lt;tagname&gt;</li> <li>\u5982\u679c\u5728\u6807\u7b7e\u4e0a\u8fd0\u884c git show\uff0c\u4f60\u4e0d\u4f1a\u770b\u5230\u989d\u5916\u7684\u6807\u7b7e\u4fe1\u606f\u3002 \u547d\u4ee4\u53ea\u4f1a\u663e\u793a\u51fa\u63d0\u4ea4\u4fe1\u606f\uff1a</li> <li>\u6848\u4f8b\uff1a     <pre><code>$ git show v1.4-lw\ncommit ca82a6dff817ec66f44342007202690a93763949\nDate:   Mon Mar 17 21:52:11 2008 -0700\n    changed the version number\n</code></pre></li> </ul> </li> </ul>"},{"location":"tools/git/#52","title":"5.2 \u5171\u4eab\u6807\u7b7e","text":"<ul> <li>git push origin &lt;tagname&gt;<ul> <li>\u5728\u521b\u5efa\u5b8c\u6807\u7b7e\u540e\u4f60\u5fc5\u987b\u663e\u5f0f\u5730\u63a8\u9001\u6807\u7b7e\u5230\u5171\u4eab\u670d\u52a1\u5668\u4e0a\u3002</li> <li>\u6848\u4f8b\uff1a     <pre><code>$ git push origin v1.5\nCounting objects: 14, done.\nDelta compression using up to 8 threads.\nCompressing objects: 100% (12/12), done.\nWriting objects: 100% (14/14), 2.05 KiB | 0 bytes/s, done.\nTotal 14 (delta 3), reused 0 (delta 0)\nTo git@github.com:schacon/simplegit.git\n* [new tag]         v1.5 -&gt; v1.5\n</code></pre></li> </ul> </li> <li>git push origin --tags<ul> <li>\u5982\u679c\u60f3\u8981\u4e00\u6b21\u6027\u63a8\u9001\u5f88\u591a\u6807\u7b7e\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u5e26\u6709 --tags \u9009\u9879\u7684 git push \u547d\u4ee4\u3002 \u8fd9\u5c06\u4f1a\u628a\u6240\u6709\u4e0d\u5728\u8fdc\u7a0b\u4ed3\u5e93\u670d\u52a1\u5668\u4e0a\u7684\u6807\u7b7e\u5168\u90e8\u4f20\u9001\u5230\u90a3\u91cc\u3002</li> <li>\u6848\u4f8b\uff1a     <pre><code>$ git push origin --tags\nCounting objects: 1, done.\nWriting objects: 100% (1/1), 160 bytes | 0 bytes/s, done.\nTotal 1 (delta 0), reused 0 (delta 0)\nTo git@github.com:schacon/simplegit.git\n* [new tag]         v1.4 -&gt; v1.4\n* [new tag]         v1.4-lw -&gt; v1.4-lw\n</code></pre></li> </ul> </li> </ul>"},{"location":"tools/git/#53","title":"5.3 \u5220\u9664\u6807\u7b7e","text":"<ul> <li>git tag -d &lt;tagname&gt;<ul> <li>\u8981\u5220\u9664\u6389\u4f60\u672c\u5730\u4ed3\u5e93\u4e0a\u7684\u6807\u7b7e.</li> <li>\u6848\u4f8b\uff1a\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5220\u9664\u4e00\u4e2a\u8f7b\u91cf\u6807\u7b7e     <pre><code>$ git tag -d v1.4-lw\nDeleted tag 'v1.4-lw' (was e7d5add)\n</code></pre></li> </ul> </li> <li>git push origin --delete <ul> <li>\u8981\u5220\u9664\u6389\u4f60\u8fdc\u7a0b\u4ed3\u5e93\u4e0a\u7684\u6807\u7b7e</li> </ul>"},{"location":"tools/git/#54","title":"5.4 \u5220\u9664\u6807\u7b7e","text":"<ul> <li>git checkout &lt;tagname&gt;<ul> <li>\u867d\u7136\u8fd9\u4f1a\u4f7f\u4f60\u7684\u4ed3\u5e93\u5904\u4e8e\u201c\u5206\u79bb\u5934\u6307\u9488\uff08detached HEAD\uff09\u201d\u7684\u72b6\u6001\u2014\u2014\u8fd9\u4e2a\u72b6\u6001\u6709\u4e9b\u4e0d\u597d\u7684\u526f\u4f5c\u7528\uff1a</li> <li>\u6848\u4f8b\uff1a     <pre><code>$ git checkout 2.0.0\nNote: checking out '2.0.0'.\n\nYou are in 'detached HEAD' state. You can look around, make experimental\nchanges and commit them, and you can discard any commits you make in this\nstate without impacting any branches by performing another checkout.\n\nIf you want to create a new branch to retain commits you create, you may\ndo so (now or later) by using -b with the checkout command again. Example:\n\ngit checkout -b &lt;new-branch&gt;\n\nHEAD is now at 99ada87... Merge pull request #89 from schacon/appendix-final\n\n$ git checkout 2.0-beta-0.1\nPrevious HEAD position was 99ada87... Merge pull request #89 from schacon/appendix-final\nHEAD is now at df3f601... add atlas.json and cover image\n</code></pre></li> <li>\u5728\u201c\u5206\u79bb\u5934\u6307\u9488\u201d\u72b6\u6001\u4e0b\uff0c\u5982\u679c\u4f60\u505a\u4e86\u67d0\u4e9b\u66f4\u6539\u7136\u540e\u63d0\u4ea4\u5b83\u4eec\uff0c\u6807\u7b7e\u4e0d\u4f1a\u53d1\u751f\u53d8\u5316\uff0c \u4f46\u4f60\u7684\u65b0\u63d0\u4ea4\u5c06\u4e0d\u5c5e\u4e8e\u4efb\u4f55\u5206\u652f\uff0c\u5e76\u4e14\u5c06\u65e0\u6cd5\u8bbf\u95ee\uff0c\u9664\u975e\u901a\u8fc7\u786e\u5207\u7684\u63d0\u4ea4\u54c8\u5e0c\u624d\u80fd\u8bbf\u95ee\u3002 \u56e0\u6b64\uff0c\u5982\u679c\u4f60\u9700\u8981\u8fdb\u884c\u66f4\u6539\uff0c\u6bd4\u5982\u4f60\u8981\u4fee\u590d\u65e7\u7248\u672c\u4e2d\u7684\u9519\u8bef\uff0c\u90a3\u4e48\u901a\u5e38\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u65b0\u5206\u652f\u3002</li> </ul> </li> <li>git checkout -b &lt;branchname&gt; &lt;tagname&gt;<ul> <li>\u5982\u679c\u5728\u8fd9\u4e4b\u540e\u53c8\u8fdb\u884c\u4e86\u4e00\u6b21\u63d0\u4ea4\uff0cversion2 \u5206\u652f\u5c31\u4f1a\u56e0\u4e3a\u8fd9\u4e2a\u6539\u52a8\u5411\u524d\u79fb\u52a8\uff0c \u6b64\u65f6\u5b83\u5c31\u4f1a\u548c v2.0.0 \u6807\u7b7e\u7a0d\u5fae\u6709\u4e9b\u4e0d\u540c\uff0c\u8fd9\u65f6\u5c31\u8981\u5f53\u5fc3\u4e86\u3002</li> </ul> </li> </ul>"},{"location":"tools/markdown/","title":"markdown","text":""},{"location":"tools/markdown/#_1","title":"\u6570\u5b66\u8868\u8fbe\u5f0f","text":"<ul> <li>\u6548\u679c\uff1a$ f(x) = a x^2 + bx +c $</li> <li>\u4ee3\u7801:     <pre><code>$ f(x) = a x^2 + bx +c $\n</code></pre></li> <li>${}$ \u8868\u793a\u516c\u5f0f\u7684\u4ee3\u7801\u5f00\u59cb\u548c\u7ed3\u675f\u3002</li> <li>\\^ \u8868\u793a\u4e0a\u6807\uff1b_ \u8868\u793a\u4e0b\u6807\u3002 </li> <li>{} \u591a\u4e2a\u5b57\u7b26\u53ef\u4ee5\u62ec\u8d77\u6765\uff0c\u8868\u793a\u4e00\u4e2a\u6574\u4f53\u4ee3\u7801\u4e0a\u6807\u6216\u8005\u4e0b\u6807\u3002</li> </ul>"},{"location":"tools/markdown/#_2","title":"\u8868\u683c\u5236\u4f5c","text":"<pre><code>| Column1 | Column2  |  Column3 |\n|:--------| :---------:|--------:|\n| centered \u6587\u672c\u5c45\u5de6 | right-aligned \u6587\u672c\u5c45\u4e2d |right-aligned \u6587\u672c\u5c45\u53f3|\n</code></pre>"},{"location":"tools/maven/","title":"maven","text":""},{"location":"tools/maven/#mvn","title":"\u8bbe\u7f6emvn\u73af\u5883\u53d8\u91cf","text":"<pre><code>export MAVEN_HOME=/usr/local/maven\nexport PATH=$PATH:$MAVEN_HOME/bin\n</code></pre>"},{"location":"tools/maven/#mvm-lib","title":"mvm \u4f9d\u8d56\u6253\u6210lib","text":"<pre><code> &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;net.alchim31.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;scala-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.2&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;eclipse-add-source&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;add-source&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;scala-compile-first&lt;/id&gt;\n                        &lt;phase&gt;process-resources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;scala-test-compile-first&lt;/id&gt;\n                        &lt;phase&gt;process-test-resources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;testCompile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;attach-scaladocs&lt;/id&gt;\n                        &lt;phase&gt;verify&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;doc-jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;scalaVersion&gt;${scala.version}&lt;/scalaVersion&gt;\n                    &lt;recompileMode&gt;incremental&lt;/recompileMode&gt;\n                    &lt;useZincServer&gt;true&lt;/useZincServer&gt;\n                    &lt;args&gt;\n                        &lt;arg&gt;-unchecked&lt;/arg&gt;\n                        &lt;arg&gt;-deprecation&lt;/arg&gt;\n                        &lt;arg&gt;-feature&lt;/arg&gt;\n                    &lt;/args&gt; &lt;!--&lt;jvmArgs&gt;--&gt; &lt;!--&lt;jvmArg&gt;-Xms1024m&lt;/jvmArg&gt;--&gt; &lt;!--&lt;jvmArg&gt;-Xmx1024m&lt;/jvmArg&gt;--&gt; &lt;!--&lt;jvmArg&gt;-XX:PermSize=${PermGen}&lt;/jvmArg&gt;--&gt; &lt;!--&lt;jvmArg&gt;-XX:MaxPermSize=${MaxPermGen}&lt;/jvmArg&gt;--&gt; &lt;!--&lt;jvmArg&gt;-XX:ReservedCodeCacheSize=${CodeCacheSize}&lt;/jvmArg&gt;--&gt; &lt;!--&lt;/jvmArgs&gt;--&gt;\n                    &lt;javacArgs&gt;\n                        &lt;javacArg&gt;-source&lt;/javacArg&gt;\n                        &lt;javacArg&gt;${java.version}&lt;/javacArg&gt;\n                        &lt;javacArg&gt;-target&lt;/javacArg&gt;\n                        &lt;javacArg&gt;${java.version}&lt;/javacArg&gt;\n                        &lt;javacArg&gt;-Xlint:all,-serial,-path&lt;/javacArg&gt;\n                    &lt;/javacArgs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-dependencies&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\n                            &lt;includeScope&gt;runtime&lt;/includeScope&gt;\n                            &lt;stripVersion&gt;true&lt;/stripVersion&gt;\n                            &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\n                            &lt;overWriteSnapshots&gt;true&lt;/overWriteSnapshots&gt;\n                            &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\n                            &lt;excludeTransitive&gt;true&lt;/excludeTransitive&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>"},{"location":"tools/mkdocs/","title":"Mkdocs","text":"<p>ss@ssdeMacBook-Pro tkdo-site % mkdocs serve INFO     -  Building documentation... 1) ERROR    -  Config value: 'theme'. Error: Unrecognised theme name: 'material'. The available installed themes are: mkdocs, readthedocs 2) ERROR    -  Config value: 'markdown_extensions'. Error: Failed to load extension 'pymdownx.arithmatex'.             ModuleNotFoundError: No module named 'pymdownx' 3) ERROR    -  Config value: 'plugins'. Error: The \"tags\" plugin is not installed</p> <p>1) pip install  mkdocs-material 2) pin3 install pymdown-extensions 3) pip3 install mkdocs-git-revision-date-plugin  &amp;&amp; pip install mkdocs-minify-plugin</p>"},{"location":"tools/nvim/","title":"nvim\u5de5\u5177","text":""},{"location":"tools/nvim/#nerdtreetoggle","title":"NERDTreeToggle","text":"<ul> <li>\u6253\u5f00\u76ee\u5f55\u6811</li> </ul>"},{"location":"tools/nvim/#_1","title":"\u53d8\u91cf\u91cd\u547d\u540d","text":"<ul> <li>rn\uff1a\u5728vim\u547d\u4ee4\u6a21\u5f0f\u4e0b\uff0c\u53d8\u91cf\u91cd\u540d\u3002</li> </ul>"},{"location":"tools/nvim/#_2","title":"\u4ee3\u7801\u683c\u5f0f\u5316","text":"<ul> <li>f\uff1a\u5728\u547d\u4ee4\u6a21\u5f0f\u4e0b\uff0c\u5bf9\u4ee3\u7801\u8fdb\u884c\u683c\u5f0f\u5316\u3002</li> </ul>"},{"location":"tools/nvim/#gvimspector","title":"Gvimspector","text":"<ul> <li>\u751f\u6210debug\u6587\u4ef6</li> </ul>"},{"location":"tools/nvim/#debug","title":"debug\u5feb\u6377\u952e","text":"<ul> <li> <p>vscode</p> Key Mapping Function <code>F5</code> <code>&lt;Plug&gt;VimspectorContinue</code> When debugging, continue. Otherwise start debugging. <code>Shift F5</code> <code>&lt;Plug&gt;VimspectorStop</code> Stop debugging. <code>Ctrl Shift F5</code> <code>&lt;Plug&gt;VimspectorRestart</code> Restart debugging with the same configuration. <code>F6</code> <code>&lt;Plug&gt;VimspectorPause</code> Pause debuggee. <code>F8</code> <code>&lt;Plug&gt;VimspectorJumpToNextBreakpoint</code> Jump to next breakpoint in the current file. <code>Shift F8</code> <code>&lt;Plug&gt;VimspectorJumpToPreviousBreakpoint</code> Jump to previous breakpoint in the current file. <code>F9</code> <code>&lt;Plug&gt;VimspectorToggleBreakpoint</code> Toggle line breakpoint on the current line. <code>Shift F9</code> <code>&lt;Plug&gt;VimspectorAddFunctionBreakpoint</code> Add a function breakpoint for the expression under cursor <code>F10</code> <code>&lt;Plug&gt;VimspectorStepOver</code> Step Over <code>F11</code> <code>&lt;Plug&gt;VimspectorStepInto</code> Step Into <code>Shift F11</code> <code>&lt;Plug&gt;VimspectorStepOut</code> Step out of current function scope </li> </ul>"},{"location":"tools/search/","title":"\u9ad8\u6548\u641c\u7d22","text":""},{"location":"tools/search/#1","title":"1. \u5e38\u89c1\u641c\u7d22\u5f15\u64ce","text":"<ul> <li>\u63cf\u8ff0\uff1a\u767e\u5ea6\u3001\u8c37\u6b4c\u7b49\u3002</li> </ul>"},{"location":"tools/search/#2","title":"2. \u641c\u7d22\u7b26\u53f7\u4f7f\u7528","text":"\u7b26\u53f7 \u683c\u5f0f \u641c\u7d22\u610f\u4e49 \u51cf\u53f7- \u5173\u952e\u8bcd1-\u5173\u952e\u8bcd2 \u5728\u5173\u952e\u8bcd1\u4e2d\u6392\u9664\u5173\u952e\u8bcd2\u7684\u7ed3\u679c \u52a0\u53f7+ \u5173\u952e\u8bcd1+\u5173\u952e\u8bcd2 \u5728\u5173\u952e\u8bcd1\u548c\u5173\u952e\u8bcd2\u540c\u65f6\u51fa\u73b0\u7684\u7ed3\u679c \u7ad6\u7ebf| \u5173\u952e\u8bcd|\u5173\u952e\u8bcd2 \u5173\u952e\u8bcd1\u6216\u5173\u952e\u8bcd2\u51fa\u73b0\u7684\u7ed3\u679c"},{"location":"tools/search/#3","title":"3. \u5173\u952e\u5b57\u4f7f\u7528","text":"\u547d\u4ee4 \u683c\u5f0f \u641c\u7d22\u610f\u4e49 intitle intitle:\u5173\u952e\u5b57 \u641c\u7d22\u6807\u9898\u4e2d\u5305\u542b\u5173\u952e\u8bcd\u7684\u7f51\u9875,:\u662f\u82f1\u6587\u5b57\u7b26 intext intext:\u5173\u952e\u5b57 \u641c\u7d22\u5168\u6587\u4e2d\u542b\u5173\u952e\u8bcd\u7684\u7f51\u9875,:\u662f\u82f1\u6587\u5b57\u7b26 inurl inurl\u5173\u952e\u5b57 \u641c\u7d22url\u7f51\u5740\u4e2d\u542b\u5173\u952e\u5b57\u7684\u7f51\u9875,:\u662f\u82f1\u6587\u5b57\u7b26"},{"location":"tools/search/#4","title":"4. \u7f51\u7ad9\u540e\u7f00\u610f\u4e49","text":"\u7f51\u7ad9\u540e\u7f00 \u4ee3\u8868\u610f\u4e49 com \u5546\u4e1a\u516c\u53f8 gov \u653f\u5e9c\u673a\u6784 edu \u6559\u80b2\u673a\u6784 net \u7f51\u7edc\u670d\u52a1\u63d0\u4f9b org \u7ec4\u7ec7\u534f\u4f1a\u673a\u6784 int \u56fd\u9645\u7ec4\u7ec7 co \u793e\u533a\u6216\u516c\u53f8 info \u4fe1\u606f\u670d\u52a1\u63d0\u4f9b mil \u519b\u4e8b\u673a\u6784"},{"location":"tools/search/#5","title":"5. \u65f6\u95f4\u9650\u5b9a","text":"<p>\u7814\u7a76\u62a5\u544a  2020..2022</p>"},{"location":"tools/search/#6","title":"6. \u6587\u4ef6\u7c7b\u578b\u9650\u5b9a","text":"<p>filetype:pdf \u672c\u79d1\u4e13\u4e1a</p> filetype\u547d\u4ee4 \u652f\u6301\u6587\u4ef6\u683c\u5f0f\u7c7b\u578b pdf pdf\u6587\u4ef6 doc word\u6587\u6863 ppt powerpoint\u5e7b\u706f\u7247 xls excel\u8868\u683c all \u641c\u7d22\u4ee5\u4e0a\u6240\u6709\u683c\u5f0f"},{"location":"tools/search/#7","title":"7. \u6307\u5b9a\u7f51\u7ad9\u641c\u7d22","text":"<p>\u57f9\u517b\u65b9\u6848 site:jwc.fudan.edu.cn</p>"},{"location":"tools/vscode/","title":"vscode","text":""},{"location":"tools/vscode/#vscode","title":"vscode\u670d\u52a1\u7248\u672c","text":"<ul> <li>https://vscode.dev/</li> </ul>"},{"location":"tools/vscode/#_1","title":"\u5e38\u7528\u76ae\u80a4\u63d2\u4ef6","text":"<ul> <li>Noctis</li> <li>Snazzy Operator</li> </ul>"},{"location":"tools/vscode/#python-vscode","title":"\u914d\u7f6epython-vscode","text":"<ul> <li>setting.json <pre><code>{\n\"python.pythonPath\": \"/path/to/python\"\n}\n</code></pre></li> <li> <p>\u914d\u7f6epython\u89e3\u91ca\u5668</p> <p>\u5728\u547d\u4ee4\u9762\u677f\u4e2d\uff0c\u8f93\u5165\u201cPython: Select Interpreter\u201d\u5e76\u9009\u62e9\u8be5\u547d\u4ee4\u3002</p> </li> <li> <p>launch.json <pre><code>{\n    // Use IntelliSense to learn about possible attributes.\n    // Hover to view descriptions of existing attributes.\n    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387\n    \"version\": \"0.2.0\",\n    \"configurations\": [\n        {\n            \"name\": \"Python: Anaconda (colossal)\",\n            \"type\": \"python\",\n            \"request\": \"launch\",\n            \"pythonPath\": \"/pangu/env/anaconda3/envs/colossal/bin/python\",\n            \"program\": \"${file}\",\n            \"console\": \"integratedTerminal\",\n            \"env\":{},\n            \"cwd\":\"${workspaceFolder}\"\n        }\n    ]\n}\n\n{\n    \"version\": \"0.2.0\",\n    \"configurations\": [\n        {\n            \"name\": \"Python:xm\",\n            \"type\": \"debugpy\",\n            \"request\": \"launch\",\n            \"program\": \"${file}\",\n            \"console\": \"integratedTerminal\",\n            \"env\": {\n                \"HERMES_HOME\": \"/root/data/workspace/xm\",\n                \"xm_HOME\": \"/root/data/workspace/xm\"\n            },\n            \"justMyCode\": false,\n            \"cwd\": \"${workspaceFolder}\",\n            \"python\": \"/data/env/miniconda3/envs/env_py39_dev/bin/python\",\n            \"args\": [\n                \"6000\"\n            ]\n        },\n        {\n            \"name\": \"Python: Pytest\",\n            \"type\": \"debugpy\",\n            \"request\": \"launch\",\n            \"module\": \"pytest\",\n            \"console\": \"integratedTerminal\",\n            \"env\": {\n                \"HERMES_HOME\": \"/root/data/workspace/xm\",\n                \"xm_HOME\": \"/root/data/workspace/xm\"\n            },\n            \"justMyCode\": false,\n            \"python\": \"/data/env/miniconda3/envs/env_py39_dev/bin/python\",\n            \"args\": [\n                \"-s\"\n            ]\n        }\n    ]\n}\n</code></pre></p> </li> </ul>"},{"location":"tools/vscode/#settingsjson","title":"settings.json","text":"<pre><code>{\n    \"editor.tabSize\": 2,\n    \"editor.wordWrap\": \"on\",\n    \"editor.wordWrapColumn\": 80,\n    \"editor.fontFamily\": \"Consolas\",\n    \"editor.fontWeight\": \"400\",\n    \"editor.fontSize\": 20,\n    \"editor.lineHeight\": 22,\n    \"editor.rulers\": [\n        80\n    ],\n    \"files.autoSave\": \"afterDelay\",\n    \"files.autoSaveDelay\": 1000,\n    \"git.confirmSync\": false,\n    \"workbench.tree.indent\": 20,\n    \"workbench.fontsize\": 40,\n    \"window.zoomLevel\": 0\n}\n</code></pre>"},{"location":"tools/vscode/#java-vscode","title":"\u914d\u7f6eJava-Vscode","text":"<ul> <li> <p>debug\u63d2\u4ef6 <pre><code>Java Extension Pack\n</code></pre></p> </li> <li> <p>log cannot be resolved <pre><code>\u2460 install: Lombok Annotations Support for VS Code\n\u2461 relead : view -&gt; command platten -&gt; Java\uff1aclean java language server workspace\n</code></pre></p> </li> <li> <p>launsh.json <pre><code>{\n    \"version\": \"0.2.0\",\n    \"configurations\": [\n        {\n            \"type\": \"java\",\n            \"name\": \"CodeLens (Launch) - App\",\n            \"request\": \"launch\",\n            \"mainClass\": \"org.example.App\",\n            \"projectName\": \"tk-cookie\"\n        }\n    ]\n}\n</code></pre></p> </li> <li>settings.json <pre><code>{\n\"java.home\": \"/usr/lib/jvm/java-1.8.0\", \n\"maven.executable.path\": \"/env/apache-maven-3.8.6/bin/mvn\",\n// \u914d\u7f6emaven\u7684settings.xml\n\"maven.settingsFile\": \"/env/apache-maven-3.8.6/conf/settings.xml\",\n\"java.configuration.maven.userSettings\": \"/env/apache-maven-3.8.6/conf/settings.xml\",\n\"maven.terminal.customEnv\": [\n    {\n      \"environmentVariable\": \"JAVA_HOME\",\n      \"value\": \"/usr/lib/jvm/java-1.8.0\"\n    }\n  ],\n\"java.debug.settings.forceBuildBeforeLaunch\": false,\n\"extensions.autoUpdate\": false,\n\"java.dependency.packagePresentation\": \"hierarchical\",\n\"java.dependency.syncWithFolderExplorer\": true,\n\"maven.view\": \"flat\"\n}\n</code></pre></li> <li>task.json <pre><code>{\n    \"version\": \"2.0.0\",\n    \"tasks\": [\n        {\n            \"label\": \"package\",\n            \"type\": \"shell\",\n            \"command\": \"mvn package\",\n            \"group\": \"build\"\n        },\n        {\n            \"label\": \"test\",\n            \"type\": \"shell\",\n            \"command\": \"mvn -B test\",\n            \"group\": \"test\"\n        }\n    ]\n}\n</code></pre></li> </ul>"},{"location":"tools/vscode/#vscodedebug","title":"vscode\u5728debug\u7684\u65f6\u5019\u65e0\u53cd\u5e94","text":"<ul> <li>vscode \u8fdb\u884cdebug\uff0c\u6ca1\u6709\u4efb\u4f55\u53cd\u6620\uff0c\u6bd4\u59823.6.1\u7684python\u73af\u5883\u5b89\u88c5vs\u5b89\u88c5\uff08python=2023\u5e74\u5c31\u6709\u95ee\u9898\uff0c\u5982\u679c202204\u5c31\u6ca1\u5565\u95ee\u9898\uff09IntelliSense (Pylance), Linting, Debugging</li> </ul>"},{"location":"tools/vscode/#vscode_1","title":"vscode \u5e38\u7528\u7684\u5feb\u6377\u952e","text":"<ul> <li>\u6298\u53e0\u76f8\u5173     \u5e38\u7528\u7684\u4e24\u7c7b\u573a\u666f(\u6ce8\u610f\u8981\u64cd\u4f5c\u7684\u8303\u56f4)\uff1a     \u8981\u64cd\u4f5c\u5149\u6807\u6240\u5728\u6587\u4ef6\u4e2d\u7684\u6240\u6709\u4ee3\u7801\u5757\uff1a     \u6298\u53e0\u6240\u6709 Ctrl+K+0     \u5c55\u5f00\u6240\u6709 Ctrl+K+J     \u4ec5\u4ec5\u64cd\u4f5c\u5149\u6807\u6240\u5904\u4ee3\u7801\u5757\u5185\u7684\u4ee3\u7801\uff1a     \u6298\u53e0 Ctrl+Shift+[     \u5c55\u5f00 Ctrl+Shift+]</li> <li>\u67e5\u627e\u76f8\u5173     \u67e5\u627e Ctrl+F     \u67e5\u627e\u66ff\u6362 Ctrl+H     \u6574\u4e2a\u6587\u4ef6\u5939\u4e2d\u67e5\u627e Ctrl+Shift+F</li> <li>\u663e\u793a\u76f8\u5173     \u5168\u5c4f F11     ZoomIn/ZoomOut Ctrl +/-     \u4fa7\u8fb9\u680f\u663e/\u9690 Ctrl+B     \u663e\u793a\u8d44\u6e90\u7ba1\u7406\u5668 Ctrl+Shift+E     \u663e\u793a\u641c\u7d22 Ctrl+Shift+F     \u663e\u793aGit Ctrl+Shift+G     \u663e\u793aDebug Ctrl+shift+D     \u663e\u793aOutput Ctrl+shift+U</li> <li>\u91cd\u6784\u4ee3\u7801     \u627e\u5230\u6240\u6709\u5f15\u7528\uff1aShift+F12     \u540c\u65f6\u4fee\u6539\u672c\u6587\u4ef6\u4e2d\u6240\u6709\u5339\u914d\u7684\uff1aCtrl+F12     \u91cd\u547d\u540d\uff1a\u6bd4\u5982\u8981\u6c42\u6539\u4e00\u4e2a\u65b9\u6cd5\uff0c\u53ef\u4ee5\u9009\u4e2d\u540e\u6309F12\uff0c\u8f93\u5165\u65b0\u7684\u540d\u5b57\uff0c\u56de\u8f66\uff0c\u53d1\u73b0\u6240\u6709\u6587\u4ef6\u90fd\u4fee\u6539\u4e86     \u67e5\u770bdiff\uff1a\u5728explorer\u91cc\u9009\u62e9\u6587\u4ef6\u53f3\u952eset file to compare\uff0c\u7136\u540e\u9700\u8981\u5bf9\u6bd4\u7684\u6587\u4ef6\u53f3\u952e\u9009\u62e9 compare with file_name_you_chose</li> </ul>"},{"location":"tools/vscode/#vscode-server-mac","title":"vscode server mac","text":"<pre><code>macOS v11.6.5\nInstalling latest from Homebrew.\n    brew install code-server\nBrew release has been installed.\nRun with:\n    code-server\n\ncurl -fsSL https://code-server.dev/install.sh | sh\n./code-server\nsudo systemctl enable --now code-server@$USER\n\u8bbf\u95eehttp://127.0.0.1:8080\u5373\u53ef\u3002\n\u767b\u9646\u5bc6\u7801\u8bb0\u5f55\u5728~/.config/code-server/config.yaml\n</code></pre>"},{"location":"tools/vscode/#cpp-debug","title":"cpp debug","text":"<ul> <li>launch.json <pre><code>{\n    //Use Intellisense to learn about possible attributes.\n    //Hover to view descriptions of existing attributes.\n    //For more information,visit: https://go.microsoft.com/fwlink/?linkid=830387\n    \"version\":\"0.2.0\",\n    \"configurations\":[\n        {\n            \"name\":\"main : makefile build and debug\",    //name\u968f\u4fbf\u53d6\uff0c\u7528\u6765\u5728\u5b9a\u4e49\u4e86\u591a\u4e2aconfiguration\u7684\u65f6\u5019\u533a\u5206\u6267\u884c\u7684\u662f\u54ea\u4e00\u5957\u53c2\u6570\u3002\n            \"type\":\"cppdbg\",        //\u8fd9\u4e2a\u4e00\u822c\u5c31\u4e0d\u8981\u6539\u4e86\uff0c\u8fd9\u4e2a\u6211\u8fd8\u4e0d\u4e86\u89e3\u5176\u4ed6\u7684\u53c2\u6570\u914d\u7f6e\n            \"request\":\"launch\",    //\u8fd9\u4e2a\u4e00\u822c\u5c31\u4e0d\u8981\u6539\u4e86\uff0c\u8fd9\u4e2a\u6211\u8fd8\u4e0d\u4e86\u89e3\u5176\u4ed6\u7684\u53c2\u6570\u914d\u7f6e\n            \"program\":\"${workspaceFolder}/build/main\",    //\u6267\u884c\u8fd9\u4e2a\u6587\u4ef6\uff0c\u76f8\u5f53\u4e8e\u547d\u4ee4\u884c\u4e2d\u8f93\u5165\u8fd9\u884c\n            \"args\":[],    //program\u7684\u53c2\u6570\uff0c\u76f8\u5f53\u4e8e\u547d\u4ee4\u884c\u4e2d\u5728program\u540e\u8f93\u5165\u7528\u7a7a\u683c\u9694\u5f00\u7684\u8fd9\u4e9b\u53c2\u6570\u3002\u6211\u8fd9\u91cc\u524d\u4e24\u4e2a\u662f\u6267\u884c\u6587\u4ef6\u81ea\u5e26\u7684\u53c2\u6570\u8bbe\u7f6e\uff0c\u540e\u4e09\u4e2a\u662f\u5c06\u6807\u51c6\u8f93\u51fa\u548c\u6807\u51c6\u9519\u8bef\u8f93\u5165\u5230\u6587\u4ef6out\u4e2d\u3002\n            \"stopAtEntry\":false,    //\u5927\u6982\u662f\u8868\u793a\u662f\u5426\u5728main\u51fd\u6570\u5904\u505c\u4e0b\uff0c\u7c7b\u4f3c\u5728main\u4e0a\u6253\u65ad\u70b9\u3002\n            \"cwd\":\"${workspaceFolder}\",    //\u8868\u793a\u5728\u54ea\u4e2a\u76ee\u5f55\u4e0b\u6267\u884cprogram\uff0c\u76f8\u5f53\u4e8e\u547d\u4ee4\u884c\u4e2d\u8f93\u5165cd \u8be5\u884c\n            \"environment\":[],          //\u4e0d\u77e5\u9053\u5e72\u561b\u7684\n            \"externalConsole\":false,    //\u5982\u679c\u4f7f\u7528\u63a7\u5236\u53f0\u5219\u9700\u8981\u6253\u5f00\u8fd9\u4e2a\u3002\u6211\u8fd9\u8fb9\u52a0\u4e86\u8fd9\u53e5\u540e\u4f1a\u6709\u4e0d\u77e5\u9053\u5728\u4f7f\u7528\u54ea\u4e2a\u63a7\u5236\u53f0\u7684\u95ee\u9898\uff0c\u53cd\u6b63\u4f1a\u5f88\u5947\u602a\uff0c\u5c31\u6ce8\u91ca\u6389\u4e86\u3002\n            \"MIMode\":\"gdb\",            //\u4f7f\u7528\u54ea\u4e2a\u5de5\u5177\u4f5c\u4e3a\u8c03\u8bd5\u5de5\u5177\uff0c\u53ea\u6709\u4e24\u4e2a\u9009\u62e9gdb\u6216lldb\u3002lldb\u6211\u4e0d\u4e86\u89e3\uff0c\u548c\u6211\u4e00\u6837\u4e0d\u4e86\u89e3\u7684\u4eba\u5c31\u5199gdb\u5427\u3002\n            \"setupCommands\":[    //gdb\u76f8\u5173\u7684\u4e00\u4e9b\u8bbe\u7f6e\u547d\u4ee4\uff0c\u76f8\u5f53\u4e8e\u5728\u6267\u884cgdb\u540e\uff0c\u5bf9gdb\u4e0b\u547d\u4ee4\u884c\u7684\u8bbe\u7f6e\u3002gdb\u76f8\u5173\u7684\u521d\u59cb\u5316\u914d\u7f6e\uff0c\u8981\u5728~/.gdbinit\u6587\u4ef6\u4e2d\u914d\u7f6e\uff0c\u6216\u8005\u5728\u8fd9\u914d\u7f6e\uff0c\u6211\u53e6\u5f00\u4e00\u7bc7\u6587\u7ae0\u5199\uff0c\u6d89\u53ca\u4e0b\u9762enable-pretty-printing\u7684\uff0c\u4e0d\u4e00\u5b9a\u5f00\u4e86\u5c31\u6709\u7528\u4e86\uff0c\u8fd8\u6d89\u53ca\u5176\u4ed6\u7684\u95ee\u9898\uff0c\u8fd9\u91cc\u5148\u653e\u4e2aTODO\u3002\n                {\n                    \"description\":\"for gdb start all print\",    //\u7ed9\u4eba\u770b\u7684\u63cf\u8ff0\n                    \"text\":\"-enable-pretty-printing\",        //gdb\u4e0b\u6267\u884c\u7684\u547d\u4ee4\uff0c\u542f\u7528\u6574\u9f50\u6253\u5370\uff0c\u5c31\u662f\u8ba9gdb\u6253\u5370\u7684\u4e1c\u897f\u597d\u770b\u4e00\u70b9\u3002\n                    \"ignoreFailures\":true        //\u5e76\u4e0d\u6e05\u695a\u8fd9\u4e2a\u5b9e\u9645\u7528\u6765\u5e72\u561b\n                }\n            ],\n            \"preLaunchTask\": \"Build\",\n            //\"preLaunchTask\":\"C/C++ g++ build active file\",    //\u6267\u884cprogram\u524d\u9700\u8981\u6267\u884c\u7684task\uff0c\u8fd9\u91cc\u9700\u8981\u548ctask.json\u4e2d\u8981\u6267\u884c\u7684task\u7684label\u4e00\u81f4\n            \"miDebuggerPath\": \"/usr/bin/gdb\" \n        }\n    ]\n}\n</code></pre></li> <li>tasks.json <pre><code>{   \n    \"version\": \"2.0.0\",\n    \"options\": {\n        \"cwd\": \"${workspaceFolder}/build\"\n    },\n    \"tasks\": [\n        {\n            \"type\": \"shell\",\n            \"label\": \"cmake\",\n            \"command\": \"cmake\",\n            \"args\": [\n                \"..\"\n            ]\n        },\n        {\n            \"label\": \"make\",\n            \"group\": {\n                \"kind\": \"build\",\n                \"isDefault\": true\n            },\n            \"command\": \"make\",\n            \"args\": [\n\n            ]\n        },\n        {\n            \"label\": \"Build\",\n            \"dependsOrder\": \"sequence\",\n            \"dependsOn\":[\n                \"cmake\",\n                \"make\"\n            ]\n        }\n    ]\n\n}\n</code></pre></li> </ul>"}]}